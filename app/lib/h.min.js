/*rx 7.4.3*/!function i(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";e("babel-polyfill");var n,o=e("./index.js"),i=(n=o)&&n.__esModule?n:{default:n};i.default.plugin(e("pouchdb-adapter-idb")),i.default.plugin(e("pouchdb-adapter-http")),window.RxDB=i.default},{"./index.js":8,"babel-polyfill":40,"pouchdb-adapter-http":515,"pouchdb-adapter-idb":516}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{default:e}}r.create=s;var a=function(){function r(e){var t=this;(0,n.default)(this,r),this.collection=e,this.subs=[],this.limit=100,this.buffer=[],this.counter=0,this.eventCounterMap=new WeakMap,this.subs.push(this.collection.$.subscribe(function(e){return t._handleChangeEvent(e)}))}return(0,o.default)(r,[{key:"_handleChangeEvent",value:function(e){for(this.counter++,this.buffer.push(e),this.eventCounterMap.set(e,this.counter);this.buffer.length>this.limit;)this.buffer.shift()}},{key:"getArrayIndexByPointer",value:function(e){var t=this.buffer[0],r=this.eventCounterMap.get(t);return e<r?null:e-r}},{key:"getFrom",value:function(e){var t=[],r=this.getArrayIndexByPointer(e);if(null===r)return null;for(;;){var n=this.buffer[r];if(r++,!n)return t;t.push(n)}}},{key:"runFrom",value:function(e,t){this.getFrom(e).forEach(function(e){return t(e)})}},{key:"reduceByLastOfDoc",value:function(e){var t={};return e.forEach(function(e){t[e.data.doc]=e}),Object.values(t)}},{key:"destroy",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}}]),r}();function s(e){return new a(e)}r.default={create:s}},{"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isRxSchema=r.isRxQuery=r.isRxDocument=r.isRxCollection=r.dbCount=r.isRxDatabase=r.plugin=r.checkAdapter=r.removeDatabase=r.create=void 0;var n=f(e("./rx-database")),o=f(e("./rx-schema")),i=f(e("./rx-document")),a=f(e("./rx-query")),s=f(e("./rx-collection")),u=f(e("./query-change-detector")),c=f(e("./plugin")),l=f(e("./pouch-db"));function f(e){return e&&e.__esModule?e:{default:e}}var d=r.create=n.default.create,h=r.removeDatabase=n.default.removeDatabase,p=r.checkAdapter=n.default.checkAdapter,b=r.plugin=c.default.addPlugin,y=r.isRxDatabase=n.default.isInstanceOf,v=r.dbCount=n.default.dbCount,_=r.isRxCollection=s.default.isInstanceOf,m=r.isRxDocument=i.default.isInstanceOf,g=r.isRxQuery=a.default.isInstanceOf,w=r.isRxSchema=o.default.isInstanceOf;r.default={create:d,removeDatabase:h,checkAdapter:p,plugin:b,dbCount:v,isRxDatabase:y,isRxCollection:_,isRxDocument:m,isRxQuery:g,isRxSchema:w,RxSchema:o.default,PouchDB:l.default,QueryChangeDetector:u.default,RxDatabase:n.default}},{"./plugin":12,"./pouch-db":26,"./query-change-detector":28,"./rx-collection":31,"./rx-database":32,"./rx-document":33,"./rx-query":35,"./rx-schema":36}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Crypter=void 0;var n=u(e("babel-runtime/helpers/classCallCheck")),o=u(e("babel-runtime/helpers/createClass"));r.create=l;var i=u(e("object-path")),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),s=u(e("./rx-error"));function u(e){return e&&e.__esModule?e:{default:e}}var c=r.Crypter=function(){function r(e,t){(0,n.default)(this,r),this._password=e,this._schema=t}return(0,o.default)(r,[{key:"_encryptValue",value:function(){throw s.default.pluginMissing("encryption")}},{key:"_decryptValue",value:function(){throw s.default.pluginMissing("encryption")}},{key:"encrypt",value:function(n){var o=this;return n=a.clone(n),this._password&&Object.keys(this._schema.encryptedPaths).map(function(e){var t=i.default.get(n,e),r=o._encryptValue(t);i.default.set(n,e,r)}),n}},{key:"decrypt",value:function(n){var o=this;return n=a.clone(n),this._password&&Object.keys(this._schema.encryptedPaths).map(function(e){var t=i.default.get(n,e),r=t?o._decryptValue(t):null/*custom*/;i.default.set(n,e,r)}),n}}]),r}();function l(e,t){return new c(e,t)}r.default={create:l,Crypter:c}},{"./rx-error":34,"./util":38,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"object-path":513}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=n(e("babel-runtime/regenerator")),a=n(e("babel-runtime/helpers/asyncToGenerator")),o=n(e("babel-runtime/helpers/classCallCheck")),i=n(e("babel-runtime/helpers/createClass"));r.create=_;var s=n(e("./pouch-db")),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),u=n(e("./rx-schema")),c=n(e("./crypter")),d=n(e("./rx-error")),h=n(e("./overwritable")),p=n(e("./hooks")),b=e("rxjs/Observable");function n(e){return e&&e.__esModule?e:{default:e}}var y=function(){function r(e,t){(0,o.default)(this,r),this.newestCollection=e,this.migrationStrategies=t,this.currentSchema=e.schema,this.database=e.database,this.name=e.name}return(0,i.default)(r,[{key:"_getOldCollections",value:function(){var t=this;return Promise.all(this.currentSchema.previousVersions.map(function(e){return t.database._collectionsPouch.get(t.name+"-"+e)}).map(function(e){return e.catch(function(){return null})})).then(function(e){return e.filter(function(e){return null!==e}).map(function(e){return new v(e.schema.version,e.schema,t)})})}},{key:"migrate",value:function(){var s=this,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw d.default.newRxError("DM1");var t,c={done:!(this._migrated=!0),total:null,handled:0,success:0,deleted:0,percent:0};return new b.Observable((t=(0,a.default)(l.default.mark(function e(n){var t,r,o,i,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s._getOldCollections();case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(e){return e.countAllUndeleted()}));case 5:r=e.sent,o=r.reduce(function(e,t){return e+t},0),c.total=o,n.next(f.clone(c)),i=null,a=l.default.mark(function e(){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.migrate(u),e.next=3,new Promise(function(e){var t=r.subscribe(function(e){c.handled++,c[e.type]=c[e.type]+1,c.percent=Math.round(c.handled/c.total*100),n.next(f.clone(c))},function(e){t.unsubscribe(),n.error(e)},function(){t.unsubscribe(),e()})});case 3:case"end":return e.stop()}},e,s)});case 11:if(!(i=t.shift())){e.next=15;break}return e.delegateYield(a(),"t0",13);case 13:e.next=11;break;case 15:c.done=!0,c.percent=100,n.next(f.clone(c)),n.complete();case 19:case"end":return e.stop()}},e,s)})),function(e){return t.apply(this,arguments)}))}},{key:"migratePromise",value:function(r){var n=this;return this._migratePromise||(this._migratePromise=new Promise(function(e,t){n.migrate(r).subscribe(null,t,e)})),this._migratePromise}}]),r}(),v=function(){function n(e,t,r){(0,o.default)(this,n),this.version=e,this.dataMigrator=r,this.schemaObj=t,this.newestCollection=r.newestCollection,this.database=r.newestCollection.database}var t,r,e;return(0,i.default)(n,[{key:"countAllUndeleted",value:(e=(0,a.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.default.countAllUndeleted(this.pouchdb));case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"getBatch",value:function(e){var t=this;return s.default.getBatch(this.pouchdb,e).then(function(e){return e.map(function(e){return t._handleFromPouch(e)})})}},{key:"_handleFromPouch",value:function(e){var t=f.clone(e);return t=this.schema.swapIdToPrimary(e),this.schema.doKeyCompression()&&(t=this.keyCompressor.decompress(t)),t=this.crypter.decrypt(t)}},{key:"_handleToPouch",value:function(e){var t=f.clone(e);return t=this.crypter.encrypt(t),t=this.schema.swapPrimaryToId(t),this.schema.doKeyCompression()&&(t=this.keyCompressor.compress(t)),t}},{key:"migrateDocumentData",value:(r=(0,a.default)(l.default.mark(function e(t){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=f.clone(t),r=this.version+1;case 2:if(!(r<=this.newestCollection.schema.version)){e.next=11;break}return e.next=5,this.dataMigrator.migrationStrategies[r+""](t);case 5:if(t=e.sent,r++,null!==t){e.next=9;break}return e.abrupt("return",null);case 9:e.next=2;break;case 11:e.prev=11,this.newestCollection.schema.validate(t),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(11),d.default.newRxError("DM2",{fromVersion:this.version,toVersion:this.newestCollection.schema.version,finalDoc:t});case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e,this,[[11,15]])})),function(e){return r.apply(this,arguments)})},{key:"_migrateDocument",value:(t=(0,a.default)(l.default.mark(function e(t){var r,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.migrateDocumentData(t);case 2:if(r=e.sent,n={doc:t,migrated:r,oldCollection:this,newestCollection:this.newestCollection},!r){e.next=16;break}return p.default.runPluginHooks("preMigrateDocument",n),delete r._rev,e.next=9,this.newestCollection._pouchPut(r,!0);case 9:return o=e.sent,n.res=o,n.type="success",e.next=14,p.default.runAsyncPluginHooks("postMigrateDocument",n);case 14:e.next=17;break;case 16:n.type="deleted";case 17:return e.prev=17,e.next=20,this.pouchdb.remove(this._handleToPouch(t));case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(17);case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}},e,this,[[17,22]])})),function(e){return t.apply(this,arguments)})},{key:"delete",value:function(){var e=this;return this.pouchdb.destroy().then(function(){return e.database.removeCollectionDoc(e.dataMigrator.name,e.schema)})}},{key:"migrate",value:function(){var t,o=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(this._migrate)throw d.default.newRxError("DM3");return this._migrate=!0,new b.Observable((t=(0,a.default)(l.default.mark(function e(t){var r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getBatch(i);case 2:r=e.sent,n=void 0;case 4:return e.next=6,Promise.all(r.map(function(e){return o._migrateDocument(e).then(function(e){return t.next(e)})})).catch(function(e){return n=e});case 6:if(!n){e.next=9;break}return t.error(n),e.abrupt("return");case 9:return e.next=11,o.getBatch(i);case 11:r=e.sent;case 12:if(!n&&0<r.length){e.next=4;break}case 13:return e.next=15,o.delete();case 15:t.complete();case 16:case"end":return e.stop()}},e,o)})),function(e){return t.apply(this,arguments)}))}},{key:"migratePromise",value:function(r){var n=this;return this._migratePromise||(this._migratePromise=new Promise(function(e,t){n.migrate(r).subscribe(null,t,e)})),this._migratePromise}},{key:"schema",get:function(){return this._schema||(this._schema=u.default.create(this.schemaObj,!1)),this._schema}},{key:"keyCompressor",get:function(){return this._keyCompressor||(this._keyCompressor=h.default.createKeyCompressor(this.schema)),this._keyCompressor}},{key:"crypter",get:function(){return this._crypter||(this._crypter=c.default.create(this.database.password,this.schema)),this._crypter}},{key:"pouchdb",get:function(){return this._pouchdb||(this._pouchdb=this.database._spawnPouchDB(this.newestCollection.name,this.version,this.newestCollection.pouchSettings)),this._pouchdb}}]),n}();function _(e,t){return new y(e,t)}r.default={create:_}},{"./crypter":4,"./hooks":7,"./overwritable":11,"./pouch-db":26,"./rx-error":34,"./rx-schema":36,"./util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/regenerator":60,"rxjs/Observable":547}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{default:e}}r.create=s;var a=function(){function e(){(0,n.default)(this,e),this._map=new Map}return(0,o.default)(e,[{key:"get",value:function(e){return this._map.get(e)}},{key:"set",value:function(e,t){return this._map.set(e,t)}},{key:"delete",value:function(e){this._map.delete(e)}}]),e}();function s(){return new a}r.default={create:s}},{"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.runAsyncPluginHooks=r.HOOKS=void 0;var n,o=s(e("babel-runtime/regenerator")),i=s(e("babel-runtime/helpers/asyncToGenerator")),a=r.runAsyncPluginHooks=(n=(0,i.default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(u[t].map(function(e){return e(r)})));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)});function s(e){return e&&e.__esModule?e:{default:e}}r.runPluginHooks=c;var u=r.HOOKS={createRxDatabase:[],createRxCollection:[],preCreateRxSchema:[],createRxSchema:[],createRxQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreatePouchDb:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function c(e,t){u[e].forEach(function(e){return e(t)})}r.default={runPluginHooks:c,runAsyncPluginHooks:a,HOOKS:u}},{"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/regenerator":60}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkAdapter=r.RxDatabase=r.QueryChangeDetector=r.PouchDB=r.RxSchema=r.isRxSchema=r.isRxQuery=r.isRxDocument=r.isRxCollection=r.isRxDatabase=r.dbCount=r.plugin=r.removeDatabase=r.create=void 0;var n=v(e("./core")),o=v(e("./plugins/schema-check")),i=v(e("./plugins/error-messages")),a=v(e("./plugins/validate")),s=v(e("./plugins/key-compression")),u=v(e("./plugins/leader-election")),c=v(e("./plugins/encryption")),l=v(e("./plugins/update")),f=v(e("./plugins/replication")),d=v(e("./plugins/adapter-check")),h=v(e("./plugins/json-dump")),p=v(e("./plugins/in-memory")),b=v(e("./plugins/attachments")),y=v(e("./plugins/local-documents"));function v(e){return e&&e.__esModule?e:{default:e}}n.default.plugin(o.default),n.default.plugin(i.default),n.default.plugin(a.default),n.default.plugin(s.default),n.default.plugin(u.default),n.default.plugin(c.default),n.default.plugin(l.default),n.default.plugin(f.default),n.default.plugin(d.default),n.default.plugin(h.default),n.default.plugin(p.default),n.default.plugin(b.default),n.default.plugin(y.default);var _=r.create=n.default.create,m=r.removeDatabase=n.default.removeDatabase,g=r.plugin=n.default.plugin,w=r.dbCount=n.default.dbCount,x=r.isRxDatabase=n.default.isRxDatabase,k=r.isRxCollection=n.default.isRxCollection,j=r.isRxDocument=n.default.isRxDocument,O=r.isRxQuery=n.default.isRxQuery,S=r.isRxSchema=n.default.isRxSchema,E=r.RxSchema=n.default.RxSchema,C=r.PouchDB=n.default.PouchDB,A=r.QueryChangeDetector=n.default.QueryChangeDetector,P=r.RxDatabase=n.default.RxDatabase,R=r.checkAdapter=n.default.checkAdapter;r.default={create:_,checkAdapter:R,removeDatabase:m,plugin:g,dbCount:w,isRxDatabase:x,isRxCollection:k,isRxDocument:j,isRxQuery:O,isRxSchema:S,RxSchema:E,PouchDB:C,QueryChangeDetector:A,RxDatabase:P}},{"./core":3,"./plugins/adapter-check":13,"./plugins/attachments":14,"./plugins/encryption":15,"./plugins/error-messages":16,"./plugins/in-memory":17,"./plugins/json-dump":18,"./plugins/key-compression":19,"./plugins/leader-election":20,"./plugins/local-documents":21,"./plugins/replication":22,"./plugins/schema-check":23,"./plugins/update":24,"./plugins/validate":25}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=f(e("babel-runtime/helpers/typeof")),i=f(e("babel-runtime/helpers/slicedToArray")),o=f(e("babel-runtime/helpers/classCallCheck")),a=f(e("babel-runtime/helpers/createClass")),c=n(e("./mquery_utils")),l=f(e("../rx-error")),s=n(e("../util"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function n(e){(0,o.default)(this,n);var t=this.constructor.prototype;this.options={},this._conditions=t._conditions?s.clone(t._conditions):{},this._fields=t._fields?s.clone(t._fields):void 0,this._path=t._path||void 0,e&&this.find(e)}return(0,a.default)(n,[{key:"clone",value:function(){var o=new n;return Object.entries(this).forEach(function(e){var t=(0,i.default)(e,2),r=t[0],n=t[1];return o[r]=s.clone(n)}),o}},{key:"where",value:function(){if(!arguments.length)return this;var e=(0,u.default)(arguments[0]);if("string"===e)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===e&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw l.default.newRxTypeError("MQ1",{path:arguments[0]})}},{key:"equals",value:function(e){this._ensurePath("equals");var t=this._path;return this._conditions[t]=e,this}},{key:"eq",value:function(e){this._ensurePath("eq");var t=this._path;return this._conditions[t]=e,this}},{key:"or",value:function(e){var t=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this}},{key:"nor",value:function(e){var t=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this}},{key:"and",value:function(e){var t=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this}},{key:"mod",value:function(){var e=void 0,t=void 0;return 1===arguments.length?(this._ensurePath("mod"),e=arguments[0],t=this._path):2!==arguments.length||Array.isArray(arguments[1])?(e=3===arguments.length?arguments.slice(1):arguments[1],t=arguments[0]):(this._ensurePath("mod"),e=arguments.slice(),t=this._path),(this._conditions[t]||(this._conditions[t]={})).$mod=e,this}},{key:"exists",value:function(){var e=void 0,t=void 0;return 0===arguments.length?(this._ensurePath("exists"),e=this._path,t=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),e=this._path,t=arguments[0]):(e=arguments[0],t=!0):2===arguments.length&&(e=arguments[0],t=arguments[1]),(this._conditions[e]||(this._conditions[e]={})).$exists=t,this}},{key:"elemMatch",value:function(){if(null===arguments[0])throw l.default.newRxTypeError("MQ2");var e=void 0,t=void 0,r=void 0;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),t=this._path,e=arguments[0];else if(c.isObject(arguments[0]))this._ensurePath("elemMatch"),t=this._path,r=arguments[0];else if("function"==typeof arguments[1])t=arguments[0],e=arguments[1];else{if(!arguments[1]||!c.isObject(arguments[1]))throw l.default.newRxTypeError("MQ2");t=arguments[0],r=arguments[1]}return e&&(e(r=new n),r=r._conditions),(this._conditions[t]||(this._conditions[t]={})).$elemMatch=r,this}},{key:"sort",value:function(t){var r=this;if(!t)return this;var e=void 0,n=void 0===t?"undefined":(0,u.default)(t);if(Array.isArray(t)){e=t.length;for(var o=0;o<t.length;++o)p(this.options,t[o][0],t[o][1]);return this}if(1===arguments.length&&"string"===n){e=(t=t.split(/\s+/)).length;for(var i=0;i<e;++i){var a=t[i];if(a){var s="-"===a[0]?-1:1;-1===s&&(a=a.substring(1)),h(this.options,a,s)}}return this}if(c.isObject(t))return Object.keys(t).forEach(function(e){return h(r.options,e,t[e])}),this;throw l.default.newRxTypeError("MQ3",{args:arguments})}},{key:"merge",value:function(e){if(!e)return this;if(!n.canMerge(e))throw l.default.newRxTypeError("MQ4",{source:e});return e instanceof n?(e._conditions&&c.merge(this._conditions,e._conditions),e._fields&&(this._fields||(this._fields={}),c.merge(this._fields,e._fields)),e.options&&(this.options||(this.options={}),c.merge(this.options,e.options)),e._update&&(this._update||(this._update={}),c.mergeClone(this._update,e._update)),e._distinct&&(this._distinct=e._distinct)):c.merge(this._conditions,e),this}},{key:"find",value:function(e){return n.canMerge(e)&&this.merge(e),this}},{key:"_optionsForExec",value:function(){return s.clone(this.options)}},{key:"_ensurePath",value:function(e){if(!this._path)throw l.default.newRxError("MQ5",{method:e})}}]),n}();function h(e,t,r){if(Array.isArray(e.sort))throw l.default.newRxTypeError("MQ6",{opts:e,field:t,value:r});if(r&&r.$meta){(e.sort||(e.sort={}))[t]={$meta:r.$meta}}else{var n=String(r||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(n))throw Array.isArray(r)&&(r="["+r+"]"),l.default.newRxTypeError("MQ7",{field:t,value:r});var o=e.sort||(e.sort={}),i=r.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");o[t]=parseInt(i,10)}}function p(e,t,r){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw l.default.newRxTypeError("MQ8",{opts:e,field:t,value:r});e.sort.push([t,r])}["gt","gte","lt","lte","ne","in","nin","all","regex","size"].forEach(function(r){d.prototype[r]=function(){var e=void 0,t=void 0;return 1===arguments.length?(this._ensurePath(r),t=arguments[0],e=this._path):(t=arguments[1],e=arguments[0]),(null===this._conditions[e]||"object"===(0,u.default)(this._conditions[e])?this._conditions[e]:this._conditions[e]={})["$"+r]=t,this}}),d.canMerge=function(e){return e instanceof d||c.isObject(e)},["limit","skip","maxScan","batchSize","comment"].forEach(function(t){d.prototype[t]=function(e){return this.options[t]=e,this}}),d.utils=c,r.default=d},{"../rx-error":34,"../util":38,"./mquery_utils":10,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/slicedToArray":57,"babel-runtime/helpers/typeof":59}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.merge=function e(t,r){var n=Object.keys(r);var o=n.length;var i=void 0;for(;o--;)i=n[o],void 0===t[i]?t[i]=r[i]:s(r[i])?e(t[i],r[i]):t[i]=r[i]},r.mergeClone=function e(t,r){var n=Object.keys(r);var o=n.length;var i=void 0;for(;o--;)i=n[o],void 0===t[i]?t[i]=a.clone(r[i],{retainKeyOrder:1}):s(r[i])?e(t[i],r[i]):t[i]=a.clone(r[i],{retainKeyOrder:1})},r.isObject=s;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function s(e){return"[object Object]"===e.toString()}},{"../util":38}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=e("./rx-error"),i=(n=o)&&n.__esModule?n:{default:n};var a={validatePassword:function(){throw i.default.pluginMissing("encryption")},createKeyCompressor:function(){throw i.default.pluginMissing("keycompression")},createLeaderElector:function(){throw i.default.pluginMissing("leaderelection")},checkAdapter:function(){throw i.default.pluginMissing("adapter-check")},tunnelErrorMessage:function(e){return"RxDB Error-Code "+e+".\n        - To find out what this means, use the error-messages-plugin https://pubkey.github.io/rxdb/custom-build.html#error-messages\n        - Or search for this code https://github.com/pubkey/rxdb/search?l=JavaScript&q="+e+"%3A\n        "}};r.default=a},{"./rx-error":34}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=p(e("babel-runtime/helpers/slicedToArray")),n=p(e("babel-runtime/helpers/typeof"));r.addPlugin=v;var i=p(e("./rx-schema")),a=p(e("./crypter")),s=p(e("./rx-document")),u=p(e("./rx-query")),c=p(e("./rx-collection")),l=p(e("./rx-database")),f=p(e("./pouch-db")),d=p(e("./overwritable")),h=e("./hooks");function p(e){return e&&e.__esModule?e:{default:e}}var b={RxSchema:i.default.RxSchema.prototype,Crypter:a.default.Crypter.prototype,RxDocument:s.default.RxDocument.prototype,RxQuery:u.default.RxQuery.prototype,RxCollection:c.default.RxCollection.prototype,RxDatabase:l.default.RxDatabase.prototype},y=new Set;function v(e){y.has(e)||(y.add(e),e.rxdb||("object"===(void 0===e?"undefined":(0,n.default)(e))&&e.default&&(e=e.default),f.default.plugin(e)),e.prototypes&&Object.entries(e.prototypes).forEach(function(e){var t=(0,o.default)(e,2),r=t[0];return(0,t[1])(b[r])}),e.overwritable&&Object.entries(e.overwritable).forEach(function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return d.default[r]=n}),e.hooks&&Object.entries(e.hooks).forEach(function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return h.HOOKS[r].push(n)}))}r.default={addPlugin:v,overwritable:d.default}},{"./crypter":4,"./hooks":7,"./overwritable":11,"./pouch-db":26,"./rx-collection":31,"./rx-database":32,"./rx-document":33,"./rx-query":35,"./rx-schema":36,"babel-runtime/helpers/slicedToArray":57,"babel-runtime/helpers/typeof":59}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.checkAdapter=void 0;var n,i=c(e("babel-runtime/regenerator")),o=c(e("babel-runtime/helpers/asyncToGenerator")),a=r.checkAdapter=(n=(0,o.default)(i.default.mark(function e(t){var r,n,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="rxdb-test-adapter-"+u.generateId(),n=null,o=void 0,e.prev=3,o=new s.default(r,u.adapterObject(t),{auto_compaction:!1,revs_limit:1}),e.next=7,o.info();case 7:return e.next=9,o.put({_id:r,value:!0});case 9:return e.next=11,o.get(r);case 11:return n=e.sent,e.next=14,o.remove(n);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",!1);case 19:if(!n||!n.value){e.next=23;break}return e.abrupt("return",!0);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,this,[[3,16]])})),function(e){return n.apply(this,arguments)}),s=c(e("../pouch-db")),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function c(e){return e&&e.__esModule?e:{default:e}}var l=r.rxdb=!0,f=r.prototypes={},d=r.overwritable={checkAdapter:a};r.default={rxdb:l,prototypes:f,overwritable:d}},{"../pouch-db":26,"../util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/regenerator":60}],14:[function(P,e,R){(function(o){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.hooks=R.overwritable=R.prototypes=R.rxdb=R.postMigrateDocument=R.preMigrateDocument=R.putAttachment=R.RxAttachment=R.blobBufferUtil=void 0;var t,r,n,i,u=_(P("babel-runtime/helpers/classCallCheck")),a=_(P("babel-runtime/helpers/createClass")),s=_(P("babel-runtime/helpers/slicedToArray")),l=_(P("babel-runtime/regenerator")),f=_(P("babel-runtime/helpers/asyncToGenerator")),d=(t=(0,f.default)(l.default.mark(function e(t){var r,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection.pouch.get(t.primary);case 2:r=e.sent,n=t.collection._handleFromPouch(r),o=b.default.create("UPDATE",t.collection.database,t.collection,t,n),t.$emit(o);case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)}),c=R.putAttachment=(r=(0,f.default)(l.default.mark(function e(t){var r,o,n,i=this,a=t.id,s=t.data,u=t.type,c=void 0===u?"text/plain":u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(this),r=this.atomicQueue,k(this)&&(s=this.collection._crypter._encryptValue(s)),o=g.createBlobBuffer(s,c),e.next=6,r.requestIdlePromise();case 6:return e.next=8,r.wrapCall((0,f.default)(l.default.mark(function e(){var t,r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.collection.pouch.putAttachment(i.primary,a,i._data._rev,o,c);case 2:return e.next=4,i.collection.pouch.get(i.primary);case 4:return t=e.sent,r=t._attachments[a],n=x.fromPouchDocument(a,r,i),i._data._rev=t._rev,i._data._attachments=t._attachments,e.next=11,d(i);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,i)})));case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),e=R.preMigrateDocument=(n=(0,f.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.migrated._attachments,e.abrupt("return",t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),h=R.postMigrateDocument=(i=(0,f.default)(l.default.mark(function e(t){var r,n,o,i,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.oldCollection.schema.primaryPath,n=t.doc._attachments){e.next=4;break}return e.abrupt("return",t);case 4:e.t0=l.default.keys(n);case 5:if((e.t1=e.t0()).done){e.next=21;break}return o=e.t1.value,i=n[o],a=t.doc[r],e.next=11,t.oldCollection.pouchdb.getAttachment(a,o);case 11:return s=e.sent,e.next=14,g.toString(s);case 14:return s=e.sent,e.next=17,t.newestCollection.pouch.putAttachment(a,o,t.res.rev,g.createBlobBuffer(s,i.content_type),i.content_type);case 17:u=e.sent,t.res=u,e.next=5;break;case 21:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)});R.getAttachment=j,R.allAttachments=O;var p=P("rxjs/operators/map"),b=_(P("./../rx-change-event")),y=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(P("./../util")),v=_(P("../rx-error"));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if(!e.collection.schema.jsonID.attachments)throw v.default.newRxError("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var g=R.blobBufferUtil={createBlobBuffer:function(t,r){var n=void 0;if(y.isElectronRenderer)return new o(t,{type:r});try{n=new Blob([t],{type:r})}catch(e){n=new o(t,{type:r})}return n},toString:function(t){return t instanceof o?y.nextTick().then(function(){return t.toString()}):new Promise(function(r){var e=new FileReader;e.addEventListener("loadend",function(e){var t=e.target.result;r(t)}),e.readAsText(t)})}},w=function(o){Object.entries(o.doc.collection._attachments).forEach(function(e){var t=(0,s.default)(e,2),r=t[0],n=t[1];return o.__defineGetter__(r,function(){return n.bind(o)})})},x=R.RxAttachment=function(){function s(e){var t=e.doc,r=e.id,n=e.type,o=e.length,i=e.digest,a=e.rev;(0,u.default)(this,s),this.doc=t,this.id=r,this.type=n,this.length=o,this.digest=i,this.rev=a,w(this)}var e,t,r;return(0,a.default)(s,[{key:"remove",value:(r=(0,f.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doc.collection.pouch.removeAttachment(this.doc.primary,this.id,this.doc._data._rev);case 2:return e.next=4,d(this.doc);case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getData",value:(t=(0,f.default)(l.default.mark(function e(){var t,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doc.collection.pouch.getAttachment(this.doc.primary,this.id);case 2:if(t=e.sent,!k(this.doc)){e.next=8;break}return e.next=6,g.toString(t);case 6:r=e.sent,t=g.createBlobBuffer(this.doc.collection._crypter._decryptValue(r),this.type);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getStringData",value:(e=(0,f.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.next=5,g.toString(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),s}();function k(e){return!!e.collection.schema.jsonID.attachments.encrypted}function j(e){m(this);var t=this._dataSync$.getValue();if(!t._attachments||!t._attachments[e])return null;var r=t._attachments[e];return x.fromPouchDocument(e,r,this)}function O(){var t=this;m(this);var r=this._dataSync$.getValue();return Object.keys(r._attachments).map(function(e){return x.fromPouchDocument(e,r._attachments[e],t)})}x.fromPouchDocument=function(e,t,r){return new x({doc:r,id:e,type:t.content_type,length:t.length,digest:t.digest,rev:t.revpos})};var S=R.rxdb=!0,E=R.prototypes={RxDocument:function(e){e.putAttachment=c,e.getAttachment=j,e.allAttachments=O,Object.defineProperty(e,"allAttachments$",{get:function(){var o=this;return this._dataSync$.pipe((0,p.map)(function(e){return e._attachments?e._attachments:{}}),(0,p.map)(function(e){return Object.entries(e)}),(0,p.map)(function(e){return e.map(function(e){var t=(0,s.default)(e,2),r=t[0],n=t[1];return x.fromPouchDocument(r,n,o)})}))}})}},C=R.overwritable={},A=R.hooks={preMigrateDocument:e,postMigrateDocument:h};R.default={rxdb:S,prototypes:E,overwritable:C,hooks:A,blobBufferUtil:g}}).call(this,P("buffer").Buffer)},{"../rx-error":34,"./../rx-change-event":30,"./../util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/slicedToArray":57,"babel-runtime/regenerator":60,buffer:62,"rxjs/operators/map":565}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=void 0,r.encrypt=c,r.decrypt=l;var n,o=u(e("crypto-js/aes")),i=u(e("crypto-js/enc-utf8")),a=e("../rx-error"),s=(n=a)&&n.__esModule?n:{default:n};function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e,t){return o.encrypt(e,t).toString()}function l(e,t){return o.decrypt(e,t).toString(i)}var f=function(e){return c(JSON.stringify(e),this._password)},d=function(e){var t=l(e,this._password);return JSON.parse(t)},h=r.rxdb=!0,p=r.prototypes={Crypter:function(e){e._encryptValue=f,e._decryptValue=d}},b=r.overwritable={validatePassword:function(e){if(e&&"string"!=typeof e)throw s.default.newRxTypeError("EN1",{password:e});if(e&&e.length<8)throw s.default.newRxError("EN2",{minPassLength:8,password:e})}};r.default={rxdb:h,prototypes:p,overwritable:b}},{"../rx-error":34,"crypto-js/aes":486,"crypto-js/enc-utf8":490}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",P1:"PouchDB.getBatch: limit must be > 2",QU1:"RxQuery._execOverDatabase(): op not known",QU2:"limit() must get a number",QU3:"skip() must get a number",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.collection(): collection-names cannot start with underscore _",DB3:"RxDatabase.collection(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.collection(): schema is missing",DB5:"RxDatabase.collection(): collection-name not allowed",DB6:"RxDatabase.collection(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.collection(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() do not provide ._id, it will be generated",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC12:"RxDocument.save(): error",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importDump(): the imported json relies on a different schema",JD3:"RxCollection.importDump(): json.passwordHash does not match the own",LE1:"LeaderElection: this should not happen :( please contact the maintainer",LE2:"LeaderElection: someone else is applying/leader",LE3:"LeaderElection: someone else overwrote apply",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.sync() query must be from the same RxCollection",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string or array<string>",SC5:"SchemaCheck: fieldname cannot be primary and ref at same time",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC9:"SchemaCheck: schema defines ._id, this will be done automatically",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema need an number>=0 as version",SC12:"SchemaCheck: primary can only be defined once",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: compoundIndexes must be an array",SC19:"SchemaCheck: compoundIndexes must contain arrays",SC20:"SchemaCheck: compoundIndexes.array must contains strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use RxDB.plugin(require('pouchdb-adapter-memory'));",S1:"You cannot create collections after calling RxDatabase.server()"},o=r.rxdb=!0,i=r.prototypes={},a=r.overwritable={tunnelErrorMessage:function(e){if(!n[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Cdoe "+e+" not known, contact the maintainer");return n[e]}};r.default={rxdb:o,prototypes:i,overwritable:a}},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.spawnInMemory=r.InMemoryRxCollection=void 0;var n,o=g(e("babel-runtime/helpers/typeof")),i=g(e("babel-runtime/regenerator")),a=g(e("babel-runtime/helpers/asyncToGenerator")),s=g(e("babel-runtime/helpers/classCallCheck")),u=g(e("babel-runtime/helpers/createClass")),c=g(e("babel-runtime/helpers/possibleConstructorReturn")),l=g(e("babel-runtime/helpers/inherits")),f=r.spawnInMemory=(n=(0,a.default)(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=4;break}if(O=!0,_.default.adapters&&_.default.adapters.memory){e.next=4;break}throw m.default.newRxError("IM1");case 4:if(!w.has(this)){e.next=8;break}return e.next=7,x.get(this);case 7:return e.abrupt("return",w.get(this));case 8:return t=new j(this),r=t.prepare(),w.set(this,t),x.set(this,r),e.next=14,r;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),d=e("rxjs/Subject"),h=g(e("../rx-collection")),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),b=g(e("../crypter")),y=g(e("../change-event-buffer")),v=g(e("../rx-schema")),_=g(e("../pouch-db")),m=g(e("../rx-error"));function g(e){return e&&e.__esModule?e:{default:e}}var w=new WeakMap,x=new WeakMap,k={new_edits:!1},j=r.InMemoryRxCollection=function(e){function n(e,t){(0,s.default)(this,n);var r=(0,c.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e.database,e.name,function(e){var t=p.clone(e.jsonID);t.disableKeyCompression=!0,delete t.properties._id,delete t.properties._rev,delete t.properties._attachments;return function t(e,r){delete e.encrypted,Object.values(e).filter(function(e){return"object"===(void 0===e?"undefined":(0,o.default)(e))}).forEach(function(e){return t(e,r)})}(t,t),v.default.create(t)}(e.schema),t,{},e._methods));return r._isInMemory=!0,r._parentCollection=e,r._parentCollection.onDestroy.then(function(){return r.destroy()}),r._changeStreams=[],r.onDestroy.then(function(){r._changeStreams.forEach(function(e){return e.cancel()}),r.pouch.destroy()}),r}var t,r;return(0,l.default)(n,e),(0,u.default)(n,[{key:"prepare",value:(r=(0,a.default)(i.default.mark(function e(){var r=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._crypter=b.default.create(this.database.password,this.schema),this.pouch=new _.default("rxdb-in-memory-"+p.randomCouchString(10),p.adapterObject("memory"),{}),this._observable$=new d.Subject,this._changeEventBuffer=y.default.create(this),e.next=6,Promise.all(this.schema.indexes.map(function(e){return r.pouch.createIndex({index:{fields:e}})}));case 6:return this._subs.push(this._observable$.subscribe(function(e){var t=r._docCache.get(e.data.doc);t&&t._handleChangeEvent(e)})),e.next=9,this._initialSync();case 9:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"_initialSync",value:(t=(0,a.default)(i.default.mark(function e(){var t,r,n,o=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._parentCollection.pouch.allDocs({attachments:!1,include_docs:!0});case 2:return t=e.sent,e.next=5,this.pouch.bulkDocs({docs:t.rows.map(function(e){return e.doc}).filter(function(e){return!e.language}).map(function(e){return o._parentCollection._handleFromPouch(e)}).map(function(e){return o._parentCollection.schema.swapPrimaryToId(e)})},k);case 5:this._parentCollection.watchForChanges(),this.watchForChanges(),r=this.pouch.changes({since:"now",include_docs:!0,live:!0}).on("change",function(){var t=(0,a.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=o._parentCollection._handleToPouch(t.doc),o._parentCollection.pouch.bulkDocs({docs:[r]},k);case 2:case"end":return e.stop()}},e,o)}));return function(e){return t.apply(this,arguments)}}()),this._changeStreams.push(r),n=this._parentCollection.pouch.changes({since:"now",include_docs:!0,live:!0}).on("change",function(){var t=(0,a.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=o._parentCollection._handleFromPouch(t.doc),r=o.schema.swapPrimaryToId(r),o.pouch.bulkDocs({docs:[r]},k);case 3:case"end":return e.stop()}},e,o)}));return function(e){return t.apply(this,arguments)}}()),this._changeStreams.push(n);case 11:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"$emit",value:function(e){this._observable$.next(e),this._eventCounter||(this._eventCounter=0),this._eventCounter++,10===this._eventCounter&&(this._eventCounter=0,this.pouch.compact())}}]),n}(h.default.RxCollection);var O=!1,S=r.rxdb=!0,E=r.prototypes={RxCollection:function(e){e.inMemory=f}},C=r.overwritable={};r.default={rxdb:S,prototypes:E,overwritable:C,spawnInMemory:f}},{"../change-event-buffer":2,"../crypter":4,"../pouch-db":26,"../rx-collection":31,"../rx-error":34,"../rx-schema":36,"../util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/possibleConstructorReturn":56,"babel-runtime/helpers/typeof":59,"babel-runtime/regenerator":60,"rxjs/Subject":551}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=void 0;var a=o(e("babel-runtime/regenerator")),n=o(e("babel-runtime/helpers/asyncToGenerator")),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),u=o(e("../rx-query")),i=o(e("../rx-error")),c=o(e("../rx-change-event"));function o(e){return e&&e.__esModule?e:{default:e}}var l,f,d,h,p=(l=(0,n.default)(a.default.mark(function e(){var t,r,n=this,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]},this.password&&(t.passwordHash=s.hash(this.password),t.encrypted=!o),r=Object.keys(this.collections).filter(function(e){return!i||i.includes(e)}).filter(function(e){return"_"!==e.charAt(0)}).map(function(e){return n.collections[e]}),e.next=5,Promise.all(r.map(function(e){return e.dump(o)}));case 5:return t.collections=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)}),b=(f=(0,n.default)(a.default.mark(function e(t){var r,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0<(r=t.collections.filter(function(e){return!n.collections[e.name]}).map(function(e){return e.name})).length)){e.next=3;break}throw i.default.newRxError("JD1",{missingCollections:r});case 3:return e.abrupt("return",Promise.all(t.collections.map(function(e){return n.collections[e.name].importDump(e)})));case 4:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)}),y=(d=(0,n.default)(a.default.mark(function e(){var t,r,n,o,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!i,r={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]},this.database.password&&t&&(r.passwordHash=s.hash(this.database.password),r.encrypted=!0),n=u.default.create("find",{},this),e.next=6,this._pouchFind(n,null,t);case 6:return o=e.sent,r.docs=o.map(function(e){return delete e._rev,e}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),v=(h=(0,n.default)(a.default.mark(function e(t){var r,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.schemaHash===this.schema.hash){e.next=2;break}throw i.default.newRxError("JD2",{schemaHash:t.schemaHash,own:this.schema.hash});case 2:if(!t.encrypted||t.passwordHash===s.hash(this.database.password)){e.next=4;break}throw i.default.newRxError("JD3",{passwordHash:t.passwordHash,own:s.hash(this.database.password)});case 4:return r=t.docs.map(function(e){return o._crypter.decrypt(e)}).map(function(e){return o.schema.validate(e)}).map(function(){var t=(0,n.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._pouchPut(t);case 2:r=t[o.schema.primaryPath],(n=c.default.create("INSERT",o.database,o,null,t)).data.doc=r,o.$emit(n);case 6:case"end":return e.stop()}},e,o)}));return function(e){return t.apply(this,arguments)}}()),e.abrupt("return",Promise.all(r));case 6:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)}),_=r.rxdb=!0,m=r.prototypes={RxDatabase:function(e){e.dump=p,e.importDump=b},RxCollection:function(e){e.dump=y,e.importDump=v}},g=r.overwritable={};r.default={rxdb:_,prototypes:m,overwritable:g}},{"../rx-change-event":30,"../rx-error":34,"../rx-query":35,"../util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/regenerator":60}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=void 0;var c=i(e("babel-runtime/helpers/typeof")),n=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass"));r.create=s;var l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function t(e){(0,n.default)(this,t),this.schema=e,this._table,this._reverseTable,this._fullTable}return(0,o.default)(t,[{key:"_compressObj",value:function(i){var a=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",u={};return"object"!==(void 0===i?"undefined":(0,c.default)(i))||null===i?i:Array.isArray(i)?i.map(function(e){return a._compressObj(e,l.trimDots(s+".item"))}):(Object.keys(i).forEach(function(e){var t,r=i[e],n=l.trimDots(s+"."+e),o=a.table[n]?a.table[n]:e;t=a._compressObj(r,n),u[o]=t}),u)}},{key:"compress",value:function(e){return this.schema.doKeyCompression()?this._compressObj(e):l.clone(e)}},{key:"_decompressObj",value:function(r){var n=this,o=this.reverseTable;if("object"!==(void 0===r?"undefined":(0,c.default)(r))||null===r)return r;if(Array.isArray(r))return r.map(function(e){return n._decompressObj(e)});var i={};return Object.keys(r).forEach(function(e){var t=e;(e.startsWith("|")||e.startsWith("_"))&&o[e]&&(t=o[e]),i[t]=n._decompressObj(r[e])}),i}},{key:"decompress",value:function(e){return this.schema.doKeyCompression()?this._decompressObj(e):l.clone(e)}},{key:"_transformKey",value:function(e,t,r){var n=this.table;e=l.trimDots(e),t=l.trimDots(t);var o=r.shift(),i=l.trimDots(e+"."+o);return n[i]?t+="."+n[i]:t+="."+o,0<r.length?this._transformKey(i,t,r):l.trimDots(t)}},{key:"compressQuery",value:function(o){var i=this;if(o=l.clone(o),!this.schema.doKeyCompression())return o;var a={};return Object.keys(o.selector).forEach(function(e){var t=o.selector[e];if(e.startsWith("$")){var r=t.map(function(r){var n={};return Object.keys(r).forEach(function(e){var t=i._transformKey("","",e.split("."));n[t]=r[e]}),n});a[e]=r}else{var n=i._transformKey("","",e.split("."));a[n]=t}}),o.selector=a,o.sort&&(o.sort=o.sort.map(function(e){var t=Object.keys(e)[0],r=e[t],n={};return n[i._transformKey("","",t.split("."))]=r,n})),o}},{key:"table",get:function(){var a=this;if(!this._table){var s=0;this._table={};!function n(o,i){Object.keys(i).map(function(e){var t=i[e],r="properties"===e?o:l.trimDots(o+"."+e);"object"===(void 0===t?"undefined":(0,c.default)(t))&&!Array.isArray(t)&&!a._table[r]&&""!==r&&3<e.length&&!r.startsWith("_")&&(a._table[r]="|"+(s++,l.numberToLetter(s-1))),!0===t.primary&&(a._table[r]="_id"),"object"!==(void 0===t?"undefined":(0,c.default)(t))||Array.isArray(t)||n(r,t)})}("",this.schema.normalized)}return this._table}},{key:"reverseTable",get:function(){var n=this;if(!this._reverseTable){var o=this.table;this._reverseTable={},Object.keys(o).forEach(function(e){var t=o[e],r=e.split(".").pop();n._reverseTable[t]=r})}return this._reverseTable}}]),t}();function s(e){return new a(e)}var u=r.rxdb=!0,f=r.prototypes={},d=r.overwritable={createKeyCompressor:s};r.default={rxdb:u,prototypes:f,overwritable:d}},{"../util":38,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/typeof":59}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.SIGNAL_TIME=r.documentID=void 0;var l=n(e("babel-runtime/regenerator")),f=n(e("babel-runtime/helpers/asyncToGenerator")),d=n(e("babel-runtime/helpers/classCallCheck")),h=n(e("babel-runtime/helpers/createClass"));r.create=i;var p=n(e("unload")),b=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),y=n(e("../rx-broadcast-channel")),v=n(e("../rx-error")),_=e("rxjs/BehaviorSubject"),m=e("rxjs/operators/filter"),g=e("rxjs/operators/first");function n(e){return e&&e.__esModule?e:{default:e}}var w=r.documentID="_local/leader",x=r.SIGNAL_TIME=500,o=function(){function t(e){(0,d.default)(this,t),this.destroyed=!1,this.subs=[],this.unloads=[],this.database=e,this.token=this.database.token,this.isLeader=!1,this.becomeLeader$=new _.BehaviorSubject({isLeader:!1}),this.isDead=!1,this.isApplying=!1,this.isWaiting=!1,this.bc=y.default.create(this.database,"leader"),this.electionChannel=this.bc?"broadcast":"socket"}var e,r,n,o,i,a,s,u,c;return(0,h.default)(t,[{key:"createLeaderObject",value:function(){return{_id:w,is:"",apply:"",t:0}}},{key:"getLeaderObject",value:(c=(0,f.default)(l.default.mark(function e(){var t,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,this.database._adminPouch.get(w);case 4:t=e.sent,e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(1),t=this.createLeaderObject(),e.next=12,this.database._adminPouch.put(t);case 12:r=e.sent,t._rev=r.rev;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this,[[1,7]])})),function(){return c.apply(this,arguments)})},{key:"setLeaderObject",value:function(e){return this.database._adminPouch.put(e)}},{key:"getApplyFunction",value:function(e){if("socket"===e)return this.applySocket.bind(this);if("broadcast"===e)return this.applyBroadcast.bind(this);throw v.default.newRxError("LE1")}},{key:"applyOnce",value:(u=(0,f.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:if(!this.isApplying){e.next=6;break}return e.abrupt("return",!1);case 6:if(!this.destroyed){e.next=8;break}return e.abrupt("return",!1);case 8:return this.isApplying=!0,e.next=11,this.getApplyFunction(this.electionChannel)();case 11:if(!e.sent){e.next=15;break}return e.next=15,this.beLeader();case 15:return this.isApplying=!1,e.abrupt("return",!0);case 17:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"applySocket",value:(s=(0,f.default)(l.default.mark(function e(){var t,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getLeaderObject();case 3:if(t=e.sent,r=(new Date).getTime()-2*x,!(t.t>=r)){e.next=7;break}throw v.default.newRxError("LE2");case 7:return t.apply=this.token,t.t=(new Date).getTime(),e.next=11,this.setLeaderObject(t);case 11:return e.next=13,b.promiseWait(.5*x);case 13:return e.next=15,this.getLeaderObject();case 15:if((t=e.sent).apply===this.token){e.next=18;break}throw v.default.newRxError("LE3");case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,this,[[0,21]])})),function(){return s.apply(this,arguments)})},{key:"applyBroadcast",value:(a=(0,f.default)(l.default.mark(function e(){var r,n,o,t,i,a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),n=[],o=[],t=function(){var e=(0,f.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.push(a.bc.$.pipe((0,m.filter)(function(){return!!a.isApplying}),(0,m.filter)(function(e){return e.t>=r}),(0,m.filter)(function(e){return"apply"===e.type}),(0,m.filter)(function(e){return e.data<r||e.data===r&&e.it>a.token}),(0,m.filter)(function(){return o.length<1})).subscribe(function(e){return o.push("other is applying:"+e.it)})),n.push(a.bc.$.pipe((0,m.filter)(function(){return!!a.isApplying}),(0,m.filter)(function(e){return e.t>=r}),(0,m.filter)(function(e){return"tell"===e.type}),(0,m.filter)(function(){return o.length<1})).subscribe(function(e){return o.push("other is leader"+e.it)})),n.push(a.bc.$.pipe((0,m.filter)(function(){return!!a.isApplying}),(0,m.filter)(function(e){return"apply"===e.type}),(0,m.filter)(function(e){return e.data>r||e.data===r&&e.it>a.token})).subscribe(function(){return a.bc.write("apply",r)})),t=3;case 4:if(!(0<t)){e.next=14;break}return t--,e.next=8,a.bc.write("apply",r);case 8:return e.next=10,b.promiseWait(300);case 10:if(!(0<o.length)){e.next=12;break}return e.abrupt("return",!1);case 12:e.next=4;break;case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,a)}));return function(){return e.apply(this,arguments)}}(),e.next=6,t();case 6:return i=e.sent,n.map(function(e){return e.unsubscribe()}),e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"leaderSignal",value:(i=(0,f.default)(l.default.mark(function e(){var t,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(!this.leaderSignal_run){e.next=4;break}return e.abrupt("return");case 4:this.leaderSignal_run=!0,e.t0=this.electionChannel,e.next="broadcast"===e.t0?8:"socket"===e.t0?11:31;break;case 8:return e.next=10,this.bc.write("tell");case 10:return e.abrupt("break",31);case 11:t=!1;case 12:if(t){e.next=30;break}return e.prev=13,e.next=16,this.getLeaderObject();case 16:return(r=e.sent).is=this.token,r.apply=this.token,r.t=(new Date).getTime(),e.next=22,this.setLeaderObject(r);case 22:t=!0,e.next=28;break;case 25:e.prev=25,e.t1=e.catch(13),console.dir(e.t1);case 28:e.next=12;break;case 30:return e.abrupt("break",31);case 31:return this.leaderSignal_run=!1,e.abrupt("return");case 33:case"end":return e.stop()}},e,this,[[13,25]])})),function(){return i.apply(this,arguments)})},{key:"beLeader",value:(o=(0,f.default)(l.default.mark(function e(){var t=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDead){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isLeader){e.next=4;break}return e.abrupt("return",!1);case 4:return this.isLeader=!0,this.becomeLeader$.next({isLeader:!0}),e.next=8,this.leaderSignal();case 8:e.t0=this.electionChannel,e.next="broadcast"===e.t0?11:"socket"===e.t0?14:16;break;case 11:return this.signalLeadership=this.bc.$.pipe((0,m.filter)(function(){return!!t.isLeader}),(0,m.filter)(function(e){return"tell"!==e.type})).subscribe(function(){return t.leaderSignal()}),this.subs.push(this.signalLeadership),e.abrupt("break",16);case 14:return(0,f.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destroyed){e.next=9;break}return e.next=3,b.promiseWait(x);case 3:if(t.isLeader){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.leaderSignal();case 7:e.next=0;break;case 9:case"end":return e.stop()}},e,t)}))(),e.abrupt("break",16);case 16:return this.unloads.push(p.default.add(function(){t.bc&&t.bc.write("death"),t.die()})),e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"die",value:(n=(0,f.default)(l.default.mark(function e(){var t,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:this.isDead=!0,this.isLeader=!1,this.signalLeadership&&this.signalLeadership.unsubscribe(),e.t0=this.electionChannel,e.next="broadcast"===e.t0?10:"socket"===e.t0?13:30;break;case 10:return e.next=12,this.bc.write("death");case 12:return e.abrupt("break",30);case 13:t=!1;case 14:if(t){e.next=29;break}return e.prev=15,e.next=18,this.getLeaderObject();case 18:return(r=e.sent).t=0,e.next=22,this.setLeaderObject(r);case 22:t=!0,e.next=27;break;case 25:e.prev=25,e.t1=e.catch(15);case 27:e.next=14;break;case 29:return e.abrupt("break",30);case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}},e,this,[[15,25]])})),function(){return n.apply(this,arguments)})},{key:"waitForLeadership",value:(r=(0,f.default)(l.default.mark(function e(){var t,r=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:if(this.isWaiting){e.next=14;break}this.isWaiting=!0,this.applyOnce(),t=5*x,e.t0=this.electionChannel,e.next="broadcast"===e.t0?9:"socket"===e.t0?11:13;break;case 9:return this.subs.push(this.bc.$.pipe((0,m.filter)(function(e){return"death"===e.type})).subscribe(function(){return r.applyOnce()})),e.abrupt("break",13);case 11:return t=2*x,e.abrupt("break",13);case 13:(0,f.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.destroyed||r.isLeader){e.next=16;break}return e.next=3,b.promiseWait(t);case 3:e.t0=r.electionChannel,e.next="broadcast"===e.t0?6:"socket"===e.t0?9:12;break;case 6:return e.next=8,b.requestIdlePromise(t);case 8:return e.abrupt("break",12);case 9:return e.next=11,r.database.requestIdlePromise(t);case 11:return e.abrupt("break",12);case 12:return e.next=14,r.applyOnce();case 14:e.next=0;break;case 16:case"end":return e.stop()}},e,r)}))();case 14:return e.abrupt("return",this.becomeLeader$.asObservable().pipe((0,m.filter)(function(e){return!0===e.isLeader}),(0,g.first)()).toPromise());case 15:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(e=(0,f.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,this.subs.map(function(e){return e.unsubscribe()}),this.unloads.map(function(e){return e()}),e.next=5,this.die();case 5:this.bc&&this.bc.destroy();case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),t}();function i(e){return new o(e)}var a=r.rxdb=!0,s=r.prototypes={},u=r.overwritable={createLeaderElector:i};r.default={rxdb:a,prototypes:s,overwritable:u}},{"../rx-broadcast-channel":29,"../rx-error":34,"../util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/regenerator":60,"rxjs/BehaviorSubject":544,"rxjs/operators/filter":563,"rxjs/operators/first":564,unload:595}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.RxLocalDocument=void 0;var s=m(e("babel-runtime/regenerator")),n=m(e("babel-runtime/helpers/asyncToGenerator")),i=m(e("babel-runtime/helpers/classCallCheck")),a=m(e("babel-runtime/helpers/createClass")),u=m(e("babel-runtime/helpers/possibleConstructorReturn")),c=m(e("babel-runtime/helpers/inherits")),l=m(e("object-path")),f=m(e("deep-equal")),o=m(e("../rx-document")),d=m(e("../rx-database")),h=m(e("../rx-collection")),p=m(e("../rx-change-event")),b=m(e("../doc-cache")),y=m(e("../rx-error")),v=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),_=e("rxjs/operators/filter");function m(e){return e&&e.__esModule?e:{default:e}}var g=new WeakMap,w=function(e){return g.has(e)||g.set(e,b.default.create()),g.get(e)},x=new WeakMap,k="_local/",j=r.RxLocalDocument=function(e){function o(e,t,r){(0,i.default)(this,o);var n=(0,u.default)(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,null,t));return n.id=e,n.parent=r,n}var t,r;return(0,c.default)(o,e),(0,a.default)(o,[{key:"toPouchJson",value:function(){v.clone(this._data)._id=k+this.id}},{key:"_handleChangeEvent",value:function(e){if(e.data.doc===this.primary)switch(e.data.op){case"UPDATE":var t=v.clone(e.data.v),r=this._dataSync$.getValue(),n=this._data;(0,f.default)(r,n)?(this._data=t,!0!==this._synced$.getValue()&&this._synced$.next(!0)):(!1!==this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=t._rev),this._dataSync$.next(v.clone(t));break;case"REMOVE":w(this.parent).delete(this.primary),this._deleted$.next(!0)}}},{key:"$emit",value:function(e){return this.parent.$emit(e)}},{key:"get",value:function(e){if(this._data){if("string"!=typeof e)throw y.default.newRxTypeError("LD2",{objPath:e});var t=l.default.get(this._data,e);return t=v.clone(t)}}},{key:"get$",value:function(t){if(t.includes(".item."))throw y.default.newRxError("LD3",{path:t});if(t===this.primaryPath)throw y.default.newRxError("LD4");return this._dataSync$.map(function(e){return l.default.get(e,t)}).distinctUntilChanged().asObservable()}},{key:"set",value:function(e,t){if(!t){var r=v.clone(e);return r._rev=this._data._rev,this._data=r,this}if("_id"===e)throw y.default.newRxError("LD5",{objPath:e,value:t});if(!Object.is(this.get(e),t))return l.default.set(this._data,e,t),this}},{key:"save",value:(r=(0,n.default)(s.default.mark(function e(){var t,r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=v.clone(this._data))._id=k+this.id,e.next=4,this.parentPouch.put(t);case 4:r=e.sent,this._data._rev=r.rev,n=p.default.create("UPDATE",d.default.isInstanceOf(this.parent)?this.parent:this.parent.database,h.default.isInstanceOf(this.parent)?this.parent:null,this,v.clone(this._data),!0),this.$emit(n);case 8:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"remove",value:(t=(0,n.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k+this.id,e.next=3,this.parentPouch.remove(t,this._data._rev);case 3:w(this.parent).delete(this.id),r=p.default.create("REMOVE",d.default.isInstanceOf(this.parent)?this.parent:this.parent.database,h.default.isInstanceOf(this.parent)?this.parent:null,this,v.clone(this._data),!0),this.$emit(r);case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"isLocal",get:function(){return!0}},{key:"parentPouch",get:function(){return P(this.parent)}},{key:"allAttachments$",get:function(){throw y.default.newRxError("LD1",{document:this})}},{key:"primaryPath",get:function(){return"id"}},{key:"primary",get:function(){return this.id}},{key:"$",get:function(){return this._dataSync$.asObservable()}}]),o}(o.default.RxDocument),O=!1,S=function(){if(!O){O=!0;["populate","update","putAttachment","getAttachment","allAttachments"].forEach(function(e){return j.prototype[e]=(t=e,function(){throw y.default.newRxError("LD6",{functionName:t})});var t})}};j.create=function(e,t,r){S(),function(r){if(!x.has(r)){var e=r.$.pipe((0,_.filter)(function(e){return e.data.isLocal})).subscribe(function(e){var t=w(r).get(e.data.doc);t&&t._handleChangeEvent(e)});r._subs.push(e),x.set(r,e)}x.get(r)}(r);var n=new j(e,t,r);return w(r).set(e,n),n};var E,C,A,P=function(e){return d.default.isInstanceOf(e)?e._adminPouch:e.pouch},R=(E=(0,n.default)(s.default.mark(function e(t,r){var n,o,i,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.default.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.insertLocal(t,r));case 2:return r=v.clone(r),e.next=5,this.getLocal(t);case 5:if(!e.sent){e.next=8;break}throw y.default.newRxError("LD7",{id:t,data:r});case 8:return n=P(this),(o=v.clone(r))._id=k+t,e.next=13,n.put(o);case 13:return i=e.sent,r._rev=i.rev,a=j.create(t,r,this),e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)}),D=(C=(0,n.default)(s.default.mark(function e(t,r){var n,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.default.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.upsertLocal(t,r));case 2:return e.next=4,this.getLocal(t);case 4:if(n=e.sent){e.next=10;break}return o=this.insertLocal(t,r),e.abrupt("return",o);case 10:return r._rev=n._data._rev,n._data=r,e.next=14,n.save();case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this)})),function(e,t){return C.apply(this,arguments)}),M=(A=(0,n.default)(s.default.mark(function e(t){var r,n,o,i,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.default.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.getLocal(t));case 2:if(r=P(this),n=w(this),o=n.get(t)){e.next=19;break}return e.prev=6,e.next=9,r.get(k+t);case 9:if(i=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return a=j.create(t,i,this),e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(6),e.abrupt("return",null);case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}},e,this,[[6,16]])})),function(e){return A.apply(this,arguments)}),I=r.rxdb=!0,T=r.prototypes={RxCollection:function(e){e.insertLocal=R,e.upsertLocal=D,e.getLocal=M},RxDatabase:function(e){e.insertLocal=R,e.upsertLocal=D,e.getLocal=M}},L=r.overwritable={};r.default={rxdb:I,prototypes:T,overwritable:L}},{"../doc-cache":6,"../rx-change-event":30,"../rx-collection":31,"../rx-database":32,"../rx-document":33,"../rx-error":34,"../util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/possibleConstructorReturn":56,"babel-runtime/regenerator":60,"deep-equal":496,"object-path":513,"rxjs/operators/filter":563}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.RxReplicationState=void 0;var d=m(e("babel-runtime/regenerator")),h=m(e("babel-runtime/helpers/asyncToGenerator")),n=m(e("babel-runtime/helpers/classCallCheck")),o=m(e("babel-runtime/helpers/createClass"));r.createRxReplicationState=w,r.watchForChanges=x,r.sync=k;var i=m(e("pouchdb-replication")),a=e("rxjs/Subject"),s=e("rxjs/BehaviorSubject"),u=e("rxjs/observable/fromEvent"),c=e("rxjs/operators/filter"),l=e("rxjs/operators/map"),f=e("rxjs/operators/delay"),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),b=m(e("../core")),y=m(e("../rx-collection")),v=m(e("../rx-change-event")),_=m(e("../rx-error"));function m(e){return e&&e.__esModule?e:{default:e}}b.default.plugin(i.default);var g=r.RxReplicationState=function(){function r(e){var t=this;(0,n.default)(this,r),this._subs=[],this.collection=e,this._pouchEventEmitterObject=null,this._subjects={change:new a.Subject,docs:new a.Subject,active:new s.BehaviorSubject(!1),complete:new s.BehaviorSubject(!1),error:new a.Subject},Object.keys(this._subjects).forEach(function(e){Object.defineProperty(t,e+"$",{get:function(){return this._subjects[e].asObservable()}})})}var e;return(0,o.default)(r,[{key:"setPouchEventEmitter",value:function(e){var t=this;if(this._pouchEventEmitterObject)throw _.default.newRxError("RC1");this._pouchEventEmitterObject=e,this._subs.push((0,u.fromEvent)(e,"change").subscribe(function(e){return t._subjects.change.next(e)})),this._subs.push((0,u.fromEvent)(e,"change").subscribe(function(e){0!==t._subjects.docs.observers.length&&"pull"===e.direction&&e.change.docs.filter(function(e){return"query"!==e.language}).map(function(e){return t.collection._handleFromPouch(e)}).forEach(function(e){return t._subjects.docs.next(e)})})),this._subs.push((0,u.fromEvent)(e,"error").subscribe(function(e){return t._subjects.error.next(e)})),this._subs.push((0,u.fromEvent)(e,"active").subscribe(function(){return t._subjects.active.next(!0)})),this._subs.push((0,u.fromEvent)(e,"paused").subscribe(function(){return t._subjects.active.next(!1)})),this._subs.push((0,u.fromEvent)(e,"complete").subscribe(function(e){return t._subjects.complete.next(e)}))}},{key:"cancel",value:(e=(0,h.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._pouchEventEmitterObject&&this._pouchEventEmitterObject.cancel(),this._subs.forEach(function(e){return e.unsubscribe()});case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),r}();function w(e){return new g(e)}function x(){var t=this;if(!this.synced){var r={},e=(0,u.fromEvent)(this.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe((0,c.filter)(function(e){return"_"!==e.id.charAt(0)}),(0,l.map)(function(e){return e.doc}),(0,c.filter)(function(e){return!t._changeEventBuffer.buffer.map(function(e){return e.data.v._rev}).includes(e._rev)}),(0,c.filter)(function(e){return r[e._rev]="YES"}),(0,f.delay)(10),(0,l.map)(function(e){var t=null;return"YES"===r[e._rev]&&(t=e),delete r[e._rev],t}),(0,c.filter)(function(e){return null!==e})).subscribe(function(e){t.$emit(v.default.fromPouchChange(e,t))});this._subs.push(e);var n=this.$.pipe((0,l.map)(function(e){return e.data.v}),(0,l.map)(function(e){e&&r[e._rev]&&(r[e._rev]="NO")})).subscribe();this._subs.push(n),this.synced=!0}}function k(e){var r=this,n=e.remote,t=e.waitForLeadership,o=void 0===t||t,i=e.direction,a=void 0===i?{pull:!0,push:!0}:i,s=e.options,u=void 0===s?{live:!0,retry:!0}:s,c=e.query;if(u=p.clone(u),y.default.isInstanceOf(n)&&(n=n.pouch),c&&this!==c.collection)throw _.default.newRxError("RC2",{query:c});var l=p.pouchReplicationFunction(this.pouch,a);c&&(u.selector=c.keyCompress().selector);var f=w(this);return(0,h.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,r.database.waitForLeadership();case 3:e.next=7;break;case 5:return e.next=7,p.promiseWait(0);case 7:t=l(n,u),r.watchForChanges(),f.setPouchEventEmitter(t),r._repStates.push(f);case 11:case"end":return e.stop()}},e,r)}))(),f}var j=r.rxdb=!0,O=r.prototypes={RxCollection:function(e){e.watchForChanges=x,e.sync=k}},S=r.overwritable={};r.default={rxdb:j,prototypes:O,overwritable:S,watchForChanges:x,sync:k}},{"../core":3,"../rx-change-event":30,"../rx-collection":31,"../rx-error":34,"../util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/regenerator":60,"pouchdb-replication":537,"rxjs/BehaviorSubject":544,"rxjs/Subject":551,"rxjs/observable/fromEvent":559,"rxjs/operators/delay":561,"rxjs/operators/filter":563,"rxjs/operators/map":565}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hooks=r.rxdb=void 0;var a=n(e("babel-runtime/helpers/typeof"));r.checkFieldNameRegex=c,r.validateFieldsDeep=l,r.checkSchema=f;var o=n(e("object-path")),i=n(e("../rx-document")),s=n(e("../rx-error")),u=e("../rx-schema");function n(e){return e&&e.__esModule?e:{default:e}}function c(e){if(""!==e){if(["properties","language"].includes(e))throw s.default.newRxError("SC23",{fieldName:e});var t="^[a-zA-Z][[a-zA-Z0-9_]*]?[a-zA-Z0-9]$",r=new RegExp(t);if(!e.match(r))throw s.default.newRxError("SC1",{regex:t,fieldName:e})}}function l(e){function i(e,t,r){if("string"!=typeof e||"object"!==(void 0===t?"undefined":(0,a.default)(t))||Array.isArray(t)||c(e),t.hasOwnProperty("item")&&"array"!==t.type)throw s.default.newRxError("SC2",{fieldName:e});if(t.hasOwnProperty("ref"))switch(t.type){case"string":break;case"array":if(!t.items||!t.items.type||"string"!==t.items.type)throw s.default.newRxError("SC3",{fieldName:e});break;default:throw s.default.newRxError("SC4",{fieldName:e})}if(t.hasOwnProperty("ref")&&t.primary)throw s.default.newRxError("SC5",{fieldName:e});var n=2<=r.split(".").length;if(n){if(t.primary)throw s.default.newRxError("SC6",{path:r,primary:t.primary});if(t.default)throw s.default.newRxError("SC7",{path:r})}if(!n&&"_"===e.charAt(0))throw s.default.newRxError("SC8",{fieldName:e})}return function e(t,r){if("object"===(void 0===t?"undefined":(0,a.default)(t)))for(var n in t){t.properties||i(n,t[n],r);var o=r;"properties"!==n&&(o=o+"."+n),e(t[n],o)}}(e,""),!0}function f(r){if(r.properties._id)throw s.default.newRxError("SC9",{schema:r});if(r.properties._rev)throw s.default.newRxError("SC10",{schema:r});if(!r.hasOwnProperty("version")||"number"!=typeof r.version||r.version<0)throw s.default.newRxError("SC11",{version:r.version});l(r);var n=void 0;if(Object.keys(r.properties).forEach(function(e){var t=r.properties[e];if(t.primary){if(n)throw s.default.newRxError("SC12",{value:t});if(n=e,t.index)throw s.default.newRxError("SC13",{value:t});if(t.unique)throw s.default.newRxError("SC14",{value:t});if(t.encrypted)throw s.default.newRxError("SC15",{value:t});if("string"!==t.type)throw s.default.newRxError("SC16",{value:t})}if(i.default.properties().includes(e))throw s.default.newRxError("SC17",{key:e})}),r.compoundIndexes){if(!Array.isArray(r.compoundIndexes))throw s.default.newRxError("SC18",{compoundIndexes:r.compoundIndexes});r.compoundIndexes.forEach(function(e){if(!Array.isArray(e))throw s.default.newRxError("SC19",{compoundIndexes:r.compoundIndexes});e.forEach(function(e){if("string"!=typeof e)throw s.default.newRxError("SC20",{compoundIndexes:r.compoundIndexes})})})}(0,u.getIndexes)(r).reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,r){return r.indexOf(e)===t}).map(function(e){var t=o.default.get(r,"properties."+e.replace(/\./g,".properties."));if(!t||"object"!==(void 0===t?"undefined":(0,a.default)(t)))throw s.default.newRxError("SC21",{key:e});return{key:e,schemaObj:t}}).filter(function(e){return"string"!==e.schemaObj.type&&"integer"!==e.schemaObj.type&&"number"!==e.schemaObj.type}).forEach(function(e){throw s.default.newRxError("SC22",{key:e.key,type:e.schemaObj.type})})}var d=r.rxdb=!0,h=r.hooks={preCreateRxSchema:f};r.default={rxdb:d,hooks:h}},{"../rx-document":33,"../rx-error":34,"../rx-schema":36,"babel-runtime/helpers/typeof":59,"object-path":513}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prototypes=r.rxdb=r.RxQueryUpdate=void 0;var n,o=c(e("babel-runtime/regenerator")),i=c(e("babel-runtime/helpers/asyncToGenerator")),a=r.RxQueryUpdate=(n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exec();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if(!Array.isArray(r)){e.next=10;break}return e.next=8,Promise.all(r.map(function(e){return e.update(t)}));case 8:e.next=12;break;case 10:return e.next=12,r.update(t);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)});r.update=l;var s=c(e("modifyjs")),u=c(e("deep-equal"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=this,r=(0,s.default)(this._data,e);return Object.keys(this._data).forEach(function(e){r[e]?(0,u.default)(t._data[e],r[e])||(t._data[e]=r[e]):delete t._data[e]}),delete r._rev,delete r._id,Object.keys(r).filter(function(e){return!(0,u.default)(t._data[e],r[e])}).forEach(function(e){return t._data[e]=r[e]}),this.save()}var f=r.rxdb=!0,d=r.prototypes={RxDocument:function(e){e.update=l},RxQuery:function(e){e.update=a}};r.default={rxdb:f,prototypes:d}},{"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/regenerator":60,"deep-equal":496,modifyjs:511}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hooks=r.prototypes=r.rxdb=void 0;var o=a(e("is-my-json-valid")),i=a(e("../rx-error")),n=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}var s={},u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=this.hash;s[t]||(s[t]={});var r=s[t];if(!r[e]){var n=""===e?this.jsonID:this.getSchemaByObjectPath(e);if(!n)throw i.default.newRxError("VD1",{schemaPath:e});r[e]=(0,o.default)(n)}return r[e]},c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=this._getValidator(t);if(r(e))return e;throw i.default.newRxError("VD2",{errors:r.errors,schemaPath:t,obj:e,schema:this.jsonID})},l=r.rxdb=!0,f=r.prototypes={RxSchema:function(e){e._getValidator=u,e.validate=c}},d=r.hooks={createRxSchema:function(e){n.requestIdleCallbackIfAvailable(function(){e._getValidator()})}};r.default={rxdb:l,prototypes:f,hooks:d}},{"../rx-error":34,"../util":38,"is-my-json-valid":508}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("pouchdb-core")),o=a(e("pouchdb-find")),i=a(e("./rx-error"));function a(e){return e&&e.__esModule?e:{default:e}}n.default.plugin(o.default),n.default.countAllUndeleted=function(e){return e.allDocs({include_docs:!1,attachments:!1}).then(function(e){return e.rows.filter(function(e){return!e.id.startsWith("_design/")}).length})},n.default.getBatch=function(e,t){if(t<=1)throw i.default.newRxError("P1",{limit:t});return e.allDocs({include_docs:!0,attachments:!1,limit:t}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!e._id.startsWith("_design")})})},r.default=n.default},{"./rx-error":34,"pouchdb-core":524,"pouchdb-find":529}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{default:e}}r.create=s;var a=function(){function e(){(0,n.default)(this,e),this.subs=[],this._map=new Map}return(0,o.default)(e,[{key:"getByQuery",value:function(e){var t=e.toString();return this._map.has(t)||this._map.set(t,e),this._map.get(t)}},{key:"destroy",value:function(){this.subs.forEach(function(e){return e.unsubscribe()}),this._map=new Map}}]),e}();function s(){return new a}r.default={create:s}},{"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass"));r.enableDebugging=l,r.enable=f,r.create=d;var a=e("pouchdb-selector-core"),i=s(e("object-path"));function s(e){return e&&e.__esModule?e:{default:e}}var b=!1,u=!1,c=function(){function t(e){(0,n.default)(this,t),this.query=e,this.primaryKey=this.query.collection.schema.primaryPath}return(0,o.default)(t,[{key:"runChangeDetection",value:function(e){var r=this;if(0===e.length)return!1;if(!u)return!0;var n=this.query._resultsData,o=!1;return!!e.find(function(e){var t=r.handleSingleChange(n,e);return Array.isArray(t)?(n=t,!(o=!0)):!!t||void 0})||!!o&&n}},{key:"_debugMessage",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"optimized";console.dir({name:"QueryChangeDetector",title:r,query:this.query.toString(),key:e,changeEventData:t})}},{key:"handleSingleChange",value:function(t,e){var r=this,n=t.slice(0),o=this.query.toJSON(),i=e.data.v,a=this._isDocInResultData(i,t),s=this.doesDocMatchQuery(i),u=!o.limit||o.limit&&t.length>=o.limit,c=o.limit&&t.length>=o.limit;b&&(console.log("QueryChangeDetector.handleSingleChange()"),this._debugMessage("start",e.data.v,"handleSingleChange()"),console.log("changeEvent.data:"),console.dir(e.data),console.log("wasDocInResults: "+a),console.log("doesMatchNow: "+s),console.log("isFilled: "+u));var l=null,f=null,d=null;if("REMOVE"===e.data.op){if(!s)return b&&this._debugMessage("R1",i),!1;if(o.skip&&s&&(null===f&&(f=r._isSortedBefore(i,n[0])),f)&&!u)return b&&this._debugMessage("R2",i),n.shift(),n;if(s&&a&&!u)return b&&this._debugMessage("R3",i),n=n.filter(function(e){return e[r.primaryKey]!==i[r.primaryKey]});if(s&&a&&!o.limit&&!o.skip)return b&&this._debugMessage("R3.1",i),n=n.filter(function(e){return e[r.primaryKey]!==i[r.primaryKey]});if(s&&o.limit&&(null===l&&(l=r._isSortedBefore(n[n.length-1],i)),l))return b&&this._debugMessage("R4",i),!1}else{if(!(o.skip||o.limit||a||s))return b&&this._debugMessage("U1",i),!1;if(!o.skip&&!o.limit&&a&&s){var h=n.find(function(e){return e[r.primaryKey]===i[r.primaryKey]}),p=n.indexOf(h);return n[p]=i,function(){if(null===d){var e=t.find(function(e){return e[r.primaryKey]===i[r.primaryKey]});d=r._sortFieldChanged(e,i)}return d}()?(b&&this._debugMessage("U2 - resort",i),this._resortDocData(n)):(b&&this._debugMessage("U2 - no-resort",i),n)}if(!o.skip&&!c&&!a&&s)return b&&this._debugMessage("U3",i),n.push(i),this._resortDocData(n)}return!0}},{key:"doesDocMatchQuery",value:function(e){e=this.query.collection.schema.swapPrimaryToId(e);var t=Object.keys(this.query.toJSON().selector);return 1===(0,a.filterInMemoryFields)([{doc:e}],{selector:(0,a.massageSelector)(this.query.toJSON().selector)},t).length}},{key:"_isDocInResultData",value:function(t,e){var r=this.query.collection.schema.primaryPath;return!!e.find(function(e){return e[r]===t[r]})}},{key:"_sortFieldChanged",value:function(t,r){var e=this.query.toJSON().sort.map(function(e){return Object.keys(e).pop()}),n=!1;return e.find(function(e){return i.default.get(t,e)!==i.default.get(r,e)&&(n=!0)}),n}},{key:"_isSortedBefore",value:function(e,t){var r=this.query.toJSON(),n=Object.keys(this.query.toJSON().selector),o=this.query.collection.schema.swapPrimaryToId(e),i=[o,this.query.collection.schema.swapPrimaryToId(t)].map(function(e){return{id:e._id,doc:e}});return(0,a.filterInMemoryFields)(i,{selector:(0,a.massageSelector)(this.query.toJSON().selector),sort:r.sort},n)[0].id===o._id}},{key:"_resortDocData",value:function(e){var t=this,r=e.map(function(e){return{doc:t.query.collection.schema.swapPrimaryToId(e)}}),n=this.query.toJSON(),o=Object.keys(this.query.toJSON().selector);return(0,a.filterInMemoryFields)(r,{selector:(0,a.massageSelector)(this.query.toJSON().selector),sort:n.sort},o).map(function(e){return e.doc}).map(function(e){return t.query.collection.schema.swapIdToPrimary(e)})}}]),t}();function l(){console.log("QueryChangeDetector.enableDebugging()"),b=!0}function f(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];console.log("QueryChangeDetector.enableDebugging("+e+")"),u=e}function d(e){return new c(e)}r.default={create:d,enableDebugging:l,enable:f}},{"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"object-path":513,"pouchdb-selector-core":538}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=c(e("babel-runtime/helpers/typeof")),o=c(e("babel-runtime/helpers/classCallCheck")),i=c(e("babel-runtime/helpers/createClass"));r.canIUse=d,r.create=h;var a=e("rxjs/observable/fromEvent"),s=e("rxjs/operators/map"),u=e("rxjs/operators/filter");function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function r(e,t){(0,o.default)(this,r),this.name=t,this.database=e,this.token=e.token}return(0,i.default)(r,[{key:"write",value:function(e,t){return this.bc.postMessage(JSON.stringify({type:e,it:this.token,data:t,t:(new Date).getTime()}))}},{key:"destroy",value:function(){this._bc&&this._bc.close()}},{key:"bc",get:function(){return this._bc||(this._bc=new BroadcastChannel("RxDB:"+this.database.name+":"+this.name)),this._bc}},{key:"$",get:function(){var t=this;return this._$||(this._$=(0,a.fromEvent)(this.bc,"message").pipe((0,s.map)(function(e){return e.data}),(0,s.map)(function(e){return JSON.parse(e)}),(0,u.filter)(function(e){return e.it!==t.token}))),this._$}}]),r}(),f=null;function d(){return null===f&&(f=!("object"!==("undefined"==typeof window?"undefined":(0,n.default)(window))||!window.BroadcastChannel||"function"!=typeof window.BroadcastChannel||"function"!=typeof window.BroadcastChannel.prototype.postMessage||"function"!=typeof window.BroadcastChannel.prototype.close)),f}function h(e,t){return d()?new l(e,t):null}r.default={create:h,canIUse:d}},{"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/typeof":59,"rxjs/observable/fromEvent":559,"rxjs/operators/filter":563,"rxjs/operators/map":565}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxChangeEvent=void 0;var n=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass"));r.fromJSON=u,r.fromPouchChange=c,r.create=l,r.isInstanceOf=f;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util"));function a(e){return e&&e.__esModule?e:{default:e}}var s=r.RxChangeEvent=function(){function t(e){(0,n.default)(this,t),this.data=e}return(0,o.default)(t,[{key:"toJSON",value:function(){var e={op:this.data.op,t:this.data.t,db:this.data.db,it:this.data.it,isLocal:this.data.isLocal};return this.data.col&&(e.col=this.data.col),this.data.doc&&(e.doc=this.data.doc),this.data.v&&(e.v=this.data.v),e}},{key:"isIntern",value:function(){return!(!this.data.col||"_"!==this.data.col.charAt(0))}},{key:"isSocket",value:function(){return!(!this.data.col||"_socket"!==this.data.col)}},{key:"hash",get:function(){return this._hash||(this._hash=i.hash(this.data)),this._hash}}]),t}();function u(e){return new s(e)}function c(e,t){var r=e._rev.startsWith("1-")?"INSERT":"UPDATE";e._deleted&&(r="REMOVE"),e=t._handleFromPouch(e);var n={op:r,t:(new Date).getTime(),db:"remote",col:t.name,it:t.database.token,doc:e[t.schema.primaryPath],v:e};return new s(n)}function l(e,t,r,n,o){var i=5<arguments.length&&void 0!==arguments[5]&&arguments[5],a={op:e,t:(new Date).getTime(),db:t.name,it:t.token,isLocal:i};return r&&(a.col=r.name),n&&(a.doc=n.primary),o&&(a.v=o),new s(a)}function f(e){return e instanceof s}r.default={fromJSON:u,fromPouchChange:c,create:l,isInstanceOf:f}},{"./util":38,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.create=r.RxCollection=void 0;var n,o=s(e("babel-runtime/helpers/toConsumableArray")),i=s(e("babel-runtime/helpers/typeof")),g=s(e("babel-runtime/helpers/slicedToArray")),w=s(e("babel-runtime/regenerator")),p=s(e("babel-runtime/helpers/asyncToGenerator")),b=s(e("babel-runtime/helpers/classCallCheck")),y=s(e("babel-runtime/helpers/createClass")),a=r.create=(n=(0,p.default)(w.default.mark(function e(t){var o,r=t.database,n=t.name,i=t.schema,a=t.pouchSettings,s=void 0===a?{}:a,u=t.migrationStrategies,c=void 0===u?{}:u,l=t.autoMigrate,f=void 0===l||l,d=t.statics,h=void 0===d?{}:d,p=t.methods,b=void 0===p?{}:p,y=t.attachments,v=void 0===y?{}:y,_=t.options,m=void 0===_?{}:_;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.validateCouchDBString(n),L(i,c),F(h),F(b),F(v),Object.keys(b).filter(function(e){return i.topLevelFields.includes(e)}).forEach(function(e){throw O.default.newRxError("COL18",{funName:e})}),o=new T(r,n,i,s,c,b,v,m),e.next=9,o.prepare();case 9:if(Object.entries(h).forEach(function(e){var t=(0,g.default)(e,2),r=t[0],n=t[1];return o.__defineGetter__(r,function(){return n.bind(o)})}),!f){e.next=13;break}return e.next=13,o.migratePromise();case 13:return(0,D.runPluginHooks)("createRxCollection",o),e.abrupt("return",o);case 15:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)});r.properties=c,r.isInstanceOf=l;var v=s(e("custom-idle-queue")),_=e("rxjs/operators/filter"),x=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),m=s(e("./rx-document")),k=s(e("./rx-query")),j=s(e("./rx-change-event")),O=s(e("./rx-error")),S=s(e("./data-migrator")),E=s(e("./crypter")),C=s(e("./doc-cache")),A=s(e("./query-cache")),P=s(e("./change-event-buffer")),R=s(e("./overwritable")),D=e("./hooks");function s(e){return e&&e.__esModule?e:{default:e}}var M=["pre","post"],I=["insert","save","remove","create"],T=r.RxCollection=function(){function c(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},a=this,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{},u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{};(0,b.default)(this,c),this._isInMemory=!1,this.destroyed=!1,this.database=e,this.name=t,this.schema=r,this._migrationStrategies=o,this._pouchSettings=n,this._methods=i,this._attachments=s,this.options=u,this._atomicUpsertQueues={},this._docCache=C.default.create(),this._queryCache=A.default.create(),this.synced=!1,this.hooks={},this._subs=[],this._repStates=[],this.pouch=null,I.forEach(function(n){M.map(function(r){var e=r+x.ucfirst(n);a[e]=function(e,t){return a.addHook(r,n,e,t)}})})}var e,n,t,r,o,i,a,s,u,l,f,d,h;return(0,y.default)(c,[{key:"prepare",value:(h=(0,p.default)(w.default.mark(function e(){var r=this;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._dataMigrator=S.default.create(this,this._migrationStrategies),this._crypter=E.default.create(this.database.password,this.schema),this.pouch=this.database._spawnPouchDB(this.name,this.schema.version,this._pouchSettings),e.next=5,this.database.lockedRun(function(){return r.pouch.info()});case 5:return this._observable$=this.database.$.pipe((0,_.filter)(function(e){return e.data.col===r.name})),this._changeEventBuffer=P.default.create(this),e.next=9,Promise.all(this.schema.indexes.map(function(e){var t=e.map(function(e){return r.schema.doKeyCompression()?r._keyCompressor._transformKey("","",e.split(".")):e});return r.database.lockedRun(function(){return r.pouch.createIndex({index:{fields:t}})})}));case 9:this._subs.push(this._observable$.pipe((0,_.filter)(function(e){return!e.data.isLocal})).subscribe(function(e){var t=r._docCache.get(e.data.doc);t&&t._handleChangeEvent(e)}));case 10:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"migrationNeeded",value:function(){return 0!==this.schema.version&&this._dataMigrator._getOldCollections().then(function(e){return 0<e.length})}},{key:"migrate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migrate(e)}},{key:"migratePromise",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migratePromise(e)}},{key:"_handleToPouch",value:function(e){var t=x.clone(e);return t=this._crypter.encrypt(t),t=this.schema.swapPrimaryToId(t),this.schema.doKeyCompression()&&(t=this._keyCompressor.compress(t)),t}},{key:"_handleFromPouch",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=x.clone(e);return r=this.schema.swapIdToPrimary(r),this.schema.doKeyCompression()&&(r=this._keyCompressor.decompress(r)),t?r:r=this._crypter.decrypt(r)}},{key:"_pouchPut",value:(d=(0,p.default)(w.default.mark(function e(t){var r,n,o=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._handleToPouch(t),r=null,e.prev=2,e.next=5,this.database.lockedRun(function(){return o.pouch.put(t)});case 5:r=e.sent,e.next=21;break;case 8:if(e.prev=8,e.t0=e.catch(2),!i||409!==e.t0.status){e.next=20;break}return e.next=13,this.database.lockedRun(function(){return o.pouch.get(t._id)});case 13:return n=e.sent,t._rev=n._rev,e.next=17,this.database.lockedRun(function(){return o.pouch.put(t)});case 17:r=e.sent,e.next=21;break;case 20:throw e.t0;case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}},e,this,[[2,8]])})),function(e){return d.apply(this,arguments)})},{key:"_pouchGet",value:function(e){var t=this;return this.pouch.get(e).then(function(e){return t._handleFromPouch(e)})}},{key:"_pouchFind",value:(f=(0,p.default)(w.default.mark(function e(t,r){var n,o,i,a=this,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.keyCompress(),r&&(n.limit=r),e.next=4,this.database.lockedRun(function(){return a.pouch.find(n)});case 4:return o=e.sent,i=o.docs.map(function(e){return a._handleFromPouch(e,s)}),e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return f.apply(this,arguments)})},{key:"_assignMethodsToDocument",value:function(o){Object.entries(this._methods).forEach(function(e){var t=(0,g.default)(e,2),r=t[0],n=t[1];return o.__defineGetter__(r,function(){return n.bind(o)})})}},{key:"_createDocument",value:(l=(0,p.default)(w.default.mark(function e(t){var r,n,o;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[this.schema.primaryPath],!(n=this._docCache.get(r))){e.next=4;break}return e.abrupt("return",n);case 4:return o=m.default.create(this,t),this._assignMethodsToDocument(o),this._docCache.set(r,o),this._runHooksSync("post","create",o),e.next=10,(0,D.runAsyncPluginHooks)("postCreateRxDocument",o);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"_createDocuments",value:(u=(0,p.default)(w.default.mark(function e(t){var r=this;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(e){return r._createDocument(e)})));case 1:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"$emit",value:function(e){return this.database.$emit(e)}},{key:"insert",value:(s=(0,p.default)(w.default.mark(function e(t){var r,n,o,i;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!m.default.isInstanceOf(t)){e.next=6;break}if((r=t)._isTemporary){e.next=5;break}throw O.default.newRxError("COL1",{data:t});case 5:t=t.toJSON();case 6:if(t=x.clone(t),!(t=this.schema.fillObjectWithDefaults(t))._id){e.next=10;break}throw O.default.newRxError("COL2",{data:t});case 10:return"_id"!==this.schema.primaryPath||t._id||(t._id=x.generateId()),e.next=13,this._runHooks("pre","insert",t);case 13:return this.schema.validate(t),e.next=16,this._pouchPut(t);case 16:if(n=e.sent,t[this.schema.primaryPath]=n.id,t._rev=n.rev,!(o=r)){e.next=24;break}r._data=t,e.next=27;break;case 24:return e.next=26,this._createDocument(t);case 26:o=e.sent;case 27:return e.next=29,this._runHooks("post","insert",o);case 29:return i=j.default.create("INSERT",this.database,this,o,t),this.$emit(i),e.abrupt("return",o);case 32:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"upsert",value:(a=(0,p.default)(w.default.mark(function e(t){var r,n,o;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.clone(t),r=t[this.schema.primaryPath]){e.next=4;break}throw O.default.newRxError("COL3",{primaryPath:this.schema.primaryPath,data:t});case 4:return e.next=6,this.findOne(r).exec();case 6:if(!(n=e.sent)){e.next=15;break}return t._rev=n._rev,n._data=t,e.next=12,n.save();case 12:return e.abrupt("return",n);case 15:return e.next=17,this.insert(t);case 17:return o=e.sent,e.abrupt("return",o);case 19:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_atomicUpsertEnsureRxDocumentExists",value:(i=(0,p.default)(w.default.mark(function e(t,r){var n,o;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findOne(t).exec();case 2:if(n=e.sent){e.next=10;break}return e.next=6,this.insert(r);case 6:return o=e.sent,e.abrupt("return",{doc:o,inserted:!0});case 10:return e.abrupt("return",{doc:n,inserted:!1});case 11:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"_atomicUpsertUpdate",value:(o=(0,p.default)(w.default.mark(function e(t,r){return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.atomicUpdate(function(e){r._rev=e._rev,e._data=r});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"atomicUpsert",value:(r=(0,p.default)(w.default.mark(function e(r){var n,t,o,i=this;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x.clone(r),n=r[this.schema.primaryPath]){e.next=4;break}throw O.default.newRxError("COL4",{data:r});case 4:return this._atomicUpsertQueues[n]||(this._atomicUpsertQueues[n]=new v.default),t=this._atomicUpsertQueues[n],e.next=8,t.requestIdlePromise();case 8:return e.next=10,t.wrapCall((0,p.default)(w.default.mark(function e(){var t;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._atomicUpsertEnsureRxDocumentExists(n,r);case 2:if((t=e.sent).inserted){e.next=11;break}return e.next=6,i._atomicUpsertUpdate(t.doc,r);case 6:return e.next=8,x.nextTick();case 8:case 11:return e.abrupt("return",t.doc);case 12:case"end":return e.stop()}},e,i)})));case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"find",value:function(e){if("string"==typeof e)throw O.default.newRxError("COL5",{queryObj:e});return k.default.create("find",e,this)}},{key:"findOne",value:function(e){var t=void 0;if(t="string"==typeof e?k.default.create("findOne",{_id:e},this):k.default.create("findOne",e,this),"number"==typeof e||Array.isArray(e))throw O.default.newRxTypeError("COL6",{queryObj:e});return t}},{key:"dump",value:function(){throw O.default.pluginMissing("json-dump")}},{key:"importDump",value:(t=(0,p.default)(w.default.mark(function e(){return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw O.default.pluginMissing("json-dump");case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"watchForChanges",value:function(){throw O.default.pluginMissing("replication")}},{key:"sync",value:function(){throw O.default.pluginMissing("replication")}},{key:"inMemory",value:function(){throw O.default.pluginMissing("in-memory")}},{key:"addHook",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof r)throw O.default.newRxTypeError("COL7",{key:t,when:e});if(!M.includes(e))throw O.default.newRxTypeError("COL8",{key:t,when:e});if(!I.includes(t))throw O.default.newRxError("COL9",{key:t});if("post"===e&&"create"===t&&!0===n)throw O.default.newRxError("COL10",{when:e,key:t,parallel:n});var o=n?"parallel":"series";this.hooks[t]=this.hooks[t]||{},this.hooks[t][e]=this.hooks[t][e]||{series:[],parallel:[]},this.hooks[t][e][o].push(r)}},{key:"getHooks",value:function(e,t){try{return this.hooks[t][e]}catch(e){return{series:[],parallel:[]}}}},{key:"_runHooks",value:(n=(0,p.default)(w.default.mark(function e(t,r,n){var o,i;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.getHooks(t,r)){e.next=3;break}return e.abrupt("return");case 3:i=0;case 4:if(!(i<o.series.length)){e.next=10;break}return e.next=7,o.series[i](n);case 7:i++,e.next=4;break;case 10:return e.next=12,Promise.all(o.parallel.map(function(e){return e(n)}));case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"_runHooksSync",value:function(e,t,r){var n=this.getHooks(e,t);n&&n.series.forEach(function(e){return e(r)})}},{key:"newDocument",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e=this.schema.fillObjectWithDefaults(e);var t=m.default.create(this,e);return t._isTemporary=!0,this._assignMethodsToDocument(t),this._runHooksSync("post","create",t),t}},{key:"destroy",value:(e=(0,p.default)(w.default.mark(function e(){return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(e){return e.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this._queryCache.destroy(),this._repStates.forEach(function(e){return e.cancel()}),delete this.database.collections[this.name],this.destroyed=!0;case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"remove",value:function(){return this.database.removeCollection(this.name)}},{key:"_keyCompressor",get:function(){return this.__keyCompressor||(this.__keyCompressor=R.default.createKeyCompressor(this.schema)),this.__keyCompressor}},{key:"$",get:function(){return this._observable$}},{key:"onDestroy",get:function(){var t=this;return this._onDestroy||(this._onDestroy=new Promise(function(e){return t._onDestroyCall=e})),this._onDestroy}}]),c}(),L=function(t,r){if("object"!==(void 0===r?"undefined":(0,i.default)(r))||Array.isArray(r))throw O.default.newRxTypeError("COL11",{schema:t});if(t.previousVersions.length!==Object.keys(r).length)throw O.default.newRxError("COL12",{have:Object.keys(r),should:t.previousVersions});return t.previousVersions.map(function(e){return{v:e,s:r[e+1+""]}}).filter(function(e){return"function"!=typeof e.s}).forEach(function(e){throw O.default.newRxTypeError("COL13",{version:e.v,type:void 0===e?"undefined":(0,i.default)(e),schema:t})}),!0},u=null;function c(){if(!u){var e=new T,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));u=[].concat((0,o.default)(t),(0,o.default)(r))}return u}var F=function(e){Object.entries(e).forEach(function(e){var t=(0,g.default)(e,2),r=t[0],n=t[1];if("string"!=typeof r)throw O.default.newRxTypeError("COL14",{name:r});if(r.startsWith("_"))throw O.default.newRxTypeError("COL15",{name:r});if("function"!=typeof n)throw O.default.newRxTypeError("COL16",{name:r,type:void 0===r?"undefined":(0,i.default)(r)});if(c().includes(r)||m.default.properties().includes(r))throw O.default.newRxError("COL17",{name:r})})};function l(e){return e instanceof T}r.default={create:a,properties:c,isInstanceOf:l,RxCollection:T}},{"./change-event-buffer":2,"./crypter":4,"./data-migrator":5,"./doc-cache":6,"./hooks":7,"./overwritable":11,"./query-cache":27,"./rx-change-event":30,"./rx-document":33,"./rx-error":34,"./rx-query":35,"./util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/slicedToArray":57,"babel-runtime/helpers/toConsumableArray":58,"babel-runtime/helpers/typeof":59,"babel-runtime/regenerator":60,"custom-idle-queue":495,"rxjs/operators/filter":563}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxSchema=r.checkAdapter=r.removeDatabase=r.create=r.RxDatabase=void 0;var n,o,i,a=E(e("babel-runtime/helpers/toConsumableArray")),p=E(e("babel-runtime/regenerator")),s=E(e("babel-runtime/helpers/asyncToGenerator")),u=E(e("babel-runtime/helpers/classCallCheck")),c=E(e("babel-runtime/helpers/createClass")),l=r.create=(n=(0,s.default)(p.default.mark(function e(t){var r,n=t.name,o=t.adapter,i=t.password,a=t.multiInstance,s=void 0===a||a,u=t.ignoreDuplicate,c=void 0!==u&&u,l=t.options,f=void 0===l?{}:l,d=t.pouchSettings,h=void 0===d?{}:d;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.validateCouchDBString(n),"string"!=typeof o){e.next=6;break}if(y.default.adapters&&y.default.adapters[o]){e.next=4;break}throw _.default.newRxError("DB9",{adapter:o});case 4:e.next=9;break;case 6:if(v.isLevelDown(o),y.default.adapters&&y.default.adapters.leveldb){e.next=9;break}throw _.default.newRxError("DB10",{adapter:o});case 9:return i&&k.default.validatePassword(i),c||M(n,o),C[n]||(C[n]=[]),C[n].push(o),r=new P(n,o,i,s,f,h),e.next=16,r.prepare();case 16:return(0,j.runPluginHooks)("createRxDatabase",r),e.abrupt("return",r);case 18:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),f=r.removeDatabase=(o=(0,s.default)(p.default.mark(function e(o,i){var t,r,n,a;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=L(o,i),r=T(o,i,"_socket",0),n=F(o,i),e.next=5,n.allDocs({include_docs:!0});case 5:return a=e.sent,Promise.all(a.rows.map(function(e){return e.id}).map(function(e){var t=e.split("-"),r=t[0],n=parseInt(t[1],10);return T(o,i,r,n).destroy()})),e.next=9,Promise.all([n.destroy(),t.destroy(),r.destroy()]);case 9:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)}),d=r.checkAdapter=(i=(0,s.default)(p.default.mark(function e(t){return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.default.checkAdapter(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)});r.properties=D,r.isInstanceOf=q,r.dbCount=B;var h=E(e("random-token")),b=E(e("custom-idle-queue")),y=E(e("./pouch-db")),v=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),_=E(e("./rx-error")),m=E(e("./rx-collection")),g=E(e("./rx-schema")),w=E(e("./rx-change-event")),x=E(e("./socket")),k=E(e("./overwritable")),j=e("./hooks"),O=e("rxjs/Subject"),S=e("rxjs/operators/filter");function E(e){return e&&e.__esModule?e:{default:e}}var C={},A=0,P=r.RxDatabase=function(){function a(e,t,r,n,o,i){(0,u.default)(this,a),void 0!==e&&A++,this.name=e,this.adapter=t,this.password=r,this.multiInstance=n,this.options=o,this.pouchSettings=i,this.idleQueue=new b.default,this.token=(0,h.default)(10),this._subs=[],this.destroyed=!1,this.collections={},this.subject=new O.Subject,this.observable$=this.subject.asObservable().pipe((0,S.filter)(function(e){return w.default.isInstanceOf(e)}))}var e,t,r,n,o,i;return(0,c.default)(a,[{key:"prepare",value:(i=(0,s.default)(p.default.mark(function e(){var t,r=this;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.password){e.next=22;break}return e.next=3,this.lockedRun(function(){return r._adminPouch.info()});case 3:return t=null,e.prev=4,e.next=7,this.lockedRun(function(){return r._adminPouch.get("_local/pwHash")});case 7:t=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:if(t){e.next=20;break}return e.prev=13,e.next=16,this.lockedRun(function(){return r._adminPouch.put({_id:"_local/pwHash",value:v.hash(r.password)})});case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(13);case 20:if(!t||!this.password||v.hash(this.password)===t.value){e.next=22;break}throw _.default.newRxError("DB1",{passwordHash:v.hash(this.password),existingPasswordHash:t.value});case 22:if(!this.multiInstance){e.next=27;break}return e.next=25,x.default.create(this);case 25:this.socket=e.sent,this._subs.push(this.socket.messages$.subscribe(function(e){return r.$emit(e)}));case 27:case"end":return e.stop()}},e,this,[[4,10],[13,18]])})),function(){return i.apply(this,arguments)})},{key:"_spawnPouchDB",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return T(this.name,this.adapter,e,t,r,this.pouchSettings)}},{key:"waitForLeadership",value:(o=(0,s.default)(p.default.mark(function e(){return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.multiInstance){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.leaderElector.waitForLeadership());case 3:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"writeToSocket",value:function(e){return this.multiInstance&&!e.isIntern()&&this.socket?this.socket.write(e).then(function(){return!0}):Promise.resolve(!1)}},{key:"$emit",value:function(e){e&&(this.subject.next(e),e.data.it===this.token&&this.writeToSocket(e))}},{key:"_collectionNamePrimary",value:function(e,t){return e+"-"+t.version}},{key:"removeCollectionDoc",value:function(e,t){var r=this,n=this._collectionNamePrimary(e,t);return this._collectionsPouch.get(n).then(function(e){return r.lockedRun(function(){return r._collectionsPouch.remove(e)})})}},{key:"_removeAllOfCollection",value:(n=(0,s.default)(p.default.mark(function e(t){var r,n,o=this;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lockedRun(function(){return o._collectionsPouch.allDocs({include_docs:!0})});case 2:return r=e.sent,n=r.rows.map(function(e){return e.doc}).filter(function(e){return e._id.split("-")[0]===t}),e.next=6,Promise.all(n.map(function(e){return o.lockedRun(function(){return o._collectionsPouch.remove(e)})}));case 6:return e.abrupt("return",n.map(function(e){return e.version}));case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"collection",value:(r=(0,s.default)(p.default.mark(function e(t){var r,n,o,i,a,s,u=this;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=2;break}return e.abrupt("return",this.collections[t]);case 2:if(t.database=this,"_"!==t.name.charAt(0)){e.next=5;break}throw _.default.newRxError("DB2",{name:t.name});case 5:if(!this.collections[t.name]){e.next=7;break}throw _.default.newRxError("DB3",{name:t.name});case 7:if(t.schema){e.next=9;break}throw _.default.newRxError("DB4",{name:t.name,args:t});case 9:if(g.default.isInstanceOf(t.schema)||(t.schema=g.default.create(t.schema)),r=this._collectionNamePrimary(t.name,t.schema),!D().includes(t.name)){e.next=13;break}throw _.default.newRxError("DB5",{name:t.name});case 13:return n=t.schema.hash,o=null,e.prev=15,e.next=18,this.lockedRun(function(){return u._collectionsPouch.get(r)});case 18:o=e.sent,e.next=23;break;case 21:e.prev=21,e.t0=e.catch(15);case 23:if(!o||o.schemaHash===n){e.next=30;break}return i=this._spawnPouchDB(t.name,t.schema.version,t.pouchSettings),e.next=27,i.find({selector:{language:{$ne:"query"}},limit:1});case 27:if(0===e.sent.docs.length){e.next=30;break}throw _.default.newRxError("DB6",{name:t.name,previousSchemaHash:o.schemaHash,schemaHash:n});case 30:return e.next=32,m.default.create(t);case 32:if(a=e.sent,!(0<Object.keys(a.schema.encryptedPaths).length)||this.password){e.next=35;break}throw _.default.newRxError("DB7",{name:t.name});case 35:if(o){e.next=43;break}return e.prev=36,e.next=39,this.lockedRun(function(){return u._collectionsPouch.put({_id:r,schemaHash:n,schema:a.schema.normalized,version:a.schema.version})});case 39:e.next=43;break;case 41:e.prev=41,e.t1=e.catch(36);case 43:return(s=w.default.create("RxDatabase.collection",this)).data.v=a.name,s.data.col="_collections",this.$emit(s),this.collections[t.name]=a,this.__defineGetter__(t.name,function(){return u.collections[t.name]}),e.abrupt("return",a);case 50:case"end":return e.stop()}},e,this,[[15,21],[36,41]])})),function(e){return r.apply(this,arguments)})},{key:"removeCollection",value:(t=(0,s.default)(p.default.mark(function e(t){var r,n,o=this;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.collections[t]){e.next=3;break}return e.next=3,this.collections[t].destroy();case 3:return e.next=5,this._removeAllOfCollection(t);case 5:return r=e.sent,n=r.map(function(e){return o._spawnPouchDB(t,e)}),e.abrupt("return",Promise.all(n.map(function(e){return o.lockedRun(function(){return e.destroy()})})));case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"lockedRun",value:function(e){return this.idleQueue.wrapCall(e)}},{key:"requestIdlePromise",value:function(){return this.idleQueue.requestIdlePromise()}},{key:"dump",value:function(){throw _.default.pluginMissing("json-dump")}},{key:"importDump",value:function(){throw _.default.pluginMissing("json-dump")}},{key:"server",value:function(){throw _.default.pluginMissing("server")}},{key:"destroy",value:(e=(0,s.default)(p.default.mark(function e(){var t=this;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if((0,j.runPluginHooks)("preDestroyRxDatabase",this),A--,this.destroyed=!0,e.t0=this.socket,!e.t0){e.next=9;break}return e.next=9,this.socket.destroy();case 9:if(!this._leaderElector){e.next=12;break}return e.next=12,this._leaderElector.destroy();case 12:return this._subs.map(function(e){return e.unsubscribe()}),e.next=15,Promise.all(Object.keys(this.collections).map(function(e){return t.collections[e]}).map(function(e){return e.destroy()}));case 15:I(this.name,this.adapter);case 16:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"remove",value:function(){var e=this;return this.destroy().then(function(){return f(e.name,e.adapter)})}},{key:"_adminPouch",get:function(){return this.__adminPouch||(this.__adminPouch=L(this.name,this.adapter,this.pouchSettings)),this.__adminPouch}},{key:"_collectionsPouch",get:function(){return this.__collectionsPouch||(this.__collectionsPouch=F(this.name,this.adapter,this.pouchSettings)),this.__collectionsPouch}},{key:"leaderElector",get:function(){return this._leaderElector||(this._leaderElector=k.default.createLeaderElector(this)),this._leaderElector}},{key:"isLeader",get:function(){return!this.multiInstance||this.leaderElector.isLeader}},{key:"$",get:function(){return this.observable$}}]),a}(),R=null;function D(){if(!R){var e=new P,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));R=[].concat((0,a.default)(t),(0,a.default)(r))}return R}function M(e,t){if(!C[e])return!1;var r=!1;if(C[e].forEach(function(e){e===t&&(r=!0)}),r)throw _.default.newRxError("DB8",{name:e,adapter:t,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}function I(e,t){if(C[e]){var r=C[e].indexOf(t);C[e].splice(r,1)}}function T(e,t,r,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},a={location:e+"-rxdb-"+n+"-"+r,adapter:v.adapterObject(t),settings:o},s=Object.assign({},a.adapter,i);return(0,j.runPluginHooks)("preCreatePouchDb",a),new y.default(a.location,s,a.settings)}function L(e,t){return T(e,t,"_admin",0,{auto_compaction:!1,revs_limit:1},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})}function F(e,t){return T(e,t,"_collections",0,{auto_compaction:!1,revs_limit:1},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})}function q(e){return e instanceof P}function B(){return A}r.RxSchema=g.default,r.default={create:l,removeDatabase:f,checkAdapter:d,isInstanceOf:q,RxDatabase:P,RxSchema:g.default,dbCount:B}},{"./hooks":7,"./overwritable":11,"./pouch-db":26,"./rx-change-event":30,"./rx-collection":31,"./rx-error":34,"./rx-schema":36,"./socket":37,"./util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/toConsumableArray":58,"babel-runtime/regenerator":60,"custom-idle-queue":495,"random-token":541,"rxjs/Subject":551,"rxjs/operators/filter":563}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxDocument=void 0;var n=i(e("babel-runtime/helpers/toConsumableArray")),c=i(e("babel-runtime/regenerator")),l=i(e("babel-runtime/helpers/asyncToGenerator")),f=i(e("babel-runtime/helpers/typeof")),d=i(e("babel-runtime/helpers/classCallCheck")),h=i(e("babel-runtime/helpers/createClass"));r.create=s,r.createAr=u,r.properties=j,r.isInstanceOf=O;var p=i(e("custom-idle-queue")),b=i(e("object-path")),y=i(e("deep-equal")),v=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),_=i(e("./rx-change-event")),m=i(e("./rx-error")),o=e("./hooks"),g=e("rxjs/BehaviorSubject"),w=e("rxjs/operators/distinctUntilChanged"),x=e("rxjs/operators/map");function i(e){return e&&e.__esModule?e:{default:e}}var a=r.RxDocument=function(){function r(e,t){(0,d.default)(this,r),this.collection=e,this._isTemporary=!1,this._dataSync$=new g.BehaviorSubject(v.clone(t)),this._data=v.clone(t),this._synced$=new g.BehaviorSubject(!0),this._deleted$=new g.BehaviorSubject(!1)}var e,t,n,o,i,a,s,u;return(0,h.default)(r,[{key:"prepare",value:function(){this._defineGetterSetter(this,"")}},{key:"resync",value:function(){var e=this._dataSync$.getValue();this._synced$.getValue()&&(0,y.default)(e,this._data)||(this._data=v.clone(this._dataSync$.getValue()),this._synced$.next(!0))}},{key:"_handleChangeEvent",value:function(e){if(e.data.doc===this.primary)switch(e.data.op){case"INSERT":break;case"UPDATE":var t=v.clone(e.data.v),r=this._dataSync$.getValue(),n=this._data;(0,y.default)(r,n)?(this._data=t,!0!==this._synced$.getValue()&&this._synced$.next(!0)):(!1!==this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=t._rev),this._dataSync$.next(v.clone(t));break;case"REMOVE":this.collection._docCache.delete(this.primary),this._deleted$.next(!0)}}},{key:"$emit",value:function(e){return this.collection.$emit(e)}},{key:"get$",value:function(t){if(t.includes(".item."))throw m.default.newRxError("DOC1",{path:t});if(t===this.primaryPath)throw m.default.newRxError("DOC2");if(this.collection.schema.finalFields.includes(t))throw m.default.newRxError("DOC3",{path:t});if(!this.collection.schema.getSchemaByObjectPath(t))throw m.default.newRxError("DOC4",{path:t});return this._dataSync$.pipe((0,x.map)(function(e){return b.default.get(e,t)}),(0,w.distinctUntilChanged)()).asObservable()}},{key:"populate",value:function(e){var t=this.collection.schema.getSchemaByObjectPath(e),r=this.get(e);if(!t)throw m.default.newRxError("DOC5",{path:e});if(!t.ref)throw m.default.newRxError("DOC6",{path:e,schemaObj:t});var n=this.collection.database.collections[t.ref];if(!n)throw m.default.newRxError("DOC7",{ref:t.ref,path:e,schemaObj:t});return"array"===t.type?Promise.all(r.map(function(e){return n.findOne(e).exec()})):n.findOne(r).exec()}},{key:"get",value:function(e){if(this._data){var t=b.default.get(this._data,e);return"object"!==(void 0===(t=v.clone(t))?"undefined":(0,f.default)(t))||Array.isArray(t)||this._defineGetterSetter(t,e),t}}},{key:"_defineGetterSetter",value:function(r){var n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(null!==r){var e=this.collection.schema.getSchemaByObjectPath(o);e.properties&&(e=e.properties),Object.keys(e).forEach(function(e){var t=v.trimDots(o+"."+e);r.__defineGetter__(e,function(){return n.get(t)}),Object.defineProperty(r,e+"$",{get:function(){return n.get$(t)},enumerable:!1,configurable:!1}),Object.defineProperty(r,e+"_",{get:function(){return n.populate(t)},enumerable:!1,configurable:!1}),r.__defineSetter__(e,function(e){return n.set(t,e)})})}}},{key:"toJSON",value:function(){return v.clone(this._data)}},{key:"set",value:function(e,t){if("string"!=typeof e)throw m.default.newRxTypeError("DOC15",{objPath:e,value:t});if(!this._isTemporary&&e===this.primaryPath)throw m.default.newRxError("DOC8",{objPath:e,value:t,primaryPath:this.primaryPath});if(!this._isTemporary&&this.collection.schema.finalFields.includes(e))throw m.default.newRxError("DOC9",{path:e,value:t});if(!Object.is(this.get(e),t)){var r=e.split(".");r.pop();var n=r.join(".");if(void 0===b.default.get(this._data,n))throw m.default.newRxError("DOC10",{childpath:e,rootPath:n});return this._isTemporary||this.collection.schema.validate(t,e),b.default.set(this._data,e,t),this}}},{key:"update",value:(u=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw m.default.pluginMissing("update");case 1:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"putAttachment",value:(s=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw m.default.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"getAttachment",value:(a=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw m.default.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"allAttachments",value:(i=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw m.default.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"atomicUpdate",value:(o=(0,l.default)(c.default.mark(function e(t){var r,n=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.atomicQueue,e.next=3,r.requestIdlePromise();case 3:return e.next=5,r.wrapCall(function(){return Promise.resolve(t(n)).then(function(){return n.save()})});case 5:return e.abrupt("return",this);case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"save",value:(n=(0,l.default)(c.default.mark(function e(){var t,r,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isTemporary){e.next=2;break}return e.abrupt("return",this._saveTemporary());case 2:if(!this._deleted$.getValue()){e.next=4;break}throw m.default.newRxError("DOC11",{id:this.primary,document:this});case 4:if(!(0,y.default)(this._data,this._dataSync$.getValue())){e.next=7;break}return this._synced$.next(!0),e.abrupt("return",!1);case 7:return e.next=9,this.collection._runHooks("pre","save",this);case 9:return this.collection.schema.validate(this._data),e.next=12,this.collection._pouchPut(v.clone(this._data));case 12:if((t=e.sent).ok){e.next=15;break}throw m.default.newRxError("DOC12",{data:t});case 15:return(r=v.clone(this._data))._rev=t.rev,this._data=r,e.next=20,this.collection._runHooks("post","save",this);case 20:return this._synced$.next(!0),this._dataSync$.next(v.clone(r)),n=_.default.create("UPDATE",this.collection.database,this.collection,this,r),this.$emit(n),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_saveTemporary",value:(t=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.insert(this);case 2:return this._isTemporary=!1,this.collection._docCache.set(this.primary,this),this._synced$.next(!0),this._dataSync$.next(v.clone(this._data)),e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"remove",value:(e=(0,l.default)(c.default.mark(function e(){var t=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.deleted){e.next=2;break}throw m.default.newRxError("DOC13",{document:this,id:this.primary});case 2:return e.next=4,v.promiseWait(0);case 4:return e.next=6,this.collection._runHooks("pre","remove",this);case 6:return e.next=8,this.collection.database.lockedRun(function(){return t.collection.pouch.remove(t.primary,t._data._rev)});case 8:return this.$emit(_.default.create("REMOVE",this.collection.database,this.collection,this,this._data)),e.next=11,this.collection._runHooks("post","remove",this);case 11:return e.next=13,v.promiseWait(0);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){throw m.default.newRxError("DOC14")}},{key:"primaryPath",get:function(){return this.collection.schema.primaryPath}},{key:"primary",get:function(){return this._data[this.primaryPath]}},{key:"revision",get:function(){return this._data._rev}},{key:"deleted$",get:function(){return this._deleted$.asObservable()}},{key:"deleted",get:function(){return this._deleted$.getValue()}},{key:"atomicQueue",get:function(){return this._atomicQueue||(this._atomicQueue=new p.default),this._atomicQueue}},{key:"synced$",get:function(){return this._synced$.pipe((0,w.distinctUntilChanged)()).asObservable()}},{key:"synced",get:function(){return this._synced$.getValue()}},{key:"$",get:function(){return this._dataSync$.asObservable()}},{key:"allAttachments$",get:function(){throw m.default.pluginMissing("attachments")}}]),r}();function s(e,t){if(t[e.schema.primaryPath]&&t[e.schema.primaryPath].startsWith("_design"))return null;var r=new a(e,t);return r.prepare(),(0,o.runPluginHooks)("createRxDocument",r),r}function u(t,e){return e.map(function(e){return s(t,e)}).filter(function(e){return null!==e})}var k=void 0;function j(){if(!k){var e=new a,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));k=[].concat((0,n.default)(t),(0,n.default)(r),["deleted","synced"])}return k}function O(e){return e instanceof a}r.default={create:s,createAr:u,properties:j,RxDocument:a,isInstanceOf:O}},{"./hooks":7,"./rx-change-event":30,"./rx-error":34,"./util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/toConsumableArray":58,"babel-runtime/helpers/typeof":59,"babel-runtime/regenerator":60,"custom-idle-queue":495,"deep-equal":496,"object-path":513,"rxjs/BehaviorSubject":544,"rxjs/operators/distinctUntilChanged":562,"rxjs/operators/map":565}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.newRxTypeError=r.newRxError=r.RxTypeError=r.RxError=void 0;var a=c(e("babel-runtime/helpers/classCallCheck")),n=c(e("babel-runtime/helpers/createClass")),s=c(e("babel-runtime/helpers/possibleConstructorReturn")),o=c(e("babel-runtime/helpers/inherits"));r.pluginMissing=h;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),u=c(e("./overwritable"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){return"RxError:\n"+e+"\n"+(r=t,n="",0===Object.keys(r).length?n:(n+="Given parameters: {\n",n+=Object.keys(r).map(function(e){var t="[object Object]";try{t=JSON.stringify(r[e],function(e,t){return void 0===t?null:t},2)}catch(e){}return e+":"+t}).join("\n"),n+="}"));var r,n},f=r.RxError=function(e){function i(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(0,a.default)(this,i);var n=l(t,r),o=(0,s.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n));return o.code=e,o.message=n,o.parameters=r,o.rxdb=!0,o}return(0,o.default)(i,e),(0,n.default)(i,[{key:"toString",value:function(){return this.message}},{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!1}}]),i}(Error),d=r.RxTypeError=function(e){function i(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(0,a.default)(this,i);var n=l(t,r),o=(0,s.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n));return o.code=e,o.message=n,o.parameters=r,o.rxdb=!0,o}return(0,o.default)(i,e),(0,n.default)(i,[{key:"toString",value:function(){return this.message}},{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!0}}]),i}(TypeError);function h(e){return new f("PU","You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n          - es5-require:\n            RxDB.plugin(require('rxdb/plugins/"+e+"'))\n          - es6-import:\n            import "+i.ucfirst(e)+"Plugin from 'rxdb/plugins/"+e+"';\n            RxDB.plugin("+i.ucfirst(e)+"Plugin);\n        ",{pluginKey:e})}var p=r.newRxError=function(e,t){return new f(e,u.default.tunnelErrorMessage(e),t)},b=r.newRxTypeError=function(e,t){return new d(e,u.default.tunnelErrorMessage(e),t)};r.default={newRxError:p,newRxTypeError:b,pluginMissing:h}},{"./overwritable":11,"./util":38,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/possibleConstructorReturn":56}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxQuery=void 0;var a=n(e("babel-runtime/helpers/typeof")),s=n(e("babel-runtime/helpers/slicedToArray")),u=n(e("babel-runtime/regenerator")),i=n(e("babel-runtime/helpers/asyncToGenerator")),c=n(e("babel-runtime/helpers/defineProperty")),l=n(e("babel-runtime/helpers/classCallCheck")),f=n(e("babel-runtime/helpers/createClass"));r.create=E,r.isInstanceOf=C;var d=n(e("deep-equal")),h=n(e("custom-idle-queue")),p=n(e("./mquery/mquery")),b=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),y=n(e("./query-change-detector")),v=n(e("./rx-error")),o=e("./hooks"),_=e("rxjs/observable/merge"),m=e("rxjs/BehaviorSubject"),g=e("rxjs/operators/mergeMap"),w=e("rxjs/operators/filter");function n(e){return e&&e.__esModule?e:{default:e}}var x=0,k=function(){return++x},j=r.RxQuery=function(){function n(e,t,r){(0,l.default)(this,n),this.op=e,this.collection=r,this.id=k(),t||(t=this._defaultQuery()),this.mquery=new p.default(t),this._queryChangeDetector=y.default.create(this),this._resultsData=null,this._results$=new m.BehaviorSubject(null),this._latestChangeEvent=-1,this._execOverDatabaseCount=0}var e,t,r,o;return(0,f.default)(n,[{key:"_defaultQuery",value:function(){return(0,c.default)({},this.collection.schema.primaryPath,{})}},{key:"_clone",value:function(){var e=new n(this.op,this._defaultQuery(),this.collection);return e.mquery=this.mquery.clone(),e}},{key:"_tunnelQueryCache",value:function(){return this.collection._queryCache.getByQuery(this)}},{key:"toString",value:function(){if(!this.stringRep){var e=b.sortObject({op:this.op,options:this.mquery.options,_conditions:this.mquery._conditions,_path:this.mquery._path,_fields:this.mquery._fields},!0);this.stringRep=JSON.stringify(e,b.stringifyFilter)}return this.stringRep}},{key:"_isResultsInSync",value:function(){return this._latestChangeEvent>=this.collection._changeEventBuffer.counter}},{key:"_ensureEqual",value:(o=(0,i.default)(u.default.mark(function e(){var t,r=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureEqualQueue.requestIdlePromise();case 2:return e.next=4,this._ensureEqualQueue.wrapCall(function(){return r.__ensureEqual()});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"__ensureEqual",value:(r=(0,i.default)(u.default.mark(function e(){var t,r,n,o,i,a,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._isResultsInSync()){e.next=3;break}return e.abrupt("return",!1);case 3:if(r=!1,-1===this._latestChangeEvent&&(r=!0),r){e.next=19;break}if(null!==(n=this.collection._changeEventBuffer.getFrom(this._latestChangeEvent+1))){e.next=11;break}r=!0,e.next=19;break;case 11:if(this._latestChangeEvent=this.collection._changeEventBuffer.counter,o=this.collection._changeEventBuffer.reduceByLastOfDoc(n),i=this._queryChangeDetector.runChangeDetection(o),!Array.isArray(i)&&i&&(r=!0),!Array.isArray(i)||(0,d.default)(i,this._resultsData)){e.next=19;break}return t=!0,e.next=19,this._setResultData(i);case 19:if(!r){e.next=29;break}return a=this.collection._changeEventBuffer.counter,e.next=23,this._execOverDatabase();case 23:if(s=e.sent,this._latestChangeEvent=a,(0,d.default)(s,this._resultsData)){e.next=29;break}return t=!0,e.next=29,this._setResultData(s);case 29:return e.abrupt("return",t);case 30:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"_setResultData",value:(t=(0,i.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._resultsData=t,e.next=3,this.collection._createDocuments(this._resultsData);case 3:r=e.sent,n=r,"findOne"===this.op&&(n=0===r.length?null:r[0]),this._results$.next(n);case 7:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_execOverDatabase",value:function(){this._execOverDatabaseCount=this._execOverDatabaseCount+1;var e=void 0;switch(this.op){case"find":e=this.collection._pouchFind(this);break;case"findOne":e=this.collection._pouchFind(this,1);break;default:throw v.default.newRxError("QU1",{op:this.op})}return e}},{key:"toJSON",value:function(){if(this._toJSON)return this._toJSON;var n=this.collection.schema.primaryPath,r={selector:this.mquery._conditions},o=this.mquery._optionsForExec();if(o.sort){var i=[];Object.keys(o.sort).map(function(e){var t="asc";-1===o.sort[e]&&(t="desc");var r={};e===n&&(e="_id"),r[e]=t,i.push(r)}),r.sort=i}else r.sort=[{_id:"asc"}];if(o.limit){if("number"!=typeof o.limit)throw v.default.newRxTypeError("QU2",{limit:o.limit});r.limit=o.limit}if(o.skip){if("number"!=typeof o.skip)throw v.default.newRxTypeError("QU3",{skip:o.skip});r.skip=o.skip}return r.selector.language||(r.selector.language={}),r.selector.language.$ne="query",Object.entries(r.selector).filter(function(e){var t=(0,s.default)(e,2)[1];return"object"===(void 0===t?"undefined":(0,a.default)(t))}).filter(function(e){return null!==(0,s.default)(e,2)[1]}).filter(function(e){var t=(0,s.default)(e,2)[1];return!Array.isArray(t)}).filter(function(e){var t=(0,s.default)(e,2)[1];return 0===Object.keys(t).length}).forEach(function(e){var t=(0,s.default)(e,1)[0];return delete r.selector[t]}),"_id"!==n&&r.selector[n]&&(r.selector._id=r.selector[n],delete r.selector[n]),this._toJSON=r,this._toJSON}},{key:"keyCompress",value:function(){return this.collection.schema.doKeyCompression()?(this._keyCompress||(this._keyCompress=this.collection._keyCompressor.compressQuery(this.toJSON())),this._keyCompress):this.toJSON()}},{key:"remove",value:function(){var t=void 0;return this.exec().then(function(e){return t=e,Array.isArray(e)?Promise.all(e.map(function(e){return e.remove()})):e.remove()}).then(function(){return t})}},{key:"update",value:function(){throw v.default.pluginMissing("update")}},{key:"exec",value:(e=(0,i.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0;case 1:if(!t){e.next=7;break}return e.next=4,this._ensureEqual();case 4:t=e.sent,e.next=1;break;case 7:return e.abrupt("return",this._results$.getValue());case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"regex",value:function(e){var t=this._clone();if(this.mquery._path===this.collection.schema.primaryPath)throw v.default.newRxError("QU4",{path:this.mquery._path});return t.mquery.regex(e),t._tunnelQueryCache()}},{key:"_sortAddToIndex",value:function(e,t){var r=t.collection.schema.getSchemaByObjectPath(e);switch(r||this._throwNotInSchema(e),r.type){case"integer":t.mquery.where(e).gt(-1e28);break;case"string":t.mquery.where(e).gt("");break;default:t.mquery.where(e).gt(null)}}},{key:"_throwNotInSchema",value:function(e){throw v.default.newRxError("QU5",{key:e})}},{key:"sort",value:function(e){var t=this,r=this._clone();if("object"!==(void 0===e?"undefined":(0,a.default)(e))){var n="-"===e.charAt(0)?e.substring(1):e;r.mquery._conditions[n]||this._sortAddToIndex(n,r)}else Object.keys(e).filter(function(e){return!r.mquery._conditions[e]||!r.mquery._conditions[e].$gt}).forEach(function(e){return t._sortAddToIndex(e,r)});return r.mquery.sort(e),r._tunnelQueryCache()}},{key:"limit",value:function(e){if("findOne"===this.op)throw v.default.newRxError("QU6");var t=this._clone();return t.mquery.limit(e),t._tunnelQueryCache()}},{key:"_ensureEqualQueue",get:function(){return this.__ensureEqualQueue||(this.__ensureEqualQueue=new h.default),this.__ensureEqualQueue}},{key:"$",get:function(){var t,r=this;if(!this._$){var e=this._results$.pipe((0,g.mergeMap)((t=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._ensureEqual();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return","WAITFORNEXTEMIT");case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)})),(0,w.filter)(function(e){return"WAITFORNEXTEMIT"!==e})).asObservable(),n=this.collection.$.pipe((0,w.filter)(function(e){return["INSERT","UPDATE","REMOVE"].includes(e.data.op)}),(0,w.filter)(function(){return r._ensureEqual(),!1}));this._$=(0,_.merge)(e,n)}return this._$}}]),n}(),O=function(t,e){e.filter(function(e){return!e.startsWith("_")}).filter(function(e){return!t[e]}).forEach(function(r){t[r]=function(e){var t=this._clone();return t.mquery[r](e),t._tunnelQueryCache()}})},S=!1;function E(e,t,r){if(t&&"object"!==(void 0===t?"undefined":(0,a.default)(t)))throw v.default.newRxTypeError("QU7",{queryObj:t});if(Array.isArray(t))throw v.default.newRxTypeError("QU8",{queryObj:t});var n=new j(e,t,r);return n=n._tunnelQueryCache(),S||(S=!0,O(Object.getPrototypeOf(n),Object.getOwnPropertyNames(n.mquery.__proto__))),(0,o.runPluginHooks)("createRxQuery",n),n}function C(e){return e instanceof j}r.default={create:E,RxQuery:j,isInstanceOf:C}},{"./hooks":7,"./mquery/mquery":9,"./query-change-detector":28,"./rx-error":34,"./util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/defineProperty":54,"babel-runtime/helpers/slicedToArray":57,"babel-runtime/helpers/typeof":59,"babel-runtime/regenerator":60,"custom-idle-queue":495,"deep-equal":496,"rxjs/BehaviorSubject":544,"rxjs/observable/merge":560,"rxjs/operators/filter":563,"rxjs/operators/mergeMap":567}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxSchema=void 0;var u=f(e("babel-runtime/helpers/typeof")),c=f(e("babel-runtime/helpers/slicedToArray")),n=f(e("babel-runtime/helpers/classCallCheck")),o=f(e("babel-runtime/helpers/createClass"));r.getEncryptedPaths=h,r.hasCrypt=p,r.getIndexes=b,r.getPrimary=y,r.getFinalFields=v,r.normalize=_,r.create=g,r.isInstanceOf=w;var i=f(e("object-path")),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),a=f(e("./rx-error")),s=e("./hooks");function f(e){return e&&e.__esModule?e:{default:e}}var d=r.RxSchema=function(){function r(e){var t=this;(0,n.default)(this,r),this.jsonID=e,this.compoundIndexes=this.jsonID.compoundIndexes,this.indexes=b(this.jsonID),this.indexes.forEach(function(e){e.filter(function(e){return!t.jsonID.required.includes(e)}).filter(function(e){return!e.includes(".")}).forEach(function(e){return t.jsonID.required.push(e)})}),this.primaryPath=y(this.jsonID),this.primaryPath&&this.jsonID.required.push(this.primaryPath),this.finalFields=v(this.jsonID),this.jsonID.required=this.jsonID.required.concat(this.finalFields).filter(function(e,t,r){return r.indexOf(e)===t}),this.jsonID.properties[this.primaryPath]||(this.jsonID.properties[this.primaryPath]={type:"string",minLength:1})}return(0,o.default)(r,[{key:"getSchemaByObjectPath",value:function(e){return e="properties."+(e=e.replace(/\./g,".properties.")),e=l.trimDots(e),i.default.get(this.jsonID,e)}},{key:"validate",value:function(){throw a.default.pluginMissing("validate")}},{key:"fillObjectWithDefaults",value:function(o){return o=l.clone(o),Object.entries(this.defaultValues).filter(function(e){var t=(0,c.default)(e,1)[0];return!o.hasOwnProperty(t)||void 0===o[t]}).forEach(function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1];return o[r]=n}),o}},{key:"swapIdToPrimary",value:function(e){return"_id"===this.primaryPath||e[this.primaryPath]||(e[this.primaryPath]=e._id,delete e._id),e}},{key:"swapPrimaryToId",value:function(e){var r=this;if("_id"===this.primaryPath)return e;var n={};return Object.entries(e).forEach(function(e){var t=e[0]===r.primaryPath?"_id":e[0];n[t]=e[1]}),n}},{key:"doKeyCompression",value:function(){return!this.jsonID.disableKeyCompression}},{key:"version",get:function(){return this.jsonID.version}},{key:"previousVersions",get:function(){var e=0;return new Array(this.version).fill(0).map(function(){return e++})}},{key:"crypt",get:function(){return this._crypt||(this._crypt=p(this.jsonID)),this._crypt}},{key:"normalized",get:function(){return this._normalized||(this._normalized=_(this.jsonID)),this._normalized}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var o=this;return this._defaultValues||(this._defaultValues={},Object.entries(this.normalized.properties).filter(function(e){return(0,c.default)(e,2)[1].hasOwnProperty("default")}).forEach(function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1];return o._defaultValues[r]=n.default})),this._defaultValues}},{key:"encryptedPaths",get:function(){return this._encryptedPaths||(this._encryptedPaths=h(this.jsonID)),this._encryptedPaths}},{key:"hash",get:function(){return this._hash||(this._hash=l.hash(this.normalized)),this._hash}}]),r}();function h(e){var i={};return function e(t,r){if("object"===(void 0===t?"undefined":(0,u.default)(t)))if(t.encrypted)i[r.substring(1)]=t;else for(var n in t){var o=r;"properties"!==n&&(o=o+"."+n),e(t[n],o)}}(e.properties,""),i}function p(e){var t=h(e);return 0<Object.keys(t).length}function b(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",s=[];if(Object.entries(e).forEach(function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1],o="properties"===r?a:l.trimDots(a+"."+r);if(n.index&&s.push([o]),"object"===(void 0===n?"undefined":(0,u.default)(n))&&!Array.isArray(n)){var i=b(n,o);s=s.concat(i)}}),""===a){var t=e.compoundIndexes||[];s=s.concat(t)}return s=s.filter(function(e,t,r){return r.indexOf(e)===t})}function y(t){var e=Object.keys(t.properties).filter(function(e){return t.properties[e].primary}).shift();return e||"_id"}function v(t){return Object.keys(t.properties).filter(function(e){return t.properties[e].final})}function _(e){return l.sortObject(l.clone(e))}var m=function(e){return(e=l.clone(e)).additionalProperties=!1,e.hasOwnProperty("disableKeyCompression")||(e.disableKeyCompression=!1),e.compoundIndexes=e.compoundIndexes||[],e.required=e.required||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.version=e.version||0,e};function g(e){(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(0,s.runPluginHooks)("preCreateRxSchema",e);var t=new d(m(e));return(0,s.runPluginHooks)("createRxSchema",t),t}function w(e){return e instanceof d}r.default={RxSchema:d,getEncryptedPaths:h,hasCrypt:p,getIndexes:b,getPrimary:y,getFinalFields:v,normalize:_,create:g,isInstanceOf:w}},{"./hooks":7,"./rx-error":34,"./util":38,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/helpers/slicedToArray":57,"babel-runtime/helpers/typeof":59,"object-path":513}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PULL_TIME=r.EVENT_TTL=void 0;var u=n(e("babel-runtime/regenerator")),c=n(e("babel-runtime/helpers/asyncToGenerator")),l=n(e("babel-runtime/helpers/classCallCheck")),f=n(e("babel-runtime/helpers/createClass"));r.create=i;var d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),h=n(e("./rx-change-event")),p=n(e("./rx-broadcast-channel")),b=e("rxjs/Subject"),y=e("rxjs/operators/filter");function n(e){return e&&e.__esModule?e:{default:e}}var v="_local/last-change",_=p.default.canIUse()?2500:200,o=function(){function t(e){(0,l.default)(this,t),this._destroyed=!1,this.database=e,this.token=e.token,this.subs=[],this.pullCount=0,this.pull_running=!1,this.lastPull=(new Date).getTime(),this.lastTimestamp=0,this.receivedEvents={},this.bc=p.default.create(this.database,"socket"),this.messages$=new b.Subject}var e,r,n,o,i,a,s;return(0,f.default)(t,[{key:"prepare",value:(s=(0,c.default)(u.default.mark(function e(){var t=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pouch=this.database._spawnPouchDB("_socket",0,{auto_compaction:!1,revs_limit:1}),this.bc&&this.subs.push(this.bc.$.pipe((0,y.filter)(function(e){return"pull"===e.type})).subscribe(function(){return t.pull()})),(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._destroyed){e.next=8;break}return e.next=3,d.promiseWait(_);case 3:if(!(0<t.messages$.observers.length)||t._destroyed){e.next=6;break}return e.next=6,t.pull();case 6:e.next=0;break;case 8:case"end":return e.stop()}},e,t)}))(),e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"write",value:(a=(0,c.default)(u.default.mark(function e(t){var r,n=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(r=t.toJSON()).db,r._id=""+d.fastUnsecureHash(r)+r.t,e.next=5,this.database.lockedRun(function(){return n.pouch.put(r)});case 5:return e.next=7,this._updateLastTimestamp();case 7:if(e.t0=this.bc,!e.t0){e.next=11;break}return e.next=11,this.bc.write("pull");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_getLastTimeDoc",value:function(){return this.pouch.get(v).catch(function(){return null})}},{key:"_updateLastTimestampRun",value:function(){var t=this,r=(new Date).getTime();return this._getLastTimeDoc().then(function(e){return e?(e.time=r,t.pouch.put(e)):t.pouch.put({_id:v,time:r})})}},{key:"_updateLastTimestamp",value:(i=(0,c.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!1;case 1:if(t){e.next=12;break}return e.prev=2,e.next=5,this._updateLastTimestampRun();case 5:t=!0,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:e.next=1;break;case 12:case"end":return e.stop()}},e,this,[[2,8]])})),function(){return i.apply(this,arguments)})},{key:"fetchDocs",value:(o=(0,c.default)(u.default.mark(function e(){var t,r,n,o=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLastTimeDoc();case 2:if(t=e.sent,r=t?t.time:0,!(this.lastTimestamp>=r)){e.next=8;break}return e.abrupt("return",[]);case 8:return this.lastTimestamp=r,e.next=11,this.database.lockedRun(function(){return o.pouch.allDocs({include_docs:!0})});case 11:return n=e.sent,e.abrupt("return",n.rows.map(function(e){return e.doc}));case 13:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"deleteDoc",value:(n=(0,c.default)(u.default.mark(function e(t){var r,n=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.prev=1,e.next=4,this.database.lockedRun(function(){return n.pouch.remove(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r=!1;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this,[[1,6]])})),function(e){return n.apply(this,arguments)})},{key:"_cleanupDocs",value:function(e){var t=this;e.forEach(function(e){t.database.requestIdlePromise().then(function(){t._destroyed||t.deleteDoc(e)})}),0<e.length&&this.database.requestIdlePromise().then(function(){t._destroyed||t.database.lockedRun(function(){return t.pouch.compact()})})}},{key:"pull",value:(r=(0,c.default)(u.default.mark(function e(){var t,r,n,o,i=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPulling){e.next=3;break}return this._repullAfter=!0,e.abrupt("return",!1);case 3:return this.isPulling=!0,this.pullCount++,e.next=7,d.requestIdlePromise(2500);case 7:if(!this._destroyed){e.next=9;break}return e.abrupt("return");case 9:return t=this.lastPull-100,this.lastPull=(new Date).getTime(),e.next=13,this.fetchDocs();case 13:if(r=e.sent,!this._destroyed){e.next=16;break}return e.abrupt("return");case 16:if(r.filter(function(e){return e.it!==i.token}).filter(function(e){return e.t>t}).sort(function(e,t){return e.t>t.t?1:-1}).map(function(e){return h.default.fromJSON(e)}).filter(function(e){return!i.receivedEvents[e.hash]&&(i.receivedEvents[e.hash]=(new Date).getTime())}).filter(function(e){return setTimeout(function(){return delete i.receivedEvents[e.hash]},15e3)}).forEach(function(e){return i.messages$.next(e)}),!this._destroyed){e.next=19;break}return e.abrupt("return");case 19:return n=(new Date).getTime()-5e3,o=r.filter(function(e){return e.t<n}),this._cleanupDocs(o),this.isPulling=!1,this._repull&&(this._repull=!1,this.pull()),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(e=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._destroyed=!0,this.subs.map(function(e){return e.unsubscribe()}),this.bc&&this.bc.destroy();case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"$",get:function(){return this._$||(this._$=this.messages$.asObservable()),this._$}}]),t}();function i(e){return new o(e).prepare()}r.EVENT_TTL=5e3,r.PULL_TIME=_,r.default={create:i,EVENT_TTL:5e3,PULL_TIME:_}},{"./rx-broadcast-channel":29,"./rx-change-event":30,"./util":38,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/classCallCheck":52,"babel-runtime/helpers/createClass":53,"babel-runtime/regenerator":60,"rxjs/Subject":551,"rxjs/operators/filter":563}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isElectronRenderer=r.clone=r.requestIdlePromise=r.promiseWait=void 0;var n,o,i=h(e("babel-runtime/helpers/typeof")),a=h(e("babel-runtime/regenerator")),s=h(e("babel-runtime/helpers/asyncToGenerator"));r.promiseWait=(n=(0,s.default)(a.default.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),r.requestIdlePromise=(o=(0,s.default)(a.default.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("object"!==("undefined"==typeof window?"undefined":(0,i.default)(window))||!window.requestIdleCallback){e.next=4;break}return e.abrupt("return",new Promise(function(e){return window.requestIdleCallback(e,{timeout:t})}));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)});r.isLevelDown=function(e){if(!e||"function"!=typeof e.super_)throw c.default.newRxError("UT4",{adapter:e})},r.fastUnsecureHash=function(e){"string"!=typeof e&&(e=JSON.stringify(e));var t=0,r=void 0,n=void 0,o=void 0;if(0===e.length)return t;for(r=0,o=e.length;r<o;r++)n=e.charCodeAt(r),t=(t<<5)-t+n,t|=0;t<0&&(t*=-1);return t},r.hash=function(e){var t=e;"string"!=typeof e&&(t=JSON.stringify(e));return f.default.hash(t)},r.generateId=function(){return(0,u.default)(10)+":"+(new Date).getTime()},r.nextTick=function(){return new Promise(function(e){return setTimeout(e,0)})},r.requestIdleCallbackIfAvailable=function(e){"object"===("undefined"==typeof window?"undefined":(0,i.default)(window))&&window.requestIdleCallback&&window.requestIdleCallback(e)},r.ucfirst=function(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)},r.numberToLetter=function(e){var t=[];do{var r=e%b;t.push(r),e=Math.floor(e/b)}while(0<e--);return t.reverse().map(function(e){return p[e]}).join("")},r.trimDots=function(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e},r.validateCouchDBString=function(e){if("string"!=typeof e||0===e.length)throw c.default.newRxTypeError("UT1",{name:e});if(e.includes("/")||e.includes("\\"))return!0;var t="^[a-z][a-z0-9]*$",r=new RegExp(t);if(!e.match(r))throw new c.default.newRxError("UT2",{regex:t,givenName:e});return!0},r.sortObject=function t(r){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!r)return r;if(!e&&Array.isArray(r))return r.sort(function(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):"object"===(void 0===e?"undefined":(0,i.default)(e))?1:-1}).map(function(e){return t(e)});if("object"===(void 0===r?"undefined":(0,i.default)(r))){if(r instanceof RegExp)return r;var n={};return Object.keys(r).sort(function(e,t){return e.localeCompare(t)}).forEach(function(e){n[e]=t(r[e])}),n}return r},r.stringifyFilter=function(e,t){return t instanceof RegExp?t.toString():t},r.pouchReplicationFunction=function(e,t){var r=t.pull,n=void 0===r||r,o=t.push,i=void 0===o||o;if(n&&i)return e.sync.bind(e);if(!n&&i)return e.replicate.to.bind(e);if(n&&!i)return e.replicate.from.bind(e);if(!n&&!i)throw c.default.newRxError("UT3",{pull:n,push:i})},r.randomCouchString=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,t="",r="abcdefghijklmnopqrstuvwxyz",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},r.shuffleArray=function(e){return e.sort(function(){return Math.random()-.5})},r.adapterObject=function(e){var t={db:e};"string"==typeof e&&(t={adapter:e});return t};var u=h(e("random-token")),c=h(e("./rx-error")),l=h(e("clone")),f=h(e("spark-md5")),d=h(e("is-electron"));function h(e){return e&&e.__esModule?e:{default:e}}var p="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",b=p.length;r.clone=function(e){return e?(0,l.default)(e,!1):e},r.isElectronRenderer=(0,d.default)()},{"./rx-error":34,"babel-runtime/helpers/asyncToGenerator":51,"babel-runtime/helpers/typeof":59,"babel-runtime/regenerator":60,clone:63,"is-electron":505,"random-token":541,"spark-md5":593}],39:[function(e,t,r){"use strict";t.exports=function(n){return function(){var e=arguments.length;if(e){for(var t=[],r=-1;++r<e;)t[r]=arguments[r];return n.call(this,t)}return n.call(this,[])}}},{}],40:[function(r,e,t){(function(e){"use strict";if(r("core-js/shim"),r("regenerator-runtime/runtime"),r("core-js/fn/regexp/escape"),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var n="defineProperty";function t(e,t,r){e[t]||Object[n](e,t,{writable:!0,configurable:!0,value:r})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":64,"core-js/shim":485,"regenerator-runtime/runtime":41}],41:[function(e,D,t){(function(e){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag",a="object"==typeof D,s=e.regeneratorRuntime;if(s)a&&(D.exports=s);else{(s=e.regeneratorRuntime=a?D.exports:{}).wrap=m;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",b={},l={};l[o]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==t&&c.call(v,o)&&(l=v);var _=k.prototype=w.prototype=Object.create(l);x.prototype=_.constructor=k,k.constructor=x,k[i]=x.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(_),e},s.awrap=function(e){return{__await:e}},j(O.prototype),O.prototype[n]=function(){return this},s.AsyncIterator=O,s.async=function(e,t,r,n){var o=new O(m(e,t,r,n));return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},j(_),_[i]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},s.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=c.call(o,"catchLoc"),s=c.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=u),b}}}function m(e,t,r,n){var i,a,s,u,o=t&&t.prototype instanceof w?t:w,c=Object.create(o.prototype),l=new A(n||[]);return c._invoke=(i=e,a=r,s=l,u=f,function(e,t){if(u===h)throw new Error("Generator is already running");if(u===p){if("throw"===e)throw t;return R()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var n=S(r,s);if(n){if(n===b)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===f)throw u=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=h;var o=g(i,a,s);if("normal"===o.type){if(u=s.done?p:d,o.arg===b)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(u=p,s.method="throw",s.arg=o.arg)}}),c}function g(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function w(){}function x(){}function k(){}function j(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(s){function u(e,t,r,n){var o=g(s[e],s,t);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"==typeof a&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(e){u("next",e,r,n)},function(e){u("throw",e,r,n)}):Promise.resolve(a).then(function(e){i.value=e,r(i)},n)}n(o.arg)}var t;"object"==typeof e.process&&e.process.domain&&(u=e.process.domain.bind(u)),this._invoke=function(r,n){function e(){return new Promise(function(e,t){u(r,n,e,t)})}return t=t?t.then(e,e):e()}}function S(e,t){var r=e.iterator[t.method];if(r===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,S(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var n=g(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,b;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,b):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(c.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=u,e.done=!0,e};return n.next=n}}return{next:R}}function R(){return{value:u,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":65}],43:[function(e,t,r){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":66}],44:[function(e,t,r){t.exports={default:e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":67}],45:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":68}],46:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":69}],47:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":70}],48:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":71}],49:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":72}],50:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":73}],51:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/promise"),u=(n=o)&&n.__esModule?n:{default:n};r.default=function(e){return function(){var s=e.apply(this,arguments);return new u.default(function(i,a){return function t(e,r){try{var n=s[e](r),o=n.value}catch(e){return void a(e)}if(!n.done)return u.default.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});i(o)}("next")})}}},{"../core-js/promise":48}],52:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],53:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/object/define-property"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}()},{"../core-js/object/define-property":46}],54:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/object/define-property"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(e,t,r){return t in e?(0,i.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},{"../core-js/object/define-property":46}],55:[function(e,t,r){"use strict";r.__esModule=!0;var n=a(e("../core-js/object/set-prototype-of")),o=a(e("../core-js/object/create")),i=a(e("../helpers/typeof"));function a(e){return e&&e.__esModule?e:{default:e}}r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":45,"../core-js/object/set-prototype-of":47,"../helpers/typeof":59}],56:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../helpers/typeof"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":59}],57:[function(e,t,r){"use strict";r.__esModule=!0;var n=o(e("../core-js/is-iterable")),u=o(e("../core-js/get-iterator"));function o(e){return e&&e.__esModule?e:{default:e}}r.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=(0,u.default)(e);!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{"../core-js/get-iterator":43,"../core-js/is-iterable":44}],58:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/array/from"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,i.default)(e)}},{"../core-js/array/from":42}],59:[function(e,t,r){"use strict";r.__esModule=!0;var n=a(e("../core-js/symbol/iterator")),o=a(e("../core-js/symbol")),i="function"==typeof o.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}r.default="function"==typeof o.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},{"../core-js/symbol":49,"../core-js/symbol/iterator":50}],60:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":542}],61:[function(e,t,r){"use strict";r.byteLength=function(e){return 3*e.length/4-f(e)},r.toByteArray=function(e){var t,r,n,o,i,a=e.length;o=f(e),i=new l(3*a/4-o),r=0<o?a-4:a;var s=0;for(t=0;t<r;t+=4)n=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],i[s++]=n>>16&255,i[s++]=n>>8&255,i[s++]=255&n;2===o?(n=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,i[s++]=255&n):1===o&&(n=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,i[s++]=n>>8&255,i[s++]=255&n);return i},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o="",i=[],a=0,s=r-n;a<s;a+=16383)i.push(d(e,a,s<a+16383?s:a+16383));1===n?(t=e[r-1],o+=u[t>>2],o+=u[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=u[t>>10],o+=u[t>>4&63],o+=u[t<<2&63],o+="=");return i.push(o),i.join("")};for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=n.length;o<i;++o)u[o]=n[o],c[n.charCodeAt(o)]=o;function f(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function d(e,t,r){for(var n,o,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(u[(o=n)>>18&63]+u[o>>12&63]+u[o>>6&63]+u[63&o]);return i.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],62:[function(e,t,r){"use strict";var n=e("base64-js"),i=e("ieee754");r.Buffer=f,r.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function a(e){if(o<e)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=f.prototype,t}function f(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(e)}return s(e,t,r)}function s(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return L(e)||e&&L(e.buffer)?function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=f.prototype,n}(e,t,r):"string"==typeof e?function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=a(r),o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t):function(e){if(f.isBuffer(e)){var t=0|d(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||F(e.length)?a(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e){return u(e),a(e<0?0:0|d(e))}function l(e){for(var t=e.length<0?0:0|d(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(o<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(e).length;default:if(n)return M(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var i,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s/=a=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(s<r+u&&(r=s-u),i=r;0<=i;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function v(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?o<(n=Number(n))&&(n=o):n=o;var i=t.length;i/2<n&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(F(s))return a;e[r+a]=s}return a}function _(e,t,r,n){return T(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function g(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,u,c=e[o],l=null,f=239<c?4:223<c?3:191<c?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&127<(u=(31&c)<<6|63&i)&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(u=(15&c)<<12|(63&i)<<6|63&a)&&(u<55296||57343<u)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)&&u<1114112&&(l=u)}null===l?(l=65533,f=1):65535<l&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=w));return r}(n)}r.kMaxLength=o,(f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{get:function(){if(this instanceof f)return this.buffer}}),Object.defineProperty(f.prototype,"offset",{get:function(){if(this instanceof f)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(e,t,r){return s(e,t,r)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(e,t,r){return o=t,i=r,u(n=e),n<=0?a(n):void 0!==o?"string"==typeof i?a(n).fill(o,i):a(n).fill(o):a(n);var n,o,i},f.allocUnsafe=function(e){return c(e)},f.allocUnsafeSlow=function(e){return c(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer},f.compare=function(e,t){if(!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;var n=f.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(ArrayBuffer.isView(i)&&(i=f.from(i)),!f.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},f.byteLength=h,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?g(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return g(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return m(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e,t,r,n,o){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=t)return 0;if(o<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(n,o),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){i=u[l],a=c[l];break}return i<a?-1:a<i?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||o<r)&&(r=o),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i,a,s,u,c,l,f,d,h,p=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return d=t,h=r,T(M(e,(f=this).length-d),f,d,h);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return u=this,c=t,l=r,T(I(e),u,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,s=r,T(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,(i=this).length-a),i,a,s);default:if(p)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function x(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||n<r)&&(r=n);for(var o="",i=t;i<r;++i)o+=D(e[i]);return o}function O(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function S(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,o,i){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function A(e,t,r,n,o){return t=+t,r>>>=0,o||C(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,o){return t=+t,r>>>=0,o||C(e,0,r,8),i.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=f.prototype,n},f.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},f.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e+--t],o=1;0<t&&(o*=256);)n+=this[e+--t]*o;return n},f.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=t,o=1,i=this[e+--n];0<n&&(o*=256);)i+=this[e+--n]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},f.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),i.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),i.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),i.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),i.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||E(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},f.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||E(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+r},f.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);E(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);E(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;0<=--i&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=o-1;0<=i;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return o},f.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=f.isBuffer(e)?e:new f(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var R=/[^+/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function M(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!o){if(56319<r){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&i.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(t-=3)&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function I(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function L(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function F(e){return e!=e}},{"base64-js":61,ieee754:502}],63:[function(e,t,r){(function(O){var e=function(){"use strict";function m(e,t){return null!=t&&e instanceof t}var g,w,x;try{g=Map}catch(e){g=function(){}}try{w=Set}catch(e){w=function(){}}try{x=Promise}catch(e){x=function(){}}function k(e,h,t,p,b){"object"==typeof h&&(t=h.depth,p=h.prototype,b=h.includeNonEnumerable,h=h.circular);var y=[],v=[],_=void 0!==O;return void 0===h&&(h=!0),void 0===t&&(t=1/0),function o(e,i){if(null===e)return null;if(0===i)return e;var a,t;if("object"!=typeof e)return e;if(m(e,g))a=new g;else if(m(e,w))a=new w;else if(m(e,x))a=new x(function(t,r){e.then(function(e){t(o(e,i-1))},function(e){r(o(e,i-1))})});else if(k.__isArray(e))a=[];else if(k.__isRegExp(e))a=new RegExp(e.source,j(e)),e.lastIndex&&(a.lastIndex=e.lastIndex);else if(k.__isDate(e))a=new Date(e.getTime());else{if(_&&O.isBuffer(e))return a=O.allocUnsafe?O.allocUnsafe(e.length):new O(e.length),e.copy(a),a;m(e,Error)?a=Object.create(e):void 0===p?(t=Object.getPrototypeOf(e),a=Object.create(t)):(a=Object.create(p),t=p)}if(h){var r=y.indexOf(e);if(-1!=r)return v[r];y.push(e),v.push(a)}for(var n in m(e,g)&&e.forEach(function(e,t){var r=o(t,i-1),n=o(e,i-1);a.set(r,n)}),m(e,w)&&e.forEach(function(e){var t=o(e,i-1);a.add(t)}),e){var s;t&&(s=Object.getOwnPropertyDescriptor(t,n)),s&&null==s.set||(a[n]=o(e[n],i-1))}if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++){var c=u[n];(!(f=Object.getOwnPropertyDescriptor(e,c))||f.enumerable||b)&&(a[c]=o(e[c],i-1),f.enumerable||Object.defineProperty(a,c,{enumerable:!1}))}}if(b){var l=Object.getOwnPropertyNames(e);for(n=0;n<l.length;n++){var f,d=l[n];(f=Object.getOwnPropertyDescriptor(e,d))&&f.enumerable||(a[d]=o(e[d],i-1),Object.defineProperty(a,d,{enumerable:!1}))}}return a}(e,t)}function t(e){return Object.prototype.toString.call(e)}function j(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return k.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},k.__objToStr=t,k.__isDate=function(e){return"object"==typeof e&&"[object Date]"===t(e)},k.__isArray=function(e){return"object"==typeof e&&"[object Array]"===t(e)},k.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===t(e)},k.__getRegExpFlags=j,k}();"object"==typeof t&&t.exports&&(t.exports=e)}).call(this,e("buffer").Buffer)},{buffer:62}],64:[function(e,t,r){e("../../modules/core.regexp.escape"),t.exports=e("../../modules/_core").RegExp.escape},{"../../modules/_core":183,"../../modules/core.regexp.escape":288}],65:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":81,"../../modules/es6.array.from":149,"../../modules/es6.string.iterator":156}],66:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":147,"../modules/es6.string.iterator":156,"../modules/web.dom.iterable":162}],67:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":148,"../modules/es6.string.iterator":156,"../modules/web.dom.iterable":162}],68:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":81,"../../modules/es6.object.create":151}],69:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":81,"../../modules/es6.object.define-property":152}],70:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":81,"../../modules/es6.object.set-prototype-of":153}],71:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":81,"../modules/es6.object.to-string":154,"../modules/es6.promise":155,"../modules/es6.string.iterator":156,"../modules/es7.promise.finally":158,"../modules/es7.promise.try":159,"../modules/web.dom.iterable":162}],72:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":81,"../../modules/es6.object.to-string":154,"../../modules/es6.symbol":157,"../../modules/es7.symbol.async-iterator":160,"../../modules/es7.symbol.observable":161}],73:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":144,"../../modules/es6.string.iterator":156,"../../modules/web.dom.iterable":162}],74:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],75:[function(e,t,r){t.exports=function(){}},{}],76:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],77:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":101}],78:[function(e,t,r){var u=e("./_to-iobject"),c=e("./_to-length"),l=e("./_to-absolute-index");t.exports=function(s){return function(e,t,r){var n,o=u(e),i=c(o.length),a=l(r,i);if(s&&t!=t){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}}},{"./_to-absolute-index":136,"./_to-iobject":138,"./_to-length":139}],79:[function(e,t,r){var o=e("./_cof"),i=e("./_wks")("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},{"./_cof":80,"./_wks":145}],80:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],81:[function(e,t,r){var n=t.exports={version:"2.5.4"};"number"==typeof __e&&(__e=n)},{}],82:[function(e,t,r){"use strict";var n=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},{"./_object-dp":113,"./_property-desc":125}],83:[function(e,t,r){var i=e("./_a-function");t.exports=function(n,o,e){if(i(n),void 0===o)return n;switch(e){case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,r){return n.call(o,e,t,r)}}return function(){return n.apply(o,arguments)}}},{"./_a-function":74}],84:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],85:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":90}],86:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":92,"./_is-object":101}],87:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],88:[function(e,t,r){var s=e("./_object-keys"),u=e("./_object-gops"),c=e("./_object-pie");t.exports=function(e){var t=s(e),r=u.f;if(r)for(var n,o=r(e),i=c.f,a=0;o.length>a;)i.call(e,n=o[a++])&&t.push(n);return t}},{"./_object-gops":118,"./_object-keys":121,"./_object-pie":122}],89:[function(e,t,r){var b=e("./_global"),y=e("./_core"),v=e("./_ctx"),_=e("./_hide"),m=e("./_has"),g="prototype",w=function(e,t,r){var n,o,i,a=e&w.F,s=e&w.G,u=e&w.S,c=e&w.P,l=e&w.B,f=e&w.W,d=s?y:y[t]||(y[t]={}),h=d[g],p=s?b:u?b[t]:(b[t]||{})[g];for(n in s&&(r=t),r)(o=!a&&p&&void 0!==p[n])&&m(d,n)||(i=o?p[n]:r[n],d[n]=s&&"function"!=typeof p[n]?r[n]:l&&o?v(i,b):f&&p[n]==i?function(n){var e=function(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)};return e[g]=n[g],e}(i):c&&"function"==typeof i?v(Function.call,i):i,c&&((d.virtual||(d.virtual={}))[n]=i,e&w.R&&h&&!h[n]&&_(h,n,i)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},{"./_core":81,"./_ctx":83,"./_global":92,"./_has":93,"./_hide":94}],90:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],91:[function(e,t,r){var d=e("./_ctx"),h=e("./_iter-call"),p=e("./_is-array-iter"),b=e("./_an-object"),y=e("./_to-length"),v=e("./core.get-iterator-method"),_={},m={};(r=t.exports=function(e,t,r,n,o){var i,a,s,u,c=o?function(){return e}:v(e),l=d(r,n,t?2:1),f=0;if("function"!=typeof c)throw TypeError(e+" is not iterable!");if(p(c)){for(i=y(e.length);f<i;f++)if((u=t?l(b(a=e[f])[0],a[1]):l(e[f]))===_||u===m)return u}else for(s=c.call(e);!(a=s.next()).done;)if((u=h(s,l,a.value,t))===_||u===m)return u}).BREAK=_,r.RETURN=m},{"./_an-object":77,"./_ctx":83,"./_is-array-iter":99,"./_iter-call":102,"./_to-length":139,"./core.get-iterator-method":146}],92:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],93:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],94:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":85,"./_object-dp":113,"./_property-desc":125}],95:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":92}],96:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":85,"./_dom-create":86,"./_fails":90}],97:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],98:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":80}],99:[function(e,t,r){var n=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./_iterators":107,"./_wks":145}],100:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":80}],101:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],102:[function(e,t,r){var i=e("./_an-object");t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},{"./_an-object":77}],103:[function(e,t,r){"use strict";var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":94,"./_object-create":112,"./_property-desc":125,"./_set-to-string-tag":130,"./_wks":145}],104:[function(e,t,r){"use strict";var m=e("./_library"),g=e("./_export"),w=e("./_redefine"),x=e("./_hide"),k=e("./_iterators"),j=e("./_iter-create"),O=e("./_set-to-string-tag"),S=e("./_object-gpo"),E=e("./_wks")("iterator"),C=!([].keys&&"next"in[].keys()),A="values",P=function(){return this};t.exports=function(e,t,r,n,o,i,a){j(r,t,n);var s,u,c,l=function(e){if(!C&&e in p)return p[e];switch(e){case"keys":case A:return function(){return new r(this,e)}}return function(){return new r(this,e)}},f=t+" Iterator",d=o==A,h=!1,p=e.prototype,b=p[E]||p["@@iterator"]||o&&p[o],y=b||l(o),v=o?d?l("entries"):y:void 0,_="Array"==t&&p.entries||b;if(_&&(c=S(_.call(new e)))!==Object.prototype&&c.next&&(O(c,f,!0),m||"function"==typeof c[E]||x(c,E,P)),d&&b&&b.name!==A&&(h=!0,y=function(){return b.call(this)}),m&&!a||!C&&!h&&p[E]||x(p,E,y),k[t]=y,k[f]=P,o)if(s={values:d?y:l(A),keys:i?y:l("keys"),entries:v},a)for(u in s)u in p||w(p,u,s[u]);else g(g.P+g.F*(C||h),t,s);return s}},{"./_export":89,"./_hide":94,"./_iter-create":103,"./_iterators":107,"./_library":108,"./_object-gpo":119,"./_redefine":127,"./_set-to-string-tag":130,"./_wks":145}],105:[function(e,t,r){var i=e("./_wks")("iterator"),a=!1;try{var n=[7][i]();n.return=function(){a=!0},Array.from(n,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n=[7],o=n[i]();o.next=function(){return{done:r=!0}},n[i]=function(){return o},e(n)}catch(e){}return r}},{"./_wks":145}],106:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],107:[function(e,t,r){t.exports={}},{}],108:[function(e,t,r){t.exports=!0},{}],109:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!i(e,n)&&l(e),e}}},{"./_fails":90,"./_has":93,"./_is-object":101,"./_object-dp":113,"./_uid":142}],110:[function(e,t,r){var s=e("./_global"),u=e("./_task").set,c=s.MutationObserver||s.WebKitMutationObserver,l=s.process,f=s.Promise,d="process"==e("./_cof")(l);t.exports=function(){var r,n,o,e=function(){var e,t;for(d&&(e=l.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():n=void 0,e}}n=void 0,e&&e.enter()};if(d)o=function(){l.nextTick(e)};else if(!c||s.navigator&&s.navigator.standalone)if(f&&f.resolve){var t=f.resolve();o=function(){t.then(e)}}else o=function(){u.call(s,e)};else{var i=!0,a=document.createTextNode("");new c(e).observe(a,{characterData:!0}),o=function(){a.data=i=!i}}return function(e){var t={fn:e,next:void 0};n&&(n.next=t),r||(r=t,o()),n=t}}},{"./_cof":80,"./_global":92,"./_task":135}],111:[function(e,t,r){"use strict";var o=e("./_a-function");function n(e){var r,n;this.promise=new e(function(e,t){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=e,n=t}),this.resolve=o(r),this.reject=o(n)}t.exports.f=function(e){return new n(e)}},{"./_a-function":74}],112:[function(n,e,t){var o=n("./_an-object"),i=n("./_object-dps"),a=n("./_enum-bug-keys"),s=n("./_shared-key")("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=n("./_dom-create")("iframe"),r=a.length;for(t.style.display="none",n("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[c][a[r]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(u[c]=o(e),r=new u,u[c]=null,r[s]=e):r=l(),void 0===t?r:i(r,t)}},{"./_an-object":77,"./_dom-create":86,"./_enum-bug-keys":87,"./_html":95,"./_object-dps":114,"./_shared-key":131}],113:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":77,"./_descriptors":85,"./_ie8-dom-define":96,"./_to-primitive":141}],114:[function(e,t,r){var a=e("./_object-dp"),s=e("./_an-object"),u=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var r,n=u(t),o=n.length,i=0;i<o;)a.f(e,r=n[i++],t[r]);return e}},{"./_an-object":77,"./_descriptors":85,"./_object-dp":113,"./_object-keys":121}],115:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":85,"./_has":93,"./_ie8-dom-define":96,"./_object-pie":122,"./_property-desc":125,"./_to-iobject":138,"./_to-primitive":141}],116:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},{"./_object-gopn":117,"./_to-iobject":138}],117:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":87,"./_object-keys-internal":120}],118:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],119:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":93,"./_shared-key":131,"./_to-object":140}],120:[function(e,t,r){var a=e("./_has"),s=e("./_to-iobject"),u=e("./_array-includes")(!1),c=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,n=s(e),o=0,i=[];for(r in n)r!=c&&a(n,r)&&i.push(r);for(;t.length>o;)a(n,r=t[o++])&&(~u(i,r)||i.push(r));return i}},{"./_array-includes":78,"./_has":93,"./_shared-key":131,"./_to-iobject":138}],121:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":87,"./_object-keys-internal":120}],122:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],123:[function(e,t,r){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],124:[function(e,t,r){var n=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},{"./_an-object":77,"./_is-object":101,"./_new-promise-capability":111}],125:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],126:[function(e,t,r){var o=e("./_hide");t.exports=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:o(e,n,t[n]);return e}},{"./_hide":94}],127:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":94}],128:[function(t,e,r){var n=t("./_is-object"),o=t("./_an-object"),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(e){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":77,"./_ctx":83,"./_is-object":101,"./_object-gopd":115}],129:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_core"),i=e("./_object-dp"),a=e("./_descriptors"),s=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},{"./_core":81,"./_descriptors":85,"./_global":92,"./_object-dp":113,"./_wks":145}],130:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":93,"./_object-dp":113,"./_wks":145}],131:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":132,"./_uid":142}],132:[function(e,t,r){var n=e("./_global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":92}],133:[function(e,t,r){var o=e("./_an-object"),i=e("./_a-function"),a=e("./_wks")("species");t.exports=function(e,t){var r,n=o(e).constructor;return void 0===n||null==(r=o(n)[a])?t:i(r)}},{"./_a-function":74,"./_an-object":77,"./_wks":145}],134:[function(e,t,r){var u=e("./_to-integer"),c=e("./_defined");t.exports=function(s){return function(e,t){var r,n,o=String(c(e)),i=u(t),a=o.length;return i<0||a<=i?s?"":void 0:(r=o.charCodeAt(i))<55296||56319<r||i+1===a||(n=o.charCodeAt(i+1))<56320||57343<n?s?o.charAt(i):r:s?o.slice(i,i+2):n-56320+(r-55296<<10)+65536}}},{"./_defined":84,"./_to-integer":137}],135:[function(e,t,r){var n,o,i,a=e("./_ctx"),s=e("./_invoke"),u=e("./_html"),c=e("./_dom-create"),l=e("./_global"),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,b=l.Dispatch,y=0,v={},_="onreadystatechange",m=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},g=function(e){m.call(e.data)};d&&h||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++y]=function(){s("function"==typeof e?e:Function(e),t)},n(y),y},h=function(e){delete v[e]},"process"==e("./_cof")(f)?n=function(e){f.nextTick(a(m,e,1))}:b&&b.now?n=function(e){b.now(a(m,e,1))}:p?(i=(o=new p).port2,o.port1.onmessage=g,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):n=_ in c("script")?function(e){u.appendChild(c("script"))[_]=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),t.exports={set:d,clear:h}},{"./_cof":80,"./_ctx":83,"./_dom-create":86,"./_global":92,"./_html":95,"./_invoke":97}],136:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},{"./_to-integer":137}],137:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},{}],138:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":84,"./_iobject":98}],139:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return 0<e?o(n(e),9007199254740991):0}},{"./_to-integer":137}],140:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":84}],141:[function(e,t,r){var o=e("./_is-object");t.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":101}],142:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],143:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":81,"./_global":92,"./_library":108,"./_object-dp":113,"./_wks-ext":144}],144:[function(e,t,r){r.f=e("./_wks")},{"./_wks":145}],145:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},{"./_global":92,"./_shared":132,"./_uid":142}],146:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"./_classof":79,"./_core":81,"./_iterators":107,"./_wks":145}],147:[function(e,t,r){var n=e("./_an-object"),o=e("./core.get-iterator-method");t.exports=e("./_core").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./_an-object":77,"./_core":81,"./core.get-iterator-method":146}],148:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},{"./_classof":79,"./_core":81,"./_iterators":107,"./_wks":145}],149:[function(e,t,r){"use strict";var d=e("./_ctx"),n=e("./_export"),h=e("./_to-object"),p=e("./_iter-call"),b=e("./_is-array-iter"),y=e("./_to-length"),v=e("./_create-property"),_=e("./core.get-iterator-method");n(n.S+n.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,n,o,i=h(e),a="function"==typeof this?this:Array,s=arguments.length,u=1<s?arguments[1]:void 0,c=void 0!==u,l=0,f=_(i);if(c&&(u=d(u,2<s?arguments[2]:void 0,2)),null==f||a==Array&&b(f))for(r=new a(t=y(i.length));l<t;l++)v(r,l,c?u(i[l],l):i[l]);else for(o=f.call(i),r=new a;!(n=o.next()).done;l++)v(r,l,c?p(o,u,[n.value,l],!0):n.value);return r.length=l,r}})},{"./_create-property":82,"./_ctx":83,"./_export":89,"./_is-array-iter":99,"./_iter-call":102,"./_iter-detect":105,"./_to-length":139,"./_to-object":140,"./core.get-iterator-method":146}],150:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":75,"./_iter-define":104,"./_iter-step":106,"./_iterators":107,"./_to-iobject":138}],151:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":89,"./_object-create":112}],152:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":85,"./_export":89,"./_object-dp":113}],153:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":89,"./_set-proto":128}],154:[function(e,t,r){},{}],155:[function(r,e,t){"use strict";var n,o,i,a,s=r("./_library"),u=r("./_global"),c=r("./_ctx"),l=r("./_classof"),f=r("./_export"),d=r("./_is-object"),h=r("./_a-function"),p=r("./_an-instance"),b=r("./_for-of"),y=r("./_species-constructor"),v=r("./_task").set,_=r("./_microtask")(),m=r("./_new-promise-capability"),g=r("./_perform"),w=r("./_promise-resolve"),x="Promise",k=u.TypeError,j=u.process,O=u[x],S="process"==l(j),E=function(){},C=o=m.f,A=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[r("./_wks")("species")]=function(e){e(E,E)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}(),P=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(l,r){if(!l._n){l._n=!0;var n=l._c;_(function(){for(var u=l._v,c=1==l._s,e=0,t=function(e){var t,r,n,o=c?e.ok:e.fail,i=e.resolve,a=e.reject,s=e.domain;try{o?(c||(2==l._h&&I(l),l._h=1),!0===o?t=u:(s&&s.enter(),t=o(u),s&&(s.exit(),n=!0)),t===e.promise?a(k("Promise-chain cycle")):(r=P(t))?r.call(t,i,a):i(t)):a(u)}catch(e){s&&!n&&s.exit(),a(e)}};n.length>e;)t(n[e++]);l._c=[],l._n=!1,r&&!l._h&&D(l)})}},D=function(i){v.call(u,function(){var e,t,r,n=i._v,o=M(i);if(o&&(e=g(function(){S?j.emit("unhandledRejection",n,i):(t=u.onunhandledrejection)?t({promise:i,reason:n}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",n)}),i._h=S||M(i)?2:1),i._a=void 0,o&&e.e)throw e.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(t){v.call(u,function(){var e;S?j.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},T=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},L=function(e){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(r=P(e))?_(function(){var t={_w:n,_d:!1};try{r.call(e,c(L,t,1),c(T,t,1))}catch(e){T.call(t,e)}}):(n._v=e,n._s=1,R(n,!1))}catch(e){T.call({_w:n,_d:!1},e)}}};A||(O=function(e){p(this,O,x,"_h"),h(e),n.call(this);try{e(c(L,this,1),c(T,this,1))}catch(e){T.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r("./_redefine-all")(O.prototype,{then:function(e,t){var r=C(y(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=S?j.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(L,e,1),this.reject=c(T,e,1)},m.f=C=function(e){return e===O||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!A,{Promise:O}),r("./_set-to-string-tag")(O,x),r("./_set-species")(x),a=r("./_core")[x],f(f.S+f.F*!A,x,{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!A),x,{resolve:function(e){return w(s&&this===a?O:this,e)}}),f(f.S+f.F*!(A&&r("./_iter-detect")(function(e){O.all(e).catch(E)})),x,{all:function(e){var a=this,t=C(a),s=t.resolve,u=t.reject,r=g(function(){var n=[],o=0,i=1;b(e,!1,function(e){var t=o++,r=!1;n.push(void 0),i++,a.resolve(e).then(function(e){r||(r=!0,n[t]=e,--i||s(n))},u)}),--i||s(n)});return r.e&&u(r.v),t.promise},race:function(e){var t=this,r=C(t),n=r.reject,o=g(function(){b(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},{"./_a-function":74,"./_an-instance":76,"./_classof":79,"./_core":81,"./_ctx":83,"./_export":89,"./_for-of":91,"./_global":92,"./_is-object":101,"./_iter-detect":105,"./_library":108,"./_microtask":110,"./_new-promise-capability":111,"./_perform":123,"./_promise-resolve":124,"./_redefine-all":126,"./_set-species":129,"./_set-to-string-tag":130,"./_species-constructor":133,"./_task":135,"./_wks":145}],156:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":104,"./_string-at":134}],157:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_has"),o=e("./_descriptors"),i=e("./_export"),s=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),d=e("./_uid"),h=e("./_wks"),p=e("./_wks-ext"),b=e("./_wks-define"),y=e("./_enum-keys"),v=e("./_is-array"),_=e("./_an-object"),m=e("./_is-object"),g=e("./_to-iobject"),w=e("./_to-primitive"),x=e("./_property-desc"),k=e("./_object-create"),j=e("./_object-gopn-ext"),O=e("./_object-gopd"),S=e("./_object-dp"),E=e("./_object-keys"),C=O.f,A=S.f,P=j.f,R=n.Symbol,D=n.JSON,M=D&&D.stringify,I="prototype",T=h("_hidden"),L=h("toPrimitive"),F={}.propertyIsEnumerable,q=l("symbol-registry"),B=l("symbols"),N=l("op-symbols"),$=Object[I],U="function"==typeof R,z=n.QObject,V=!z||!z[I]||!z[I].findChild,G=o&&c(function(){return 7!=k(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=C($,t);n&&delete $[t],A(e,t,r),n&&e!==$&&A($,t,n)}:A,J=function(e){var t=B[e]=k(R[I]);return t._k=e,t},Q=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},K=function(e,t,r){return e===$&&K(N,t,r),_(e),t=w(t,!0),_(r),a(B,t)?(r.enumerable?(a(e,T)&&e[T][t]&&(e[T][t]=!1),r=k(r,{enumerable:x(0,!1)})):(a(e,T)||A(e,T,x(1,{})),e[T][t]=!0),G(e,t,r)):A(e,t,r)},H=function(e,t){_(e);for(var r,n=y(t=g(t)),o=0,i=n.length;o<i;)K(e,r=n[o++],t[r]);return e},W=function(e){var t=F.call(this,e=w(e,!0));return!(this===$&&a(B,e)&&!a(N,e))&&(!(t||!a(this,e)||!a(B,e)||a(this,T)&&this[T][e])||t)},Y=function(e,t){if(e=g(e),t=w(t,!0),e!==$||!a(B,t)||a(N,t)){var r=C(e,t);return!r||!a(B,t)||a(e,T)&&e[T][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=P(g(e)),n=[],o=0;r.length>o;)a(B,t=r[o++])||t==T||t==u||n.push(t);return n},X=function(e){for(var t,r=e===$,n=P(r?N:g(e)),o=[],i=0;n.length>i;)!a(B,t=n[i++])||r&&!a($,t)||o.push(B[t]);return o};U||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=d(0<arguments.length?arguments[0]:void 0),r=function(e){this===$&&r.call(N,e),a(this,T)&&a(this[T],t)&&(this[T][t]=!1),G(this,t,x(1,e))};return o&&V&&G($,t,{configurable:!0,set:r}),J(t)})[I],"toString",function(){return this._k}),O.f=Y,S.f=K,e("./_object-gopn").f=j.f=Z,e("./_object-pie").f=W,e("./_object-gops").f=X,o&&!e("./_library")&&s($,"propertyIsEnumerable",W,!0),p.f=function(e){return J(h(e))}),i(i.G+i.W+i.F*!U,{Symbol:R});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var re=E(h.store),ne=0;re.length>ne;)b(re[ne++]);i(i.S+i.F*!U,"Symbol",{for:function(e){return a(q,e+="")?q[e]:q[e]=R(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in q)if(q[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),i(i.S+i.F*!U,"Object",{create:function(e,t){return void 0===t?k(e):H(k(e),t)},defineProperty:K,defineProperties:H,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),D&&i(i.S+i.F*(!U||c(function(){var e=R();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(m(t)||void 0!==e)&&!Q(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Q(t))return t}),n[1]=t,M.apply(D,n)}}),R[I][L]||e("./_hide")(R[I],L,R[I].valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},{"./_an-object":77,"./_descriptors":85,"./_enum-keys":88,"./_export":89,"./_fails":90,"./_global":92,"./_has":93,"./_hide":94,"./_is-array":100,"./_is-object":101,"./_library":108,"./_meta":109,"./_object-create":112,"./_object-dp":113,"./_object-gopd":115,"./_object-gopn":117,"./_object-gopn-ext":116,"./_object-gops":118,"./_object-keys":121,"./_object-pie":122,"./_property-desc":125,"./_redefine":127,"./_set-to-string-tag":130,"./_shared":132,"./_to-iobject":138,"./_to-primitive":141,"./_uid":142,"./_wks":145,"./_wks-define":143,"./_wks-ext":144}],158:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_core"),i=e("./_global"),a=e("./_species-constructor"),s=e("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(t){var r=a(this,o.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return s(r,t()).then(function(){return e})}:t,e?function(e){return s(r,t()).then(function(){throw e})}:t)}})},{"./_core":81,"./_export":89,"./_global":92,"./_promise-resolve":124,"./_species-constructor":133}],159:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_new-promise-capability"),i=e("./_perform");n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},{"./_export":89,"./_new-promise-capability":111,"./_perform":123}],160:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":143}],161:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":143}],162:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=n[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},{"./_global":92,"./_hide":94,"./_iterators":107,"./_wks":145,"./es6.array.iterator":150}],163:[function(e,t,r){arguments[4][74][0].apply(r,arguments)},{dup:74}],164:[function(e,t,r){var n=e("./_cof");t.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},{"./_cof":178}],165:[function(e,t,r){var n=e("./_wks")("unscopables"),o=Array.prototype;null==o[n]&&e("./_hide")(o,n,{}),t.exports=function(e){o[n][e]=!0}},{"./_hide":202,"./_wks":286}],166:[function(e,t,r){arguments[4][76][0].apply(r,arguments)},{dup:76}],167:[function(e,t,r){arguments[4][77][0].apply(r,arguments)},{"./_is-object":211,dup:77}],168:[function(e,t,r){"use strict";var c=e("./_to-object"),l=e("./_to-absolute-index"),f=e("./_to-length");t.exports=[].copyWithin||function(e,t){var r=c(this),n=f(r.length),o=l(e,n),i=l(t,n),a=2<arguments.length?arguments[2]:void 0,s=Math.min((void 0===a?n:l(a,n))-i,n-o),u=1;for(i<o&&o<i+s&&(u=-1,i+=s-1,o+=s-1);0<s--;)i in r?r[o]=r[i]:delete r[o],o+=u,i+=u;return r}},{"./_to-absolute-index":271,"./_to-length":275,"./_to-object":276}],169:[function(e,t,r){"use strict";var s=e("./_to-object"),u=e("./_to-absolute-index"),c=e("./_to-length");t.exports=function(e){for(var t=s(this),r=c(t.length),n=arguments.length,o=u(1<n?arguments[1]:void 0,r),i=2<n?arguments[2]:void 0,a=void 0===i?r:u(i,r);o<a;)t[o++]=e;return t}},{"./_to-absolute-index":271,"./_to-length":275,"./_to-object":276}],170:[function(e,t,r){var n=e("./_for-of");t.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},{"./_for-of":199}],171:[function(e,t,r){arguments[4][78][0].apply(r,arguments)},{"./_to-absolute-index":271,"./_to-iobject":274,"./_to-length":275,dup:78}],172:[function(e,t,r){var m=e("./_ctx"),g=e("./_iobject"),w=e("./_to-object"),x=e("./_to-length"),n=e("./_array-species-create");t.exports=function(f,e){var d=1==f,h=2==f,p=3==f,b=4==f,y=6==f,v=5==f||y,_=e||n;return function(e,t,r){for(var n,o,i=w(e),a=g(i),s=m(t,r,3),u=x(a.length),c=0,l=d?_(e,u):h?_(e,0):void 0;c<u;c++)if((v||c in a)&&(o=s(n=a[c],c,i),f))if(d)l[c]=o;else if(o)switch(f){case 3:return!0;case 5:return n;case 6:return c;case 2:l.push(n)}else if(b)return!1;return y?-1:p||b?b:l}}},{"./_array-species-create":175,"./_ctx":185,"./_iobject":207,"./_to-length":275,"./_to-object":276}],173:[function(e,t,r){var l=e("./_a-function"),f=e("./_to-object"),d=e("./_iobject"),h=e("./_to-length");t.exports=function(e,t,r,n,o){l(t);var i=f(e),a=d(i),s=h(i.length),u=o?s-1:0,c=o?-1:1;if(r<2)for(;;){if(u in a){n=a[u],u+=c;break}if(u+=c,o?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=u:u<s;u+=c)u in a&&(n=t(n,a[u],u,i));return n}},{"./_a-function":163,"./_iobject":207,"./_to-length":275,"./_to-object":276}],174:[function(e,t,r){var n=e("./_is-object"),o=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":209,"./_is-object":211,"./_wks":286}],175:[function(e,t,r){var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":174}],176:[function(e,t,r){"use strict";var i=e("./_a-function"),a=e("./_is-object"),s=e("./_invoke"),u=[].slice,c={};t.exports=Function.bind||function(t){var r=i(this),n=u.call(arguments,1),o=function(){var e=n.concat(u.call(arguments));return this instanceof o?function(e,t,r){if(!(t in c)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";c[t]=Function("F,a","return new F("+n.join(",")+")")}return c[t](e,r)}(r,e.length,e):s(r,e,t)};return a(r.prototype)&&(o.prototype=r.prototype),o}},{"./_a-function":163,"./_invoke":206,"./_is-object":211}],177:[function(e,t,r){arguments[4][79][0].apply(r,arguments)},{"./_cof":178,"./_wks":286,dup:79}],178:[function(e,t,r){arguments[4][80][0].apply(r,arguments)},{dup:80}],179:[function(e,t,r){"use strict";var a=e("./_object-dp").f,s=e("./_object-create"),u=e("./_redefine-all"),c=e("./_ctx"),l=e("./_an-instance"),f=e("./_for-of"),n=e("./_iter-define"),o=e("./_iter-step"),i=e("./_set-species"),d=e("./_descriptors"),h=e("./_meta").fastKey,p=e("./_validate-collection"),b=d?"_s":"size",y=function(e,t){var r,n=h(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,i,r,n){var o=e(function(e,t){l(e,o,i,"_i"),e._t=i,e._i=s(null),e._f=void 0,e._l=void 0,e[b]=0,null!=t&&f(t,r,e[n],e)});return u(o.prototype,{clear:function(){for(var e=p(this,i),t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[b]=0},delete:function(e){var t=p(this,i),r=y(t,e);if(r){var n=r.n,o=r.p;delete t._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),t._f==r&&(t._f=n),t._l==r&&(t._l=o),t[b]--}return!!r},forEach:function(e){p(this,i);for(var t,r=c(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!y(p(this,i),e)}}),d&&a(o.prototype,"size",{get:function(){return p(this,i)[b]}}),o},def:function(e,t,r){var n,o,i=y(e,t);return i?i.v=r:(e._l=i={i:o=h(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[b]++,"F"!==o&&(e._i[o]=i)),e},getEntry:y,setStrong:function(e,r,t){n(e,r,function(e,t){this._t=p(e,r),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?o(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,o(1))},t?"entries":"values",!t,!0),i(r)}}},{"./_an-instance":166,"./_ctx":185,"./_descriptors":189,"./_for-of":199,"./_iter-define":215,"./_iter-step":217,"./_meta":225,"./_object-create":230,"./_object-dp":231,"./_redefine-all":250,"./_set-species":257,"./_validate-collection":283}],180:[function(e,t,r){var n=e("./_classof"),o=e("./_array-from-iterable");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},{"./_array-from-iterable":170,"./_classof":177}],181:[function(e,t,r){"use strict";var a=e("./_redefine-all"),s=e("./_meta").getWeak,o=e("./_an-object"),u=e("./_is-object"),c=e("./_an-instance"),l=e("./_for-of"),n=e("./_array-methods"),f=e("./_has"),d=e("./_validate-collection"),i=n(5),h=n(6),p=0,b=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},v=function(e,t){return i(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var r=v(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(e,r,n,o){var i=e(function(e,t){c(e,i,r,"_i"),e._t=r,e._i=p++,e._l=void 0,null!=t&&l(t,n,e[o],e)});return a(i.prototype,{delete:function(e){if(!u(e))return!1;var t=s(e);return!0===t?b(d(this,r)).delete(e):t&&f(t,this._i)&&delete t[this._i]},has:function(e){if(!u(e))return!1;var t=s(e);return!0===t?b(d(this,r)).has(e):t&&f(t,this._i)}}),i},def:function(e,t,r){var n=s(o(t),!0);return!0===n?b(e).set(t,r):n[e._i]=r,e},ufstore:b}},{"./_an-instance":166,"./_an-object":167,"./_array-methods":172,"./_for-of":199,"./_has":201,"./_is-object":211,"./_meta":225,"./_redefine-all":250,"./_validate-collection":283}],182:[function(e,t,r){"use strict";var v=e("./_global"),_=e("./_export"),m=e("./_redefine"),g=e("./_redefine-all"),w=e("./_meta"),x=e("./_for-of"),k=e("./_an-instance"),j=e("./_is-object"),O=e("./_fails"),S=e("./_iter-detect"),E=e("./_set-to-string-tag"),C=e("./_inherit-if-required");t.exports=function(n,e,t,r,o,i){var a=v[n],s=a,u=o?"set":"add",c=s&&s.prototype,l={},f=function(e){var r=c[e];m(c,e,"delete"==e?function(e){return!(i&&!j(e))&&r.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!j(e))&&r.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!j(e)?void 0:r.call(this,0===e?0:e)}:"add"==e?function(e){return r.call(this,0===e?0:e),this}:function(e,t){return r.call(this,0===e?0:e,t),this})};if("function"==typeof s&&(i||c.forEach&&!O(function(){(new s).entries().next()}))){var d=new s,h=d[u](i?{}:-0,1)!=d,p=O(function(){d.has(1)}),b=S(function(e){new s(e)}),y=!i&&O(function(){for(var e=new s,t=5;t--;)e[u](t,t);return!e.has(-0)});b||(((s=e(function(e,t){k(e,s,n);var r=C(new a,e,s);return null!=t&&x(t,o,r[u],r),r})).prototype=c).constructor=s),(p||y)&&(f("delete"),f("has"),o&&f("get")),(y||h)&&f(u),i&&c.clear&&delete c.clear}else s=r.getConstructor(e,n,o,u),g(s.prototype,t),w.NEED=!0;return E(s,n),l[n]=s,_(_.G+_.W+_.F*(s!=a),l),i||r.setStrong(s,n,o),s}},{"./_an-instance":166,"./_export":193,"./_fails":195,"./_for-of":199,"./_global":200,"./_inherit-if-required":205,"./_is-object":211,"./_iter-detect":216,"./_meta":225,"./_redefine":251,"./_redefine-all":250,"./_set-to-string-tag":258}],183:[function(e,t,r){arguments[4][81][0].apply(r,arguments)},{dup:81}],184:[function(e,t,r){arguments[4][82][0].apply(r,arguments)},{"./_object-dp":231,"./_property-desc":249,dup:82}],185:[function(e,t,r){arguments[4][83][0].apply(r,arguments)},{"./_a-function":163,dup:83}],186:[function(e,t,r){"use strict";var n=e("./_fails"),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return 9<e?e:"0"+e};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!n(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),r=e<0?"-":9999<e?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(99<t?t:"0"+a(t))+"Z"}:i},{"./_fails":195}],187:[function(e,t,r){"use strict";var n=e("./_an-object"),o=e("./_to-primitive");t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(n(this),"number"!=e)}},{"./_an-object":167,"./_to-primitive":277}],188:[function(e,t,r){arguments[4][84][0].apply(r,arguments)},{dup:84}],189:[function(e,t,r){arguments[4][85][0].apply(r,arguments)},{"./_fails":195,dup:85}],190:[function(e,t,r){arguments[4][86][0].apply(r,arguments)},{"./_global":200,"./_is-object":211,dup:86}],191:[function(e,t,r){arguments[4][87][0].apply(r,arguments)},{dup:87}],192:[function(e,t,r){arguments[4][88][0].apply(r,arguments)},{"./_object-gops":237,"./_object-keys":240,"./_object-pie":241,dup:88}],193:[function(e,t,r){var b=e("./_global"),y=e("./_core"),v=e("./_hide"),_=e("./_redefine"),m=e("./_ctx"),g="prototype",w=function(e,t,r){var n,o,i,a,s=e&w.F,u=e&w.G,c=e&w.S,l=e&w.P,f=e&w.B,d=u?b:c?b[t]||(b[t]={}):(b[t]||{})[g],h=u?y:y[t]||(y[t]={}),p=h[g]||(h[g]={});for(n in u&&(r=t),r)i=((o=!s&&d&&void 0!==d[n])?d:r)[n],a=f&&o?m(i,b):l&&"function"==typeof i?m(Function.call,i):i,d&&_(d,n,i,e&w.U),h[n]!=i&&v(h,n,a),l&&p[n]!=i&&(p[n]=i)};b.core=y,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},{"./_core":183,"./_ctx":185,"./_global":200,"./_hide":202,"./_redefine":251}],194:[function(e,t,r){var n=e("./_wks")("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,!"/./"[t](r)}catch(e){}}return!0}},{"./_wks":286}],195:[function(e,t,r){arguments[4][90][0].apply(r,arguments)},{dup:90}],196:[function(e,t,r){"use strict";var s=e("./_hide"),u=e("./_redefine"),c=e("./_fails"),l=e("./_defined"),f=e("./_wks");t.exports=function(t,e,r){var n=f(t),o=r(l,n,""[t]),i=o[0],a=o[1];c(function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})&&(u(String.prototype,t,i),s(RegExp.prototype,n,2==e?function(e,t){return a.call(e,this,t)}:function(e){return a.call(e,this)}))}},{"./_defined":188,"./_fails":195,"./_hide":202,"./_redefine":251,"./_wks":286}],197:[function(e,t,r){"use strict";var n=e("./_an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":167}],198:[function(e,t,r){"use strict";var p=e("./_is-array"),b=e("./_is-object"),y=e("./_to-length"),v=e("./_ctx"),_=e("./_wks")("isConcatSpreadable");t.exports=function e(t,r,n,o,i,a,s,u){for(var c,l,f=i,d=0,h=!!s&&v(s,u,3);d<o;){if(d in n){if(c=h?h(n[d],d,r):n[d],l=!1,b(c)&&(l=void 0!==(l=c[_])?!!l:p(c)),l&&0<a)f=e(t,r,c,y(c.length),f,a-1)-1;else{if(9007199254740991<=f)throw TypeError();t[f]=c}f++}d++}return f}},{"./_ctx":185,"./_is-array":209,"./_is-object":211,"./_to-length":275,"./_wks":286}],199:[function(e,t,r){arguments[4][91][0].apply(r,arguments)},{"./_an-object":167,"./_ctx":185,"./_is-array-iter":208,"./_iter-call":213,"./_to-length":275,"./core.get-iterator-method":287,dup:91}],200:[function(e,t,r){arguments[4][92][0].apply(r,arguments)},{dup:92}],201:[function(e,t,r){arguments[4][93][0].apply(r,arguments)},{dup:93}],202:[function(e,t,r){arguments[4][94][0].apply(r,arguments)},{"./_descriptors":189,"./_object-dp":231,"./_property-desc":249,dup:94}],203:[function(e,t,r){arguments[4][95][0].apply(r,arguments)},{"./_global":200,dup:95}],204:[function(e,t,r){arguments[4][96][0].apply(r,arguments)},{"./_descriptors":189,"./_dom-create":190,"./_fails":195,dup:96}],205:[function(e,t,r){var i=e("./_is-object"),a=e("./_set-proto").set;t.exports=function(e,t,r){var n,o=t.constructor;return o!==r&&"function"==typeof o&&(n=o.prototype)!==r.prototype&&i(n)&&a&&a(e,n),e}},{"./_is-object":211,"./_set-proto":256}],206:[function(e,t,r){arguments[4][97][0].apply(r,arguments)},{dup:97}],207:[function(e,t,r){arguments[4][98][0].apply(r,arguments)},{"./_cof":178,dup:98}],208:[function(e,t,r){arguments[4][99][0].apply(r,arguments)},{"./_iterators":218,"./_wks":286,dup:99}],209:[function(e,t,r){arguments[4][100][0].apply(r,arguments)},{"./_cof":178,dup:100}],210:[function(e,t,r){var n=e("./_is-object"),o=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},{"./_is-object":211}],211:[function(e,t,r){arguments[4][101][0].apply(r,arguments)},{dup:101}],212:[function(e,t,r){var n=e("./_is-object"),o=e("./_cof"),i=e("./_wks")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},{"./_cof":178,"./_is-object":211,"./_wks":286}],213:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{"./_an-object":167,dup:102}],214:[function(e,t,r){arguments[4][103][0].apply(r,arguments)},{"./_hide":202,"./_object-create":230,"./_property-desc":249,"./_set-to-string-tag":258,"./_wks":286,dup:103}],215:[function(e,t,r){arguments[4][104][0].apply(r,arguments)},{"./_export":193,"./_hide":202,"./_iter-create":214,"./_iterators":218,"./_library":219,"./_object-gpo":238,"./_redefine":251,"./_set-to-string-tag":258,"./_wks":286,dup:104}],216:[function(e,t,r){arguments[4][105][0].apply(r,arguments)},{"./_wks":286,dup:105}],217:[function(e,t,r){arguments[4][106][0].apply(r,arguments)},{dup:106}],218:[function(e,t,r){arguments[4][107][0].apply(r,arguments)},{dup:107}],219:[function(e,t,r){t.exports=!1},{}],220:[function(e,t,r){var n=Math.expm1;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],221:[function(e,t,r){var i=e("./_math-sign"),n=Math.pow,a=n(2,-52),s=n(2,-23),u=n(2,127)*(2-s),c=n(2,-126);t.exports=Math.fround||function(e){var t,r,n=Math.abs(e),o=i(e);return n<c?o*(n/c/s+1/a-1/a)*c*s:u<(r=(t=(1+s/a)*n)-(t-n))||r!=r?o*(1/0):o*r}},{"./_math-sign":224}],222:[function(e,t,r){t.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],223:[function(e,t,r){t.exports=Math.scale||function(e,t,r,n,o){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-n)/(r-t)+n}},{}],224:[function(e,t,r){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],225:[function(e,t,r){arguments[4][109][0].apply(r,arguments)},{"./_fails":195,"./_has":201,"./_is-object":211,"./_object-dp":231,"./_uid":281,dup:109}],226:[function(e,t,r){var i=e("./es6.map"),n=e("./_export"),o=e("./_shared")("metadata"),a=o.store||(o.store=new(e("./es6.weak-map"))),s=function(e,t,r){var n=a.get(e);if(!n){if(!r)return;a.set(e,n=new i)}var o=n.get(t);if(!o){if(!r)return;n.set(t,o=new i)}return o};t.exports={store:a,map:s,has:function(e,t,r){var n=s(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=s(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){s(r,n,!0).set(e,t)},keys:function(e,t){var r=s(e,t,!1),n=[];return r&&r.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){n(n.S,"Reflect",e)}}},{"./_export":193,"./_shared":260,"./es6.map":318,"./es6.weak-map":424}],227:[function(e,t,r){arguments[4][110][0].apply(r,arguments)},{"./_cof":178,"./_global":200,"./_task":270,dup:110}],228:[function(e,t,r){arguments[4][111][0].apply(r,arguments)},{"./_a-function":163,dup:111}],229:[function(e,t,r){"use strict";var d=e("./_object-keys"),h=e("./_object-gops"),p=e("./_object-pie"),b=e("./_to-object"),y=e("./_iobject"),o=Object.assign;t.exports=!o||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=o({},e)[r]||Object.keys(o({},t)).join("")!=n})?function(e,t){for(var r=b(e),n=arguments.length,o=1,i=h.f,a=p.f;o<n;)for(var s,u=y(arguments[o++]),c=i?d(u).concat(i(u)):d(u),l=c.length,f=0;f<l;)a.call(u,s=c[f++])&&(r[s]=u[s]);return r}:o},{"./_fails":195,"./_iobject":207,"./_object-gops":237,"./_object-keys":240,"./_object-pie":241,"./_to-object":276}],230:[function(e,t,r){arguments[4][112][0].apply(r,arguments)},{"./_an-object":167,"./_dom-create":190,"./_enum-bug-keys":191,"./_html":203,"./_object-dps":232,"./_shared-key":259,dup:112}],231:[function(e,t,r){arguments[4][113][0].apply(r,arguments)},{"./_an-object":167,"./_descriptors":189,"./_ie8-dom-define":204,"./_to-primitive":277,dup:113}],232:[function(e,t,r){arguments[4][114][0].apply(r,arguments)},{"./_an-object":167,"./_descriptors":189,"./_object-dp":231,"./_object-keys":240,dup:114}],233:[function(t,e,r){"use strict";e.exports=t("./_library")||!t("./_fails")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t("./_global")[e]})},{"./_fails":195,"./_global":200,"./_library":219}],234:[function(e,t,r){arguments[4][115][0].apply(r,arguments)},{"./_descriptors":189,"./_has":201,"./_ie8-dom-define":204,"./_object-pie":241,"./_property-desc":249,"./_to-iobject":274,"./_to-primitive":277,dup:115}],235:[function(e,t,r){arguments[4][116][0].apply(r,arguments)},{"./_object-gopn":236,"./_to-iobject":274,dup:116}],236:[function(e,t,r){arguments[4][117][0].apply(r,arguments)},{"./_enum-bug-keys":191,"./_object-keys-internal":239,dup:117}],237:[function(e,t,r){arguments[4][118][0].apply(r,arguments)},{dup:118}],238:[function(e,t,r){arguments[4][119][0].apply(r,arguments)},{"./_has":201,"./_shared-key":259,"./_to-object":276,dup:119}],239:[function(e,t,r){arguments[4][120][0].apply(r,arguments)},{"./_array-includes":171,"./_has":201,"./_shared-key":259,"./_to-iobject":274,dup:120}],240:[function(e,t,r){arguments[4][121][0].apply(r,arguments)},{"./_enum-bug-keys":191,"./_object-keys-internal":239,dup:121}],241:[function(e,t,r){arguments[4][122][0].apply(r,arguments)},{dup:122}],242:[function(e,t,r){var o=e("./_export"),i=e("./_core"),a=e("./_fails");t.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],n={};n[e]=t(r),o(o.S+o.F*a(function(){r(1)}),"Object",n)}},{"./_core":183,"./_export":193,"./_fails":195}],243:[function(e,t,r){var u=e("./_object-keys"),c=e("./_to-iobject"),l=e("./_object-pie").f;t.exports=function(s){return function(e){for(var t,r=c(e),n=u(r),o=n.length,i=0,a=[];i<o;)l.call(r,t=n[i++])&&a.push(s?[t,r[t]]:r[t]);return a}}},{"./_object-keys":240,"./_object-pie":241,"./_to-iobject":274}],244:[function(e,t,r){var n=e("./_object-gopn"),o=e("./_object-gops"),i=e("./_an-object"),a=e("./_global").Reflect;t.exports=a&&a.ownKeys||function(e){var t=n.f(i(e)),r=o.f;return r?t.concat(r(e)):t}},{"./_an-object":167,"./_global":200,"./_object-gopn":236,"./_object-gops":237}],245:[function(e,t,r){var n=e("./_global").parseFloat,o=e("./_string-trim").trim;t.exports=1/n(e("./_string-ws")+"-0")!=-1/0?function(e){var t=o(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},{"./_global":200,"./_string-trim":268,"./_string-ws":269}],246:[function(e,t,r){var n=e("./_global").parseInt,o=e("./_string-trim").trim,i=e("./_string-ws"),a=/^[-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=o(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},{"./_global":200,"./_string-trim":268,"./_string-ws":269}],247:[function(e,t,r){arguments[4][123][0].apply(r,arguments)},{dup:123}],248:[function(e,t,r){arguments[4][124][0].apply(r,arguments)},{"./_an-object":167,"./_is-object":211,"./_new-promise-capability":228,dup:124}],249:[function(e,t,r){arguments[4][125][0].apply(r,arguments)},{dup:125}],250:[function(e,t,r){var o=e("./_redefine");t.exports=function(e,t,r){for(var n in t)o(e,n,t[n],r);return e}},{"./_redefine":251}],251:[function(e,t,r){var i=e("./_global"),a=e("./_hide"),s=e("./_has"),u=e("./_uid")("src"),n="toString",o=Function[n],c=(""+o).split(n);e("./_core").inspectSource=function(e){return o.call(e)},(t.exports=function(e,t,r,n){var o="function"==typeof r;o&&(s(r,"name")||a(r,"name",t)),e[t]!==r&&(o&&(s(r,u)||a(r,u,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=r:n?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,n,function(){return"function"==typeof this&&this[u]||o.call(this)})},{"./_core":183,"./_global":200,"./_has":201,"./_hide":202,"./_uid":281}],252:[function(e,t,r){t.exports=function(t,r){var n=r===Object(r)?function(e){return r[e]}:r;return function(e){return String(e).replace(t,n)}}},{}],253:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],254:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_a-function"),s=e("./_ctx"),u=e("./_for-of");t.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,o,i=arguments[1];return a(this),(t=void 0!==i)&&a(i),null==e?new this:(r=[],t?(n=0,o=s(i,arguments[2],2),u(e,!1,function(e){r.push(o(e,n++))})):u(e,!1,r.push,r),new this(r))}})}},{"./_a-function":163,"./_ctx":185,"./_export":193,"./_for-of":199}],255:[function(e,t,r){"use strict";var n=e("./_export");t.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":193}],256:[function(e,t,r){arguments[4][128][0].apply(r,arguments)},{"./_an-object":167,"./_ctx":185,"./_is-object":211,"./_object-gopd":234,dup:128}],257:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_object-dp"),i=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":189,"./_global":200,"./_object-dp":231,"./_wks":286}],258:[function(e,t,r){arguments[4][130][0].apply(r,arguments)},{"./_has":201,"./_object-dp":231,"./_wks":286,dup:130}],259:[function(e,t,r){arguments[4][131][0].apply(r,arguments)},{"./_shared":260,"./_uid":281,dup:131}],260:[function(e,t,r){arguments[4][132][0].apply(r,arguments)},{"./_global":200,dup:132}],261:[function(e,t,r){arguments[4][133][0].apply(r,arguments)},{"./_a-function":163,"./_an-object":167,"./_wks":286,dup:133}],262:[function(e,t,r){"use strict";var n=e("./_fails");t.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":195}],263:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{"./_defined":188,"./_to-integer":273,dup:134}],264:[function(e,t,r){var n=e("./_is-regexp"),o=e("./_defined");t.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}},{"./_defined":188,"./_is-regexp":212}],265:[function(e,t,r){var n=e("./_export"),o=e("./_fails"),a=e("./_defined"),s=/"/g,i=function(e,t,r,n){var o=String(a(e)),i="<"+t;return""!==r&&(i+=" "+r+'="'+String(n).replace(s,"&quot;")+'"'),i+">"+o+"</"+t+">"};t.exports=function(t,e){var r={};r[t]=e(i),n(n.P+n.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",r)}},{"./_defined":188,"./_export":193,"./_fails":195}],266:[function(e,t,r){var l=e("./_to-length"),f=e("./_string-repeat"),d=e("./_defined");t.exports=function(e,t,r,n){var o=String(d(e)),i=o.length,a=void 0===r?" ":String(r),s=l(t);if(s<=i||""==a)return o;var u=s-i,c=f.call(a,Math.ceil(u/a.length));return c.length>u&&(c=c.slice(0,u)),n?c+o:o+c}},{"./_defined":188,"./_string-repeat":267,"./_to-length":275}],267:[function(e,t,r){"use strict";var o=e("./_to-integer"),i=e("./_defined");t.exports=function(e){var t=String(i(this)),r="",n=o(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},{"./_defined":188,"./_to-integer":273}],268:[function(e,t,r){var a=e("./_export"),n=e("./_defined"),s=e("./_fails"),u=e("./_string-ws"),o="["+u+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),l=function(e,t,r){var n={},o=s(function(){return!!u[e]()||"​"!="​"[e]()}),i=n[e]=o?t(f):u[e];r&&(n[r]=i),a(a.P+a.F*o,"String",n)},f=l.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(i,"")),2&t&&(e=e.replace(c,"")),e};t.exports=l},{"./_defined":188,"./_export":193,"./_fails":195,"./_string-ws":269}],269:[function(e,t,r){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],270:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{"./_cof":178,"./_ctx":185,"./_dom-create":190,"./_global":200,"./_html":203,"./_invoke":206,dup:135}],271:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{"./_to-integer":273,dup:136}],272:[function(e,t,r){var n=e("./_to-integer"),o=e("./_to-length");t.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length!");return r}},{"./_to-integer":273,"./_to-length":275}],273:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{dup:137}],274:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{"./_defined":188,"./_iobject":207,dup:138}],275:[function(e,t,r){arguments[4][139][0].apply(r,arguments)},{"./_to-integer":273,dup:139}],276:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./_defined":188,dup:140}],277:[function(e,t,r){arguments[4][141][0].apply(r,arguments)},{"./_is-object":211,dup:141}],278:[function(e,t,r){"use strict";if(e("./_descriptors")){var v=e("./_library"),_=e("./_global"),m=e("./_fails"),g=e("./_export"),w=e("./_typed"),n=e("./_typed-buffer"),d=e("./_ctx"),x=e("./_an-instance"),o=e("./_property-desc"),k=e("./_hide"),i=e("./_redefine-all"),a=e("./_to-integer"),j=e("./_to-length"),O=e("./_to-index"),s=e("./_to-absolute-index"),u=e("./_to-primitive"),c=e("./_has"),S=e("./_classof"),E=e("./_is-object"),h=e("./_to-object"),p=e("./_is-array-iter"),C=e("./_object-create"),A=e("./_object-gpo"),P=e("./_object-gopn").f,b=e("./core.get-iterator-method"),l=e("./_uid"),f=e("./_wks"),y=e("./_array-methods"),R=e("./_array-includes"),D=e("./_species-constructor"),M=e("./es6.array.iterator"),I=e("./_iterators"),T=e("./_iter-detect"),L=e("./_set-species"),F=e("./_array-fill"),q=e("./_array-copy-within"),B=e("./_object-dp"),N=e("./_object-gopd"),$=B.f,U=N.f,z=_.RangeError,V=_.TypeError,G=_.Uint8Array,J="ArrayBuffer",Q="Shared"+J,K="BYTES_PER_ELEMENT",H="prototype",W=Array[H],Y=n.ArrayBuffer,Z=n.DataView,X=y(0),ee=y(2),te=y(3),re=y(4),ne=y(5),oe=y(6),ie=R(!0),ae=R(!1),se=M.values,ue=M.keys,ce=M.entries,le=W.lastIndexOf,fe=W.reduce,de=W.reduceRight,he=W.join,pe=W.sort,be=W.slice,ye=W.toString,ve=W.toLocaleString,_e=f("iterator"),me=f("toStringTag"),ge=l("typed_constructor"),we=l("def_constructor"),xe=w.CONSTR,ke=w.TYPED,je=w.VIEW,Oe="Wrong length!",Se=y(1,function(e,t){return Re(D(e,e[we]),t)}),Ee=m(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Ce=!!G&&!!G[H].set&&m(function(){new G(1).set({})}),Ae=function(e,t){var r=a(e);if(r<0||r%t)throw z("Wrong offset!");return r},Pe=function(e){if(E(e)&&ke in e)return e;throw V(e+" is not a typed array!")},Re=function(e,t){if(!(E(e)&&ge in e))throw V("It is not a typed array constructor!");return new e(t)},De=function(e,t){return Me(D(e,e[we]),t)},Me=function(e,t){for(var r=0,n=t.length,o=Re(e,n);r<n;)o[r]=t[r++];return o},Ie=function(e,t,r){$(e,t,{get:function(){return this._d[r]}})},Te=function(e){var t,r,n,o,i,a,s=h(e),u=arguments.length,c=1<u?arguments[1]:void 0,l=void 0!==c,f=b(s);if(null!=f&&!p(f)){for(a=f.call(s),n=[],t=0;!(i=a.next()).done;t++)n.push(i.value);s=n}for(l&&2<u&&(c=d(c,arguments[2],2)),t=0,r=j(s.length),o=Re(this,r);t<r;t++)o[t]=l?c(s[t],t):s[t];return o},Le=function(){for(var e=0,t=arguments.length,r=Re(this,t);e<t;)r[e]=arguments[e++];return r},Fe=!!G&&m(function(){ve.call(new G(1))}),qe=function(){return ve.apply(Fe?be.call(Pe(this)):Pe(this),arguments)},Be={copyWithin:function(e,t){return q.call(Pe(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return re(Pe(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return F.apply(Pe(this),arguments)},filter:function(e){return De(this,ee(Pe(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return ne(Pe(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return oe(Pe(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){X(Pe(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return ae(Pe(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return ie(Pe(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return he.apply(Pe(this),arguments)},lastIndexOf:function(e){return le.apply(Pe(this),arguments)},map:function(e){return Se(Pe(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return fe.apply(Pe(this),arguments)},reduceRight:function(e){return de.apply(Pe(this),arguments)},reverse:function(){for(var e,t=Pe(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return te(Pe(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return pe.call(Pe(this),e)},subarray:function(e,t){var r=Pe(this),n=r.length,o=s(e,n);return new(D(r,r[we]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,j((void 0===t?n:s(t,n))-o))}},Ne=function(e,t){return De(this,be.call(Pe(this),e,t))},$e=function(e){Pe(this);var t=Ae(arguments[1],1),r=this.length,n=h(e),o=j(n.length),i=0;if(r<o+t)throw z(Oe);for(;i<o;)this[t+i]=n[i++]},Ue={entries:function(){return ce.call(Pe(this))},keys:function(){return ue.call(Pe(this))},values:function(){return se.call(Pe(this))}},ze=function(e,t){return E(e)&&e[ke]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ve=function(e,t){return ze(e,t=u(t,!0))?o(2,e[t]):U(e,t)},Ge=function(e,t,r){return!(ze(e,t=u(t,!0))&&E(r)&&c(r,"value"))||c(r,"get")||c(r,"set")||r.configurable||c(r,"writable")&&!r.writable||c(r,"enumerable")&&!r.enumerable?$(e,t,r):(e[t]=r.value,e)};xe||(N.f=Ve,B.f=Ge),g(g.S+g.F*!xe,"Object",{getOwnPropertyDescriptor:Ve,defineProperty:Ge}),m(function(){ye.call({})})&&(ye=ve=function(){return he.call(this)});var Je=i({},Be);i(Je,Ue),k(Je,_e,Ue.values),i(Je,{slice:Ne,set:$e,constructor:function(){},toString:ye,toLocaleString:qe}),Ie(Je,"buffer","b"),Ie(Je,"byteOffset","o"),Ie(Je,"byteLength","l"),Ie(Je,"length","e"),$(Je,me,{get:function(){return this[ke]}}),t.exports=function(e,f,t,i){var d=e+((i=!!i)?"Clamped":"")+"Array",r="get"+e,a="set"+e,h=_[d],s=h||{},n=h&&A(h),o=!h||!w.ABV,u={},c=h&&h[H],p=function(e,o){$(e,o,{get:function(){return e=o,(t=this._d).v[r](e*f+t.o,Ee);var e,t},set:function(e){return t=o,r=e,n=this._d,i&&(r=(r=Math.round(r))<0?0:255<r?255:255&r),void n.v[a](t*f+n.o,r,Ee);var t,r,n},enumerable:!0})};o?(h=t(function(e,t,r,n){x(e,h,d,"_d");var o,i,a,s,u=0,c=0;if(E(t)){if(!(t instanceof Y||(s=S(t))==J||s==Q))return ke in t?Me(h,t):Te.call(h,t);o=t,c=Ae(r,f);var l=t.byteLength;if(void 0===n){if(l%f)throw z(Oe);if((i=l-c)<0)throw z(Oe)}else if(l<(i=j(n)*f)+c)throw z(Oe);a=i/f}else a=O(t),o=new Y(i=a*f);for(k(e,"_d",{b:o,o:c,l:i,e:a,v:new Z(o)});u<a;)p(e,u++)}),c=h[H]=C(Je),k(c,"constructor",h)):m(function(){h(1)})&&m(function(){new h(-1)})&&T(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=t(function(e,t,r,n){var o;return x(e,h,d),E(t)?t instanceof Y||(o=S(t))==J||o==Q?void 0!==n?new s(t,Ae(r,f),n):void 0!==r?new s(t,Ae(r,f)):new s(t):ke in t?Me(h,t):Te.call(h,t):new s(O(t))}),X(n!==Function.prototype?P(s).concat(P(n)):P(s),function(e){e in h||k(h,e,s[e])}),h[H]=c,v||(c.constructor=h));var l=c[_e],b=!!l&&("values"==l.name||null==l.name),y=Ue.values;k(h,ge,!0),k(c,ke,d),k(c,je,!0),k(c,we,h),(i?new h(1)[me]==d:me in c)||$(c,me,{get:function(){return d}}),u[d]=h,g(g.G+g.W+g.F*(h!=s),u),g(g.S,d,{BYTES_PER_ELEMENT:f}),g(g.S+g.F*m(function(){s.of.call(h,1)}),d,{from:Te,of:Le}),K in c||k(c,K,f),g(g.P,d,Be),L(d),g(g.P+g.F*Ce,d,{set:$e}),g(g.P+g.F*!b,d,Ue),v||c.toString==ye||(c.toString=ye),g(g.P+g.F*m(function(){new h(1).slice()}),d,{slice:Ne}),g(g.P+g.F*(m(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!m(function(){c.toLocaleString.call([1,2])})),d,{toLocaleString:qe}),I[d]=b?l:y,v||b||k(c,_e,y)}}else t.exports=function(){}},{"./_an-instance":166,"./_array-copy-within":168,"./_array-fill":169,"./_array-includes":171,"./_array-methods":172,"./_classof":177,"./_ctx":185,"./_descriptors":189,"./_export":193,"./_fails":195,"./_global":200,"./_has":201,"./_hide":202,"./_is-array-iter":208,"./_is-object":211,"./_iter-detect":216,"./_iterators":218,"./_library":219,"./_object-create":230,"./_object-dp":231,"./_object-gopd":234,"./_object-gopn":236,"./_object-gpo":238,"./_property-desc":249,"./_redefine-all":250,"./_set-species":257,"./_species-constructor":261,"./_to-absolute-index":271,"./_to-index":272,"./_to-integer":273,"./_to-length":275,"./_to-object":276,"./_to-primitive":277,"./_typed":280,"./_typed-buffer":279,"./_uid":281,"./_wks":286,"./core.get-iterator-method":287,"./es6.array.iterator":299}],279:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_descriptors"),i=e("./_library"),a=e("./_typed"),s=e("./_hide"),u=e("./_redefine-all"),c=e("./_fails"),l=e("./_an-instance"),f=e("./_to-integer"),d=e("./_to-length"),h=e("./_to-index"),p=e("./_object-gopn").f,b=e("./_object-dp").f,y=e("./_array-fill"),v=e("./_set-to-string-tag"),_="ArrayBuffer",m="DataView",g="prototype",w="Wrong index!",x=n[_],k=n[m],j=n.Math,O=n.RangeError,S=n.Infinity,E=x,C=j.abs,A=j.pow,P=j.floor,R=j.log,D=j.LN2,M="byteLength",I="byteOffset",T=o?"_b":"buffer",L=o?"_l":M,F=o?"_o":I;function q(e,t,r){var n,o,i,a=new Array(r),s=8*r-t-1,u=(1<<s)-1,c=u>>1,l=23===t?A(2,-24)-A(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===S?(o=e!=e?1:0,n=u):(n=P(R(e)/D),e*(i=A(2,-n))<1&&(n--,i*=2),2<=(e+=1<=n+c?l/i:l*A(2,1-c))*i&&(n++,i/=2),u<=n+c?(o=0,n=u):1<=n+c?(o=(e*i-1)*A(2,t),n+=c):(o=e*A(2,c-1)*A(2,t),n=0));8<=t;a[f++]=255&o,o/=256,t-=8);for(n=n<<t|o,s+=t;0<s;a[f++]=255&n,n/=256,s-=8);return a[--f]|=128*d,a}function B(e,t,r){var n,o=8*r-t-1,i=(1<<o)-1,a=i>>1,s=o-7,u=r-1,c=e[u--],l=127&c;for(c>>=7;0<s;l=256*l+e[u],u--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;0<s;n=256*n+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===i)return n?NaN:c?-S:S;n+=A(2,t),l-=a}return(c?-1:1)*n*A(2,l-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function $(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function z(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return q(e,52,8)}function G(e){return q(e,23,4)}function J(e,t,r){b(e[g],t,{get:function(){return this[r]}})}function Q(e,t,r,n){var o=h(+r);if(o+t>e[L])throw O(w);var i=e[T]._b,a=o+e[F],s=i.slice(a,a+t);return n?s:s.reverse()}function K(e,t,r,n,o,i){var a=h(+r);if(a+t>e[L])throw O(w);for(var s=e[T]._b,u=a+e[F],c=n(+o),l=0;l<t;l++)s[u+l]=c[i?l:t-l-1]}if(a.ABV){if(!c(function(){x(1)})||!c(function(){new x(-1)})||c(function(){return new x,new x(1.5),new x(NaN),x.name!=_})){for(var H,W=(x=function(e){return l(this,x),new E(h(e))})[g]=E[g],Y=p(E),Z=0;Y.length>Z;)(H=Y[Z++])in x||s(x,H,E[H]);i||(W.constructor=x)}var X=new k(new x(2)),ee=k[g].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||u(k[g],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else x=function(e){l(this,x,_);var t=h(e);this._b=y.call(new Array(t),0),this[L]=t},k=function(e,t,r){l(this,k,m),l(e,x,m);var n=e[L],o=f(t);if(o<0||n<o)throw O("Wrong offset!");if(n<o+(r=void 0===r?n-o:d(r)))throw O("Wrong length!");this[T]=e,this[F]=o,this[L]=r},o&&(J(x,M,"_l"),J(k,"buffer","_b"),J(k,M,"_l"),J(k,I,"_o")),u(k[g],{getInt8:function(e){return Q(this,1,e)[0]<<24>>24},getUint8:function(e){return Q(this,1,e)[0]},getInt16:function(e){var t=Q(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Q(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(Q(this,4,e,arguments[1]))},getUint32:function(e){return N(Q(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return B(Q(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return B(Q(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){K(this,1,e,$,t)},setUint8:function(e,t){K(this,1,e,$,t)},setInt16:function(e,t){K(this,2,e,U,t,arguments[2])},setUint16:function(e,t){K(this,2,e,U,t,arguments[2])},setInt32:function(e,t){K(this,4,e,z,t,arguments[2])},setUint32:function(e,t){K(this,4,e,z,t,arguments[2])},setFloat32:function(e,t){K(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){K(this,8,e,V,t,arguments[2])}});v(x,_),v(k,m),s(k[g],a.VIEW,!0),r[_]=x,r[m]=k},{"./_an-instance":166,"./_array-fill":169,"./_descriptors":189,"./_fails":195,"./_global":200,"./_hide":202,"./_library":219,"./_object-dp":231,"./_object-gopn":236,"./_redefine-all":250,"./_set-to-string-tag":258,"./_to-index":272,"./_to-integer":273,"./_to-length":275,"./_typed":280}],280:[function(e,t,r){for(var n,o=e("./_global"),i=e("./_hide"),a=e("./_uid"),s=a("typed_array"),u=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(n=o[d[f++]])?(i(n.prototype,s,!0),i(n.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},{"./_global":200,"./_hide":202,"./_uid":281}],281:[function(e,t,r){arguments[4][142][0].apply(r,arguments)},{dup:142}],282:[function(e,t,r){var n=e("./_global").navigator;t.exports=n&&n.userAgent||""},{"./_global":200}],283:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":211}],284:[function(e,t,r){arguments[4][143][0].apply(r,arguments)},{"./_core":183,"./_global":200,"./_library":219,"./_object-dp":231,"./_wks-ext":285,dup:143}],285:[function(e,t,r){arguments[4][144][0].apply(r,arguments)},{"./_wks":286,dup:144}],286:[function(e,t,r){arguments[4][145][0].apply(r,arguments)},{"./_global":200,"./_shared":260,"./_uid":281,dup:145}],287:[function(e,t,r){arguments[4][146][0].apply(r,arguments)},{"./_classof":177,"./_core":183,"./_iterators":218,"./_wks":286,dup:146}],288:[function(e,t,r){var n=e("./_export"),o=e("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return o(e)}})},{"./_export":193,"./_replacer":252}],289:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":165,"./_array-copy-within":168,"./_export":193}],290:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(4);n(n.P+n.F*!e("./_strict-method")([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":172,"./_export":193,"./_strict-method":262}],291:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":165,"./_array-fill":169,"./_export":193}],292:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(2);n(n.P+n.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":172,"./_export":193,"./_strict-method":262}],293:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":165,"./_array-methods":172,"./_export":193}],294:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),e("./_add-to-unscopables")("find")},{"./_add-to-unscopables":165,"./_array-methods":172,"./_export":193}],295:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(0),i=e("./_strict-method")([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":172,"./_export":193,"./_strict-method":262}],296:[function(e,t,r){arguments[4][149][0].apply(r,arguments)},{"./_create-property":184,"./_ctx":185,"./_export":193,"./_is-array-iter":208,"./_iter-call":213,"./_iter-detect":216,"./_to-length":275,"./_to-object":276,"./core.get-iterator-method":287,dup:149}],297:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-includes")(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!e("./_strict-method")(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},{"./_array-includes":171,"./_export":193,"./_strict-method":262}],298:[function(e,t,r){var n=e("./_export");n(n.S,"Array",{isArray:e("./_is-array")})},{"./_export":193,"./_is-array":209}],299:[function(e,t,r){arguments[4][150][0].apply(r,arguments)},{"./_add-to-unscopables":165,"./_iter-define":215,"./_iter-step":217,"./_iterators":218,"./_to-iobject":274,dup:150}],300:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-iobject"),i=[].join;n(n.P+n.F*(e("./_iobject")!=Object||!e("./_strict-method")(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},{"./_export":193,"./_iobject":207,"./_strict-method":262,"./_to-iobject":274}],301:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-iobject"),i=e("./_to-integer"),a=e("./_to-length"),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!e("./_strict-method")(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=o(this),r=a(t.length),n=r-1;for(1<arguments.length&&(n=Math.min(n,i(arguments[1]))),n<0&&(n=r+n);0<=n;n--)if(n in t&&t[n]===e)return n||0;return-1}})},{"./_export":193,"./_strict-method":262,"./_to-integer":273,"./_to-iobject":274,"./_to-length":275}],302:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(1);n(n.P+n.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":172,"./_export":193,"./_strict-method":262}],303:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_create-property");n(n.S+n.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);e<t;)o(r,e,arguments[e++]);return r.length=t,r}})},{"./_create-property":184,"./_export":193,"./_fails":195}],304:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},{"./_array-reduce":173,"./_export":193,"./_strict-method":262}],305:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},{"./_array-reduce":173,"./_export":193,"./_strict-method":262}],306:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_html"),c=e("./_cof"),l=e("./_to-absolute-index"),f=e("./_to-length"),d=[].slice;n(n.P+n.F*e("./_fails")(function(){o&&d.call(o)}),"Array",{slice:function(e,t){var r=f(this.length),n=c(this);if(t=void 0===t?r:t,"Array"==n)return d.call(this,e,t);for(var o=l(e,r),i=l(t,r),a=f(i-o),s=new Array(a),u=0;u<a;u++)s[u]="String"==n?this.charAt(o+u):this[o+u];return s}})},{"./_cof":178,"./_export":193,"./_fails":195,"./_html":203,"./_to-absolute-index":271,"./_to-length":275}],307:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(3);n(n.P+n.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":172,"./_export":193,"./_strict-method":262}],308:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_a-function"),i=e("./_to-object"),a=e("./_fails"),s=[].sort,u=[1,2,3];n(n.P+n.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!e("./_strict-method")(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},{"./_a-function":163,"./_export":193,"./_fails":195,"./_strict-method":262,"./_to-object":276}],309:[function(e,t,r){e("./_set-species")("Array")},{"./_set-species":257}],310:[function(e,t,r){var n=e("./_export");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":193}],311:[function(e,t,r){var n=e("./_export"),o=e("./_date-to-iso-string");n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},{"./_date-to-iso-string":186,"./_export":193}],312:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive");n(n.P+n.F*e("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),r=i(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},{"./_export":193,"./_fails":195,"./_to-object":276,"./_to-primitive":277}],313:[function(e,t,r){var n=e("./_wks")("toPrimitive"),o=Date.prototype;n in o||e("./_hide")(o,n,e("./_date-to-primitive"))},{"./_date-to-primitive":187,"./_hide":202,"./_wks":286}],314:[function(e,t,r){var n=Date.prototype,o="Invalid Date",i=n.toString,a=n.getTime;new Date(NaN)+""!=o&&e("./_redefine")(n,"toString",function(){var e=a.call(this);return e==e?i.call(this):o})},{"./_redefine":251}],315:[function(e,t,r){var n=e("./_export");n(n.P,"Function",{bind:e("./_bind")})},{"./_bind":176,"./_export":193}],316:[function(e,t,r){"use strict";var n=e("./_is-object"),o=e("./_object-gpo"),i=e("./_wks")("hasInstance"),a=Function.prototype;i in a||e("./_object-dp").f(a,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":211,"./_object-dp":231,"./_object-gpo":238,"./_wks":286}],317:[function(e,t,r){var n=e("./_object-dp").f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||e("./_descriptors")&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},{"./_descriptors":189,"./_object-dp":231}],318:[function(e,t,r){"use strict";var n=e("./_collection-strong"),o=e("./_validate-collection");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},{"./_collection":182,"./_collection-strong":179,"./_validate-collection":283}],319:[function(e,t,r){var n=e("./_export"),o=e("./_math-log1p"),i=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},{"./_export":193,"./_math-log1p":222}],320:[function(e,t,r){var n=e("./_export"),o=Math.asinh;n(n.S+n.F*!(o&&0<1/o(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{"./_export":193}],321:[function(e,t,r){var n=e("./_export"),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":193}],322:[function(e,t,r){var n=e("./_export"),o=e("./_math-sign");n(n.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":193,"./_math-sign":224}],323:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":193}],324:[function(e,t,r){var n=e("./_export"),o=Math.exp;n(n.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},{"./_export":193}],325:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1");n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},{"./_export":193,"./_math-expm1":220}],326:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{fround:e("./_math-fround")})},{"./_export":193,"./_math-fround":221}],327:[function(e,t,r){var n=e("./_export"),u=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,o=0,i=0,a=arguments.length,s=0;i<a;)s<(r=u(arguments[i++]))?(o=o*(n=s/r)*n+1,s=r):o+=0<r?(n=r/s)*n:r;return s===1/0?1/0:s*Math.sqrt(o)}})},{"./_export":193}],328:[function(e,t,r){var n=e("./_export"),o=Math.imul;n(n.S+n.F*e("./_fails")(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var r=+e,n=+t,o=65535&r,i=65535&n;return 0|o*i+((65535&r>>>16)*i+o*(65535&n>>>16)<<16>>>0)}})},{"./_export":193,"./_fails":195}],329:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{"./_export":193}],330:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":193,"./_math-log1p":222}],331:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":193}],332:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{sign:e("./_math-sign")})},{"./_export":193,"./_math-sign":224}],333:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1"),i=Math.exp;n(n.S+n.F*e("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},{"./_export":193,"./_fails":195,"./_math-expm1":220}],334:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1"),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=o(e=+e),r=o(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},{"./_export":193,"./_math-expm1":220}],335:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},{"./_export":193}],336:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_cof"),a=e("./_inherit-if-required"),l=e("./_to-primitive"),s=e("./_fails"),u=e("./_object-gopn").f,c=e("./_object-gopd").f,f=e("./_object-dp").f,d=e("./_string-trim").trim,h="Number",p=n[h],b=p,y=p.prototype,v=i(e("./_object-create")(y))==h,_="trim"in String.prototype,m=function(e){var t=l(e,!1);if("string"==typeof t&&2<t.length){var r,n,o,i=(t=_?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var a,s=t.slice(2),u=0,c=s.length;u<c;u++)if((a=s.charCodeAt(u))<48||o<a)return NaN;return parseInt(s,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(v?s(function(){y.valueOf.call(r)}):i(r)!=h)?a(new b(m(t)),r,p):m(t)};for(var g,w=e("./_descriptors")?u(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)o(b,g=w[x])&&!o(p,g)&&f(p,g,c(b,g));(p.prototype=y).constructor=p,e("./_redefine")(n,h,p)}},{"./_cof":178,"./_descriptors":189,"./_fails":195,"./_global":200,"./_has":201,"./_inherit-if-required":205,"./_object-create":230,"./_object-dp":231,"./_object-gopd":234,"./_object-gopn":236,"./_redefine":251,"./_string-trim":268,"./_to-primitive":277}],337:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":193}],338:[function(e,t,r){var n=e("./_export"),o=e("./_global").isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},{"./_export":193,"./_global":200}],339:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":193,"./_is-integer":210}],340:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":193}],341:[function(e,t,r){var n=e("./_export"),o=e("./_is-integer"),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},{"./_export":193,"./_is-integer":210}],342:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":193}],343:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":193}],344:[function(e,t,r){var n=e("./_export"),o=e("./_parse-float");n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},{"./_export":193,"./_parse-float":245}],345:[function(e,t,r){var n=e("./_export"),o=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},{"./_export":193,"./_parse-int":246}],346:[function(e,t,r){"use strict";var n=e("./_export"),c=e("./_to-integer"),l=e("./_a-number-value"),f=e("./_string-repeat"),o=1..toFixed,i=Math.floor,a=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",h=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*a[r],a[r]=n%1e7,n=i(n/1e7)},p=function(e){for(var t=6,r=0;0<=--t;)r+=a[t],a[t]=i(r/e),r=r%e*1e7},b=function(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==a[e]){var r=String(a[e]);t=""===t?r:t+f.call("0",7-r.length)+r}return t},y=function(e,t,r){return 0===t?r:t%2==1?y(e,t-1,r*e):y(e*e,t/2,r)};n(n.P+n.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e("./_fails")(function(){o.call({})})),"Number",{toFixed:function(e){var t,r,n,o,i=l(this,d),a=c(e),s="",u="0";if(a<0||20<a)throw RangeError(d);if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(s="-",i=-i),1e-21<i)if(r=(t=function(e){for(var t=0,r=e;4096<=r;)t+=12,r/=4096;for(;2<=r;)t+=1,r/=2;return t}(i*y(2,69,1))-69)<0?i*y(2,-t,1):i/y(2,t,1),r*=4503599627370496,0<(t=52-t)){for(h(0,r),n=a;7<=n;)h(1e7,0),n-=7;for(h(y(10,n,1),0),n=t-1;23<=n;)p(1<<23),n-=23;p(1<<n),h(1,1),p(2),u=b()}else h(0,r),h(1<<-t,0),u=b()+f.call("0",a);return u=0<a?s+((o=u.length)<=a?"0."+f.call("0",a-o)+u:u.slice(0,o-a)+"."+u.slice(o-a)):s+u}})},{"./_a-number-value":164,"./_export":193,"./_fails":195,"./_string-repeat":267,"./_to-integer":273}],347:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_fails"),i=e("./_a-number-value"),a=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},{"./_a-number-value":164,"./_export":193,"./_fails":195}],348:[function(e,t,r){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":193,"./_object-assign":229}],349:[function(e,t,r){arguments[4][151][0].apply(r,arguments)},{"./_export":193,"./_object-create":230,dup:151}],350:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":189,"./_export":193,"./_object-dps":232}],351:[function(e,t,r){arguments[4][152][0].apply(r,arguments)},{"./_descriptors":189,"./_export":193,"./_object-dp":231,dup:152}],352:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},{"./_is-object":211,"./_meta":225,"./_object-sap":242}],353:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},{"./_object-gopd":234,"./_object-sap":242,"./_to-iobject":274}],354:[function(e,t,r){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":235,"./_object-sap":242}],355:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(n(e))}})},{"./_object-gpo":238,"./_object-sap":242,"./_to-object":276}],356:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},{"./_is-object":211,"./_object-sap":242}],357:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./_is-object":211,"./_object-sap":242}],358:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./_is-object":211,"./_object-sap":242}],359:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{is:e("./_same-value")})},{"./_export":193,"./_same-value":253}],360:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(n(e))}})},{"./_object-keys":240,"./_object-sap":242,"./_to-object":276}],361:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},{"./_is-object":211,"./_meta":225,"./_object-sap":242}],362:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("seal",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},{"./_is-object":211,"./_meta":225,"./_object-sap":242}],363:[function(e,t,r){arguments[4][153][0].apply(r,arguments)},{"./_export":193,"./_set-proto":256,dup:153}],364:[function(e,t,r){"use strict";var n=e("./_classof"),o={};o[e("./_wks")("toStringTag")]="z",o+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{"./_classof":177,"./_redefine":251,"./_wks":286}],365:[function(e,t,r){var n=e("./_export"),o=e("./_parse-float");n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},{"./_export":193,"./_parse-float":245}],366:[function(e,t,r){var n=e("./_export"),o=e("./_parse-int");n(n.G+n.F*(parseInt!=o),{parseInt:o})},{"./_export":193,"./_parse-int":246}],367:[function(e,t,r){arguments[4][155][0].apply(r,arguments)},{"./_a-function":163,"./_an-instance":166,"./_classof":177,"./_core":183,"./_ctx":185,"./_export":193,"./_for-of":199,"./_global":200,"./_is-object":211,"./_iter-detect":216,"./_library":219,"./_microtask":227,"./_new-promise-capability":228,"./_perform":247,"./_promise-resolve":248,"./_redefine-all":250,"./_set-species":257,"./_set-to-string-tag":258,"./_species-constructor":261,"./_task":270,"./_wks":286,dup:155}],368:[function(e,t,r){var n=e("./_export"),i=e("./_a-function"),a=e("./_an-object"),s=(e("./_global").Reflect||{}).apply,u=Function.apply;n(n.S+n.F*!e("./_fails")(function(){s(function(){})}),"Reflect",{apply:function(e,t,r){var n=i(e),o=a(r);return s?s(n,t,o):u.call(n,t,o)}})},{"./_a-function":163,"./_an-object":167,"./_export":193,"./_fails":195,"./_global":200}],369:[function(e,t,r){var n=e("./_export"),s=e("./_object-create"),u=e("./_a-function"),c=e("./_an-object"),l=e("./_is-object"),o=e("./_fails"),f=e("./_bind"),d=(e("./_global").Reflect||{}).construct,h=o(function(){function e(){}return!(d(function(){},[],e)instanceof e)}),p=!o(function(){d(function(){})});n(n.S+n.F*(h||p),"Reflect",{construct:function(e,t){u(e),c(t);var r=arguments.length<3?e:u(arguments[2]);if(p&&!h)return d(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(f.apply(e,n))}var o=r.prototype,i=s(l(o)?o:Object.prototype),a=Function.apply.call(e,i,t);return l(a)?a:i}})},{"./_a-function":163,"./_an-object":167,"./_bind":176,"./_export":193,"./_fails":195,"./_global":200,"./_is-object":211,"./_object-create":230}],370:[function(e,t,r){var n=e("./_object-dp"),o=e("./_export"),i=e("./_an-object"),a=e("./_to-primitive");o(o.S+o.F*e("./_fails")(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){i(e),t=a(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},{"./_an-object":167,"./_export":193,"./_fails":195,"./_object-dp":231,"./_to-primitive":277}],371:[function(e,t,r){var n=e("./_export"),o=e("./_object-gopd").f,i=e("./_an-object");n(n.S,"Reflect",{deleteProperty:function(e,t){var r=o(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},{"./_an-object":167,"./_export":193,"./_object-gopd":234}],372:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_an-object"),i=function(e){this._t=o(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};e("./_iter-create")(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},{"./_an-object":167,"./_export":193,"./_iter-create":214}],373:[function(e,t,r){var n=e("./_object-gopd"),o=e("./_export"),i=e("./_an-object");o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},{"./_an-object":167,"./_export":193,"./_object-gopd":234}],374:[function(e,t,r){var n=e("./_export"),o=e("./_object-gpo"),i=e("./_an-object");n(n.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},{"./_an-object":167,"./_export":193,"./_object-gpo":238}],375:[function(e,t,r){var a=e("./_object-gopd"),s=e("./_object-gpo"),u=e("./_has"),n=e("./_export"),c=e("./_is-object"),l=e("./_an-object");n(n.S,"Reflect",{get:function e(t,r){var n,o,i=arguments.length<3?t:arguments[2];return l(t)===i?t[r]:(n=a.f(t,r))?u(n,"value")?n.value:void 0!==n.get?n.get.call(i):void 0:c(o=s(t))?e(o,r,i):void 0}})},{"./_an-object":167,"./_export":193,"./_has":201,"./_is-object":211,"./_object-gopd":234,"./_object-gpo":238}],376:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":193}],377:[function(e,t,r){var n=e("./_export"),o=e("./_an-object"),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},{"./_an-object":167,"./_export":193}],378:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":193,"./_own-keys":244}],379:[function(e,t,r){var n=e("./_export"),o=e("./_an-object"),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},{"./_an-object":167,"./_export":193}],380:[function(e,t,r){var n=e("./_export"),o=e("./_set-proto");o&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},{"./_export":193,"./_set-proto":256}],381:[function(e,t,r){var u=e("./_object-dp"),c=e("./_object-gopd"),l=e("./_object-gpo"),f=e("./_has"),n=e("./_export"),d=e("./_property-desc"),h=e("./_an-object"),p=e("./_is-object");n(n.S,"Reflect",{set:function e(t,r,n){var o,i,a=arguments.length<4?t:arguments[3],s=c.f(h(t),r);if(!s){if(p(i=l(t)))return e(i,r,n,a);s=d(0)}return f(s,"value")?!(!1===s.writable||!p(a)||((o=c.f(a,r)||d(0)).value=n,u.f(a,r,o),0)):void 0!==s.set&&(s.set.call(a,n),!0)}})},{"./_an-object":167,"./_export":193,"./_has":201,"./_is-object":211,"./_object-dp":231,"./_object-gopd":234,"./_object-gpo":238,"./_property-desc":249}],382:[function(e,t,r){var n=e("./_global"),i=e("./_inherit-if-required"),o=e("./_object-dp").f,a=e("./_object-gopn").f,s=e("./_is-regexp"),u=e("./_flags"),c=n.RegExp,l=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(e("./_descriptors")&&(!p||e("./_fails")(function(){return h[e("./_wks")("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")}))){c=function(e,t){var r=this instanceof c,n=s(e),o=void 0===t;return!r&&n&&e.constructor===c&&o?e:i(p?new l(n&&!o?e.source:e,t):l((n=e instanceof c)?e.source:e,n&&o?u.call(e):t),r?this:f,c)};for(var b=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},y=a(l),v=0;y.length>v;)b(y[v++]);(f.constructor=c).prototype=f,e("./_redefine")(n,"RegExp",c)}e("./_set-species")("RegExp")},{"./_descriptors":189,"./_fails":195,"./_flags":197,"./_global":200,"./_inherit-if-required":205,"./_is-regexp":212,"./_object-dp":231,"./_object-gopn":236,"./_redefine":251,"./_set-species":257,"./_wks":286}],383:[function(e,t,r){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":189,"./_flags":197,"./_object-dp":231}],384:[function(e,t,r){e("./_fix-re-wks")("match",1,function(n,o,e){return[function(e){"use strict";var t=n(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,t):new RegExp(e)[o](String(t))},e]})},{"./_fix-re-wks":196}],385:[function(e,t,r){e("./_fix-re-wks")("replace",2,function(o,i,a){return[function(e,t){"use strict";var r=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):a.call(String(r),e,t)},a]})},{"./_fix-re-wks":196}],386:[function(e,t,r){e("./_fix-re-wks")("search",1,function(n,o,e){return[function(e){"use strict";var t=n(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,t):new RegExp(e)[o](String(t))},e]})},{"./_fix-re-wks":196}],387:[function(t,e,r){t("./_fix-re-wks")("split",2,function(o,i,a){"use strict";var h=t("./_is-regexp"),p=a,b=[].push,e="split",y="length";if("c"=="abbc"[e](/(b)*/)[1]||4!="test"[e](/(?:)/,-1)[y]||2!="ab"[e](/(?:ab)*/)[y]||4!="."[e](/(.?)(.?)/)[y]||1<"."[e](/()()/)[y]||""[e](/.?/)[y]){var v=void 0===/()??/.exec("")[1];a=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!h(e))return p.call(r,e,t);var n,o,i,a,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=void 0===t?4294967295:t>>>0,d=new RegExp(e.source,c+"g");for(v||(n=new RegExp("^"+d.source+"$(?!\\s)",c));(o=d.exec(r))&&!(l<(i=o.index+o[0][y])&&(u.push(r.slice(l,o.index)),!v&&1<o[y]&&o[0].replace(n,function(){for(s=1;s<arguments[y]-2;s++)void 0===arguments[s]&&(o[s]=void 0)}),1<o[y]&&o.index<r[y]&&b.apply(u,o.slice(1)),a=o[0][y],l=i,u[y]>=f));)d.lastIndex===o.index&&d.lastIndex++;return l===r[y]?!a&&d.test("")||u.push(""):u.push(r.slice(l)),u[y]>f?u.slice(0,f):u}}else"0"[e](void 0,0)[y]&&(a=function(e,t){return void 0===e&&0===t?[]:p.call(this,e,t)});return[function(e,t){var r=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):a.call(String(r),e,t)},a]})},{"./_fix-re-wks":196,"./_is-regexp":212}],388:[function(t,e,r){"use strict";t("./es6.regexp.flags");var n=t("./_an-object"),o=t("./_flags"),i=t("./_descriptors"),a="toString",s=/./[a],u=function(e){t("./_redefine")(RegExp.prototype,a,e,!0)};t("./_fails")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):s.name!=a&&u(function(){return s.call(this)})},{"./_an-object":167,"./_descriptors":189,"./_fails":195,"./_flags":197,"./_redefine":251,"./es6.regexp.flags":383}],389:[function(e,t,r){"use strict";var n=e("./_collection-strong"),o=e("./_validate-collection");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},{"./_collection":182,"./_collection-strong":179,"./_validate-collection":283}],390:[function(e,t,r){"use strict";e("./_string-html")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},{"./_string-html":265}],391:[function(e,t,r){"use strict";e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})},{"./_string-html":265}],392:[function(e,t,r){"use strict";e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})},{"./_string-html":265}],393:[function(e,t,r){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":265}],394:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-at")(!1);n(n.P,"String",{codePointAt:function(e){return o(this,e)}})},{"./_export":193,"./_string-at":263}],395:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-length"),s=e("./_string-context"),u="endsWith",c=""[u];n(n.P+n.F*e("./_fails-is-regexp")(u),"String",{endsWith:function(e){var t=s(this,e,u),r=1<arguments.length?arguments[1]:void 0,n=a(t.length),o=void 0===r?n:Math.min(a(r),n),i=String(e);return c?c.call(t,i,o):t.slice(o-i.length,o)===i}})},{"./_export":193,"./_fails-is-regexp":194,"./_string-context":264,"./_to-length":275}],396:[function(e,t,r){"use strict";e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})},{"./_string-html":265}],397:[function(e,t,r){"use strict";e("./_string-html")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},{"./_string-html":265}],398:[function(e,t,r){"use strict";e("./_string-html")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},{"./_string-html":265}],399:[function(e,t,r){var n=e("./_export"),i=e("./_to-absolute-index"),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,o=0;o<n;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},{"./_export":193,"./_to-absolute-index":271}],400:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-context");n(n.P+n.F*e("./_fails-is-regexp")("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},{"./_export":193,"./_fails-is-regexp":194,"./_string-context":264}],401:[function(e,t,r){"use strict";e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})},{"./_string-html":265}],402:[function(e,t,r){arguments[4][156][0].apply(r,arguments)},{"./_iter-define":215,"./_string-at":263,dup:156}],403:[function(e,t,r){"use strict";e("./_string-html")("link",function(t){return function(e){return t(this,"a","href",e)}})},{"./_string-html":265}],404:[function(e,t,r){var n=e("./_export"),a=e("./_to-iobject"),s=e("./_to-length");n(n.S,"String",{raw:function(e){for(var t=a(e.raw),r=s(t.length),n=arguments.length,o=[],i=0;i<r;)o.push(String(t[i++])),i<n&&o.push(String(arguments[i]));return o.join("")}})},{"./_export":193,"./_to-iobject":274,"./_to-length":275}],405:[function(e,t,r){var n=e("./_export");n(n.P,"String",{repeat:e("./_string-repeat")})},{"./_export":193,"./_string-repeat":267}],406:[function(e,t,r){"use strict";e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})},{"./_string-html":265}],407:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-length"),i=e("./_string-context"),a="startsWith",s=""[a];n(n.P+n.F*e("./_fails-is-regexp")(a),"String",{startsWith:function(e){var t=i(this,e,a),r=o(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),n=String(e);return s?s.call(t,n,r):t.slice(r,r+n.length)===n}})},{"./_export":193,"./_fails-is-regexp":194,"./_string-context":264,"./_to-length":275}],408:[function(e,t,r){"use strict";e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})},{"./_string-html":265}],409:[function(e,t,r){"use strict";e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})},{"./_string-html":265}],410:[function(e,t,r){"use strict";e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})},{"./_string-html":265}],411:[function(e,t,r){"use strict";e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./_string-trim":268}],412:[function(e,t,r){arguments[4][157][0].apply(r,arguments)},{"./_an-object":167,"./_descriptors":189,"./_enum-keys":192,"./_export":193,"./_fails":195,"./_global":200,"./_has":201,"./_hide":202,"./_is-array":209,"./_is-object":211,"./_library":219,"./_meta":225,"./_object-create":230,"./_object-dp":231,"./_object-gopd":234,"./_object-gopn":236,"./_object-gopn-ext":235,"./_object-gops":237,"./_object-keys":240,"./_object-pie":241,"./_property-desc":249,"./_redefine":251,"./_set-to-string-tag":258,"./_shared":260,"./_to-iobject":274,"./_to-primitive":277,"./_uid":281,"./_wks":286,"./_wks-define":284,"./_wks-ext":285,dup:157}],413:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_typed"),i=e("./_typed-buffer"),c=e("./_an-object"),l=e("./_to-absolute-index"),f=e("./_to-length"),a=e("./_is-object"),s=e("./_global").ArrayBuffer,d=e("./_species-constructor"),h=i.ArrayBuffer,p=i.DataView,u=o.ABV&&s.isView,b=h.prototype.slice,y=o.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(s!==h),{ArrayBuffer:h}),n(n.S+n.F*!o.CONSTR,v,{isView:function(e){return u&&u(e)||a(e)&&y in e}}),n(n.P+n.U+n.F*e("./_fails")(function(){return!new h(2).slice(1,void 0).byteLength}),v,{slice:function(e,t){if(void 0!==b&&void 0===t)return b.call(c(this),e);for(var r=c(this).byteLength,n=l(e,r),o=l(void 0===t?r:t,r),i=new(d(this,h))(f(o-n)),a=new p(this),s=new p(i),u=0;n<o;)s.setUint8(u++,a.getUint8(n++));return i}}),e("./_set-species")(v)},{"./_an-object":167,"./_export":193,"./_fails":195,"./_global":200,"./_is-object":211,"./_set-species":257,"./_species-constructor":261,"./_to-absolute-index":271,"./_to-length":275,"./_typed":280,"./_typed-buffer":279}],414:[function(e,t,r){var n=e("./_export");n(n.G+n.W+n.F*!e("./_typed").ABV,{DataView:e("./_typed-buffer").DataView})},{"./_export":193,"./_typed":280,"./_typed-buffer":279}],415:[function(e,t,r){e("./_typed-array")("Float32",4,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],416:[function(e,t,r){e("./_typed-array")("Float64",8,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],417:[function(e,t,r){e("./_typed-array")("Int16",2,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],418:[function(e,t,r){e("./_typed-array")("Int32",4,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],419:[function(e,t,r){e("./_typed-array")("Int8",1,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],420:[function(e,t,r){e("./_typed-array")("Uint16",2,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],421:[function(e,t,r){e("./_typed-array")("Uint32",4,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],422:[function(e,t,r){e("./_typed-array")("Uint8",1,function(n){return function(e,t,r){return n(this,e,t,r)}})},{"./_typed-array":278}],423:[function(e,t,r){e("./_typed-array")("Uint8",1,function(n){return function(e,t,r){return n(this,e,t,r)}},!0)},{"./_typed-array":278}],424:[function(e,t,r){"use strict";var i,n=e("./_array-methods")(0),a=e("./_redefine"),o=e("./_meta"),s=e("./_object-assign"),u=e("./_collection-weak"),c=e("./_is-object"),l=e("./_fails"),f=e("./_validate-collection"),d="WeakMap",h=o.getWeak,p=Object.isExtensible,b=u.ufstore,y={},v=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},_={get:function(e){if(c(e)){var t=h(e);return!0===t?b(f(this,d)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,d),e,t)}},m=t.exports=e("./_collection")(d,v,_,u,!0,!0);l(function(){return 7!=(new m).set((Object.freeze||Object)(y),7).get(y)})&&(s((i=u.getConstructor(v,d)).prototype,_),o.NEED=!0,n(["delete","has","get","set"],function(n){var e=m.prototype,o=e[n];a(e,n,function(e,t){if(c(e)&&!p(e)){this._f||(this._f=new i);var r=this._f[n](e,t);return"set"==n?this:r}return o.call(this,e,t)})}))},{"./_array-methods":172,"./_collection":182,"./_collection-weak":181,"./_fails":195,"./_is-object":211,"./_meta":225,"./_object-assign":229,"./_redefine":251,"./_validate-collection":283}],425:[function(e,t,r){"use strict";var n=e("./_collection-weak"),o=e("./_validate-collection");e("./_collection")("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"WeakSet"),e,!0)}},n,!1,!0)},{"./_collection":182,"./_collection-weak":181,"./_validate-collection":283}],426:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_flatten-into-array"),i=e("./_to-object"),a=e("./_to-length"),s=e("./_a-function"),u=e("./_array-species-create");n(n.P,"Array",{flatMap:function(e){var t,r,n=i(this);return s(e),t=a(n.length),r=u(n,0),o(r,n,n,t,0,1,e,arguments[1]),r}}),e("./_add-to-unscopables")("flatMap")},{"./_a-function":163,"./_add-to-unscopables":165,"./_array-species-create":175,"./_export":193,"./_flatten-into-array":198,"./_to-length":275,"./_to-object":276}],427:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_flatten-into-array"),i=e("./_to-object"),a=e("./_to-length"),s=e("./_to-integer"),u=e("./_array-species-create");n(n.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),r=a(t.length),n=u(t,0);return o(n,t,t,r,0,void 0===e?1:s(e)),n}}),e("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":165,"./_array-species-create":175,"./_export":193,"./_flatten-into-array":198,"./_to-integer":273,"./_to-length":275,"./_to-object":276}],428:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-includes")(!0);n(n.P,"Array",{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":165,"./_array-includes":171,"./_export":193}],429:[function(e,t,r){var n=e("./_export"),o=e("./_microtask")(),i=e("./_global").process,a="process"==e("./_cof")(i);n(n.G,{asap:function(e){var t=a&&i.domain;o(t?t.bind(e):e)}})},{"./_cof":178,"./_export":193,"./_global":200,"./_microtask":227}],430:[function(e,t,r){var n=e("./_export"),o=e("./_cof");n(n.S,"Error",{isError:function(e){return"Error"===o(e)}})},{"./_cof":178,"./_export":193}],431:[function(e,t,r){var n=e("./_export");n(n.G,{global:e("./_global")})},{"./_export":193,"./_global":200}],432:[function(e,t,r){e("./_set-collection-from")("Map")},{"./_set-collection-from":254}],433:[function(e,t,r){e("./_set-collection-of")("Map")},{"./_set-collection-of":255}],434:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":180,"./_export":193}],435:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{clamp:function(e,t,r){return Math.min(r,Math.max(t,e))}})},{"./_export":193}],436:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":193}],437:[function(e,t,r){var n=e("./_export"),o=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*o}})},{"./_export":193}],438:[function(e,t,r){var n=e("./_export"),i=e("./_math-scale"),a=e("./_math-fround");n(n.S,"Math",{fscale:function(e,t,r,n,o){return a(i(e,t,r,n,o))}})},{"./_export":193,"./_math-fround":221,"./_math-scale":223}],439:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{iaddh:function(e,t,r,n){var o=e>>>0,i=r>>>0;return(t>>>0)+(n>>>0)+((o&i|(o|i)&~(o+i>>>0))>>>31)|0}})},{"./_export":193}],440:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{imulh:function(e,t){var r=+e,n=+t,o=65535&r,i=65535&n,a=r>>16,s=n>>16,u=(a*i>>>0)+(o*i>>>16);return a*s+(u>>16)+((o*s>>>0)+(65535&u)>>16)}})},{"./_export":193}],441:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{isubh:function(e,t,r,n){var o=e>>>0,i=r>>>0;return(t>>>0)-(n>>>0)-((~o&i|~(o^i)&o-i>>>0)>>>31)|0}})},{"./_export":193}],442:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":193}],443:[function(e,t,r){var n=e("./_export"),o=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*o}})},{"./_export":193}],444:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{scale:e("./_math-scale")})},{"./_export":193,"./_math-scale":223}],445:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},{"./_export":193}],446:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{umulh:function(e,t){var r=+e,n=+t,o=65535&r,i=65535&n,a=r>>>16,s=n>>>16,u=(a*i>>>0)+(o*i>>>16);return a*s+(u>>>16)+((o*s>>>0)+(65535&u)>>>16)}})},{"./_export":193}],447:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineGetter__:function(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":163,"./_descriptors":189,"./_export":193,"./_object-dp":231,"./_object-forced-pam":233,"./_to-object":276}],448:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":163,"./_descriptors":189,"./_export":193,"./_object-dp":231,"./_object-forced-pam":233,"./_to-object":276}],449:[function(e,t,r){var n=e("./_export"),o=e("./_object-to-array")(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},{"./_export":193,"./_object-to-array":243}],450:[function(e,t,r){var n=e("./_export"),u=e("./_own-keys"),c=e("./_to-iobject"),l=e("./_object-gopd"),f=e("./_create-property");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=c(e),o=l.f,i=u(n),a={},s=0;i.length>s;)void 0!==(r=o(n,t=i[s++]))&&f(a,t,r);return a}})},{"./_create-property":184,"./_export":193,"./_object-gopd":234,"./_own-keys":244,"./_to-iobject":274}],451:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),a=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,r=o(this),n=i(e,!0);do{if(t=s(r,n))return t.get}while(r=a(r))}})},{"./_descriptors":189,"./_export":193,"./_object-forced-pam":233,"./_object-gopd":234,"./_object-gpo":238,"./_to-object":276,"./_to-primitive":277}],452:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),a=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,r=o(this),n=i(e,!0);do{if(t=s(r,n))return t.set}while(r=a(r))}})},{"./_descriptors":189,"./_export":193,"./_object-forced-pam":233,"./_object-gopd":234,"./_object-gpo":238,"./_to-object":276,"./_to-primitive":277}],453:[function(e,t,r){var n=e("./_export"),o=e("./_object-to-array")(!1);n(n.S,"Object",{values:function(e){return o(e)}})},{"./_export":193,"./_object-to-array":243}],454:[function(e,t,r){"use strict";var n=e("./_export"),i=e("./_global"),a=e("./_core"),o=e("./_microtask")(),s=e("./_wks")("observable"),u=e("./_a-function"),c=e("./_an-object"),l=e("./_an-instance"),f=e("./_redefine-all"),d=e("./_hide"),h=e("./_for-of"),p=h.RETURN,b=function(e){return null==e?void 0:u(e)},y=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},_=function(e){v(e)||(e._o=void 0,y(e))},m=function(t,e){c(t),this._c=void 0,this._o=t,t=new g(this);try{var r=e(t),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:u(r),this._c=r)}catch(e){return void t.error(e)}v(this)&&y(this)};m.prototype=f({},{unsubscribe:function(){_(this)}});var g=function(e){this._s=e};g.prototype=f({},{next:function(e){var t=this._s;if(!v(t)){var r=t._o;try{var n=b(r.next);if(n)return n.call(r,e)}catch(e){try{_(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var r=t._o;t._o=void 0;try{var n=b(r.error);if(!n)throw e;e=n.call(r,e)}catch(e){try{y(t)}finally{throw e}}return y(t),e},complete:function(e){var t=this._s;if(!v(t)){var r=t._o;t._o=void 0;try{var n=b(r.complete);e=n?n.call(r,e):void 0}catch(e){try{y(t)}finally{throw e}}return y(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=u(e)};f(w.prototype,{subscribe:function(e){return new m(e,this._f)},forEach:function(n){var o=this;return new(a.Promise||i.Promise)(function(e,t){u(n);var r=o.subscribe({next:function(e){try{return n(e)}catch(e){t(e),r.unsubscribe()}},error:t,complete:e})})}}),f(w,{from:function(e){var t="function"==typeof this?this:w,r=b(c(e)[s]);if(r){var n=c(r.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var r=!1;return o(function(){if(!r){try{if(h(e,!1,function(e){if(t.next(e),r)return p})===p)return}catch(e){if(r)throw e;return void t.error(e)}t.complete()}}),function(){r=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(t){var r=!1;return o(function(){if(!r){for(var e=0;e<n.length;++e)if(t.next(n[e]),r)return;t.complete()}}),function(){r=!0}})}}),d(w.prototype,s,function(){return this}),n(n.G,{Observable:w}),e("./_set-species")("Observable")},{"./_a-function":163,"./_an-instance":166,"./_an-object":167,"./_core":183,"./_export":193,"./_for-of":199,"./_global":200,"./_hide":202,"./_microtask":227,"./_redefine-all":250,"./_set-species":257,"./_wks":286}],455:[function(e,t,r){arguments[4][158][0].apply(r,arguments)},{"./_core":183,"./_export":193,"./_global":200,"./_promise-resolve":248,"./_species-constructor":261,dup:158}],456:[function(e,t,r){arguments[4][159][0].apply(r,arguments)},{"./_export":193,"./_new-promise-capability":228,"./_perform":247,dup:159}],457:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.key,a=n.set;n.exp({defineMetadata:function(e,t,r,n){a(e,t,o(r),i(n))}})},{"./_an-object":167,"./_metadata":226}],458:[function(e,t,r){var n=e("./_metadata"),i=e("./_an-object"),a=n.key,s=n.map,u=n.store;n.exp({deleteMetadata:function(e,t){var r=arguments.length<3?void 0:a(arguments[2]),n=s(i(t),r,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var o=u.get(t);return o.delete(r),!!o.size||u.delete(t)}})},{"./_an-object":167,"./_metadata":226}],459:[function(e,t,r){var i=e("./es6.set"),a=e("./_array-from-iterable"),n=e("./_metadata"),o=e("./_an-object"),s=e("./_object-gpo"),u=n.keys,c=n.key,l=function(e,t){var r=u(e,t),n=s(e);if(null===n)return r;var o=l(n,t);return o.length?r.length?a(new i(r.concat(o))):o:r};n.exp({getMetadataKeys:function(e){return l(o(e),arguments.length<2?void 0:c(arguments[1]))}})},{"./_an-object":167,"./_array-from-iterable":170,"./_metadata":226,"./_object-gpo":238,"./es6.set":389}],460:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),a=n.has,s=n.get,u=n.key,c=function(e,t,r){if(a(e,t,r))return s(e,t,r);var n=i(t);return null!==n?c(e,n,r):void 0};n.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:u(arguments[2]))}})},{"./_an-object":167,"./_metadata":226,"./_object-gpo":238}],461:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:a(arguments[1]))}})},{"./_an-object":167,"./_metadata":226}],462:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.get,a=n.key;n.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":167,"./_metadata":226}],463:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),a=n.has,s=n.key,u=function(e,t,r){if(a(e,t,r))return!0;var n=i(t);return null!==n&&u(e,n,r)};n.exp({hasMetadata:function(e,t){return u(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":167,"./_metadata":226,"./_object-gpo":238}],464:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.has,a=n.key;n.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":167,"./_metadata":226}],465:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_a-function"),a=n.key,s=n.set;n.exp({metadata:function(r,n){return function(e,t){s(r,n,(void 0!==t?o:i)(e),a(t))}}})},{"./_a-function":163,"./_an-object":167,"./_metadata":226}],466:[function(e,t,r){e("./_set-collection-from")("Set")},{"./_set-collection-from":254}],467:[function(e,t,r){e("./_set-collection-of")("Set")},{"./_set-collection-of":255}],468:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":180,"./_export":193}],469:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-at")(!0);n(n.P,"String",{at:function(e){return o(this,e)}})},{"./_export":193,"./_string-at":263}],470:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_defined"),i=e("./_to-length"),a=e("./_is-regexp"),s=e("./_flags"),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};e("./_iter-create")(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(o(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),r="flags"in u?String(e.flags):s.call(e),n=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=i(e.lastIndex),new c(n,t)}})},{"./_defined":188,"./_export":193,"./_flags":197,"./_is-regexp":212,"./_iter-create":214,"./_to-length":275}],471:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-pad"),i=e("./_user-agent");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},{"./_export":193,"./_string-pad":266,"./_user-agent":282}],472:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-pad"),i=e("./_user-agent");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},{"./_export":193,"./_string-pad":266,"./_user-agent":282}],473:[function(e,t,r){"use strict";e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{"./_string-trim":268}],474:[function(e,t,r){"use strict";e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{"./_string-trim":268}],475:[function(e,t,r){arguments[4][160][0].apply(r,arguments)},{"./_wks-define":284,dup:160}],476:[function(e,t,r){arguments[4][161][0].apply(r,arguments)},{"./_wks-define":284,dup:161}],477:[function(e,t,r){var n=e("./_export");n(n.S,"System",{global:e("./_global")})},{"./_export":193,"./_global":200}],478:[function(e,t,r){e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":254}],479:[function(e,t,r){e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":255}],480:[function(e,t,r){e("./_set-collection-from")("WeakSet")},{"./_set-collection-from":254}],481:[function(e,t,r){e("./_set-collection-of")("WeakSet")},{"./_set-collection-of":255}],482:[function(e,t,r){for(var n=e("./es6.array.iterator"),o=e("./_object-keys"),i=e("./_redefine"),a=e("./_global"),s=e("./_hide"),u=e("./_iterators"),c=e("./_wks"),l=c("iterator"),f=c("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),b=0;b<p.length;b++){var y,v=p[b],_=h[v],m=a[v],g=m&&m.prototype;if(g&&(g[l]||s(g,l,d),g[f]||s(g,f,v),u[v]=d,_))for(y in n)g[y]||i(g,y,n[y],!0)}},{"./_global":200,"./_hide":202,"./_iterators":218,"./_object-keys":240,"./_redefine":251,"./_wks":286,"./es6.array.iterator":299}],483:[function(e,t,r){var n=e("./_export"),o=e("./_task");n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":193,"./_task":270}],484:[function(e,t,r){var n=e("./_global"),o=e("./_export"),i=e("./_user-agent"),a=[].slice,s=/MSIE .\./.test(i),u=function(o){return function(e,t){var r=2<arguments.length,n=!!r&&a.call(arguments,2);return o(r?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,t)}};o(o.G+o.B+o.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},{"./_export":193,"./_global":200,"./_user-agent":282}],485:[function(e,t,r){e("./modules/es6.symbol"),e("./modules/es6.object.create"),e("./modules/es6.object.define-property"),e("./modules/es6.object.define-properties"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.function.bind"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.parse-int"),e("./modules/es6.parse-float"),e("./modules/es6.number.constructor"),e("./modules/es6.number.to-fixed"),e("./modules/es6.number.to-precision"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.string.anchor"),e("./modules/es6.string.big"),e("./modules/es6.string.blink"),e("./modules/es6.string.bold"),e("./modules/es6.string.fixed"),e("./modules/es6.string.fontcolor"),e("./modules/es6.string.fontsize"),e("./modules/es6.string.italics"),e("./modules/es6.string.link"),e("./modules/es6.string.small"),e("./modules/es6.string.strike"),e("./modules/es6.string.sub"),e("./modules/es6.string.sup"),e("./modules/es6.date.now"),e("./modules/es6.date.to-json"),e("./modules/es6.date.to-iso-string"),e("./modules/es6.date.to-string"),e("./modules/es6.date.to-primitive"),e("./modules/es6.array.is-array"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.join"),e("./modules/es6.array.slice"),e("./modules/es6.array.sort"),e("./modules/es6.array.for-each"),e("./modules/es6.array.map"),e("./modules/es6.array.filter"),e("./modules/es6.array.some"),e("./modules/es6.array.every"),e("./modules/es6.array.reduce"),e("./modules/es6.array.reduce-right"),e("./modules/es6.array.index-of"),e("./modules/es6.array.last-index-of"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.array.species"),e("./modules/es6.array.iterator"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.to-string"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.typed.array-buffer"),e("./modules/es6.typed.data-view"),e("./modules/es6.typed.int8-array"),e("./modules/es6.typed.uint8-array"),e("./modules/es6.typed.uint8-clamped-array"),e("./modules/es6.typed.int16-array"),e("./modules/es6.typed.uint16-array"),e("./modules/es6.typed.int32-array"),e("./modules/es6.typed.uint32-array"),e("./modules/es6.typed.float32-array"),e("./modules/es6.typed.float64-array"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.array.flat-map"),e("./modules/es7.array.flatten"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-start"),e("./modules/es7.string.pad-end"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.string.match-all"),e("./modules/es7.symbol.async-iterator"),e("./modules/es7.symbol.observable"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.object.define-getter"),e("./modules/es7.object.define-setter"),e("./modules/es7.object.lookup-getter"),e("./modules/es7.object.lookup-setter"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/es7.map.of"),e("./modules/es7.set.of"),e("./modules/es7.weak-map.of"),e("./modules/es7.weak-set.of"),e("./modules/es7.map.from"),e("./modules/es7.set.from"),e("./modules/es7.weak-map.from"),e("./modules/es7.weak-set.from"),e("./modules/es7.global"),e("./modules/es7.system.global"),e("./modules/es7.error.is-error"),e("./modules/es7.math.clamp"),e("./modules/es7.math.deg-per-rad"),e("./modules/es7.math.degrees"),e("./modules/es7.math.fscale"),e("./modules/es7.math.iaddh"),e("./modules/es7.math.isubh"),e("./modules/es7.math.imulh"),e("./modules/es7.math.rad-per-deg"),e("./modules/es7.math.radians"),e("./modules/es7.math.scale"),e("./modules/es7.math.umulh"),e("./modules/es7.math.signbit"),e("./modules/es7.promise.finally"),e("./modules/es7.promise.try"),e("./modules/es7.reflect.define-metadata"),e("./modules/es7.reflect.delete-metadata"),e("./modules/es7.reflect.get-metadata"),e("./modules/es7.reflect.get-metadata-keys"),e("./modules/es7.reflect.get-own-metadata"),e("./modules/es7.reflect.get-own-metadata-keys"),e("./modules/es7.reflect.has-metadata"),e("./modules/es7.reflect.has-own-metadata"),e("./modules/es7.reflect.metadata"),e("./modules/es7.asap"),e("./modules/es7.observable"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/_core")},{"./modules/_core":183,"./modules/es6.array.copy-within":289,"./modules/es6.array.every":290,"./modules/es6.array.fill":291,"./modules/es6.array.filter":292,"./modules/es6.array.find":294,"./modules/es6.array.find-index":293,"./modules/es6.array.for-each":295,"./modules/es6.array.from":296,"./modules/es6.array.index-of":297,"./modules/es6.array.is-array":298,"./modules/es6.array.iterator":299,"./modules/es6.array.join":300,"./modules/es6.array.last-index-of":301,"./modules/es6.array.map":302,"./modules/es6.array.of":303,"./modules/es6.array.reduce":305,"./modules/es6.array.reduce-right":304,"./modules/es6.array.slice":306,"./modules/es6.array.some":307,"./modules/es6.array.sort":308,"./modules/es6.array.species":309,"./modules/es6.date.now":310,"./modules/es6.date.to-iso-string":311,"./modules/es6.date.to-json":312,"./modules/es6.date.to-primitive":313,"./modules/es6.date.to-string":314,"./modules/es6.function.bind":315,"./modules/es6.function.has-instance":316,"./modules/es6.function.name":317,"./modules/es6.map":318,"./modules/es6.math.acosh":319,"./modules/es6.math.asinh":320,"./modules/es6.math.atanh":321,"./modules/es6.math.cbrt":322,"./modules/es6.math.clz32":323,"./modules/es6.math.cosh":324,"./modules/es6.math.expm1":325,"./modules/es6.math.fround":326,"./modules/es6.math.hypot":327,"./modules/es6.math.imul":328,"./modules/es6.math.log10":329,"./modules/es6.math.log1p":330,"./modules/es6.math.log2":331,"./modules/es6.math.sign":332,"./modules/es6.math.sinh":333,"./modules/es6.math.tanh":334,"./modules/es6.math.trunc":335,"./modules/es6.number.constructor":336,"./modules/es6.number.epsilon":337,"./modules/es6.number.is-finite":338,"./modules/es6.number.is-integer":339,"./modules/es6.number.is-nan":340,"./modules/es6.number.is-safe-integer":341,"./modules/es6.number.max-safe-integer":342,"./modules/es6.number.min-safe-integer":343,"./modules/es6.number.parse-float":344,"./modules/es6.number.parse-int":345,"./modules/es6.number.to-fixed":346,"./modules/es6.number.to-precision":347,"./modules/es6.object.assign":348,"./modules/es6.object.create":349,"./modules/es6.object.define-properties":350,"./modules/es6.object.define-property":351,"./modules/es6.object.freeze":352,"./modules/es6.object.get-own-property-descriptor":353,"./modules/es6.object.get-own-property-names":354,"./modules/es6.object.get-prototype-of":355,"./modules/es6.object.is":359,"./modules/es6.object.is-extensible":356,"./modules/es6.object.is-frozen":357,"./modules/es6.object.is-sealed":358,"./modules/es6.object.keys":360,"./modules/es6.object.prevent-extensions":361,"./modules/es6.object.seal":362,"./modules/es6.object.set-prototype-of":363,"./modules/es6.object.to-string":364,"./modules/es6.parse-float":365,"./modules/es6.parse-int":366,"./modules/es6.promise":367,"./modules/es6.reflect.apply":368,"./modules/es6.reflect.construct":369,"./modules/es6.reflect.define-property":370,"./modules/es6.reflect.delete-property":371,"./modules/es6.reflect.enumerate":372,"./modules/es6.reflect.get":375,"./modules/es6.reflect.get-own-property-descriptor":373,"./modules/es6.reflect.get-prototype-of":374,"./modules/es6.reflect.has":376,"./modules/es6.reflect.is-extensible":377,"./modules/es6.reflect.own-keys":378,"./modules/es6.reflect.prevent-extensions":379,"./modules/es6.reflect.set":381,"./modules/es6.reflect.set-prototype-of":380,"./modules/es6.regexp.constructor":382,"./modules/es6.regexp.flags":383,"./modules/es6.regexp.match":384,"./modules/es6.regexp.replace":385,"./modules/es6.regexp.search":386,"./modules/es6.regexp.split":387,"./modules/es6.regexp.to-string":388,"./modules/es6.set":389,"./modules/es6.string.anchor":390,"./modules/es6.string.big":391,"./modules/es6.string.blink":392,"./modules/es6.string.bold":393,"./modules/es6.string.code-point-at":394,"./modules/es6.string.ends-with":395,"./modules/es6.string.fixed":396,"./modules/es6.string.fontcolor":397,"./modules/es6.string.fontsize":398,"./modules/es6.string.from-code-point":399,"./modules/es6.string.includes":400,"./modules/es6.string.italics":401,"./modules/es6.string.iterator":402,"./modules/es6.string.link":403,"./modules/es6.string.raw":404,"./modules/es6.string.repeat":405,"./modules/es6.string.small":406,"./modules/es6.string.starts-with":407,"./modules/es6.string.strike":408,"./modules/es6.string.sub":409,"./modules/es6.string.sup":410,"./modules/es6.string.trim":411,"./modules/es6.symbol":412,"./modules/es6.typed.array-buffer":413,"./modules/es6.typed.data-view":414,"./modules/es6.typed.float32-array":415,"./modules/es6.typed.float64-array":416,"./modules/es6.typed.int16-array":417,"./modules/es6.typed.int32-array":418,"./modules/es6.typed.int8-array":419,"./modules/es6.typed.uint16-array":420,"./modules/es6.typed.uint32-array":421,"./modules/es6.typed.uint8-array":422,"./modules/es6.typed.uint8-clamped-array":423,"./modules/es6.weak-map":424,"./modules/es6.weak-set":425,"./modules/es7.array.flat-map":426,"./modules/es7.array.flatten":427,"./modules/es7.array.includes":428,"./modules/es7.asap":429,"./modules/es7.error.is-error":430,"./modules/es7.global":431,"./modules/es7.map.from":432,"./modules/es7.map.of":433,"./modules/es7.map.to-json":434,"./modules/es7.math.clamp":435,"./modules/es7.math.deg-per-rad":436,"./modules/es7.math.degrees":437,"./modules/es7.math.fscale":438,"./modules/es7.math.iaddh":439,"./modules/es7.math.imulh":440,"./modules/es7.math.isubh":441,"./modules/es7.math.rad-per-deg":442,"./modules/es7.math.radians":443,"./modules/es7.math.scale":444,"./modules/es7.math.signbit":445,"./modules/es7.math.umulh":446,"./modules/es7.object.define-getter":447,"./modules/es7.object.define-setter":448,"./modules/es7.object.entries":449,"./modules/es7.object.get-own-property-descriptors":450,"./modules/es7.object.lookup-getter":451,"./modules/es7.object.lookup-setter":452,"./modules/es7.object.values":453,"./modules/es7.observable":454,"./modules/es7.promise.finally":455,"./modules/es7.promise.try":456,"./modules/es7.reflect.define-metadata":457,"./modules/es7.reflect.delete-metadata":458,"./modules/es7.reflect.get-metadata":460,"./modules/es7.reflect.get-metadata-keys":459,"./modules/es7.reflect.get-own-metadata":462,"./modules/es7.reflect.get-own-metadata-keys":461,"./modules/es7.reflect.has-metadata":463,"./modules/es7.reflect.has-own-metadata":464,"./modules/es7.reflect.metadata":465,"./modules/es7.set.from":466,"./modules/es7.set.of":467,"./modules/es7.set.to-json":468,"./modules/es7.string.at":469,"./modules/es7.string.match-all":470,"./modules/es7.string.pad-end":471,"./modules/es7.string.pad-start":472,"./modules/es7.string.trim-left":473,"./modules/es7.string.trim-right":474,"./modules/es7.symbol.async-iterator":475,"./modules/es7.symbol.observable":476,"./modules/es7.system.global":477,"./modules/es7.weak-map.from":478,"./modules/es7.weak-map.of":479,"./modules/es7.weak-set.from":480,"./modules/es7.weak-set.of":481,"./modules/web.dom.iterable":482,"./modules/web.immediate":483,"./modules/web.timers":484}],486:[function(e,t,r){var n,o;n=this,o=function(o){return function(){var e=o,t=e.lib.BlockCipher,r=e.algo,c=[],l=[],f=[],d=[],h=[],p=[],b=[],y=[],v=[],_=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var o=n^n<<1^n<<2^n<<3^n<<4;o=o>>>8^255&o^99,c[r]=o;var i=e[l[o]=r],a=e[i],s=e[a],u=257*e[o]^16843008*o;f[r]=u<<24|u>>>8,d[r]=u<<16|u>>>16,h[r]=u<<8|u>>>24,p[r]=u;u=16843009*s^65537*a^257*i^16843008*r;b[o]=u<<24|u>>>8,y[o]=u<<16|u>>>16,v[o]=u<<8|u>>>24,_[o]=u,r?(r=i^e[e[e[s^i]]],n^=e[e[n]]):r=n=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],n=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],i=0;i<n;i++)if(i<r)o[i]=t[i];else{var a=o[i-1];i%r?6<r&&i%r==4&&(a=c[a>>>24]<<24|c[a>>>16&255]<<16|c[a>>>8&255]<<8|c[255&a]):(a=c[(a=a<<8|a>>>24)>>>24]<<24|c[a>>>16&255]<<16|c[a>>>8&255]<<8|c[255&a],a^=m[i/r|0]<<24),o[i]=o[i-r]^a}for(var s=this._invKeySchedule=[],u=0;u<n;u++){i=n-u;if(u%4)a=o[i];else a=o[i-4];s[u]=u<4||i<=4?a:b[c[a>>>24]]^y[c[a>>>16&255]]^v[c[a>>>8&255]]^_[c[255&a]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,f,d,h,p,c)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,b,y,v,_,l);r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,a,s){for(var u=this._nRounds,c=e[t]^r[0],l=e[t+1]^r[1],f=e[t+2]^r[2],d=e[t+3]^r[3],h=4,p=1;p<u;p++){var b=n[c>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&d]^r[h++],y=n[l>>>24]^o[f>>>16&255]^i[d>>>8&255]^a[255&c]^r[h++],v=n[f>>>24]^o[d>>>16&255]^i[c>>>8&255]^a[255&l]^r[h++],_=n[d>>>24]^o[c>>>16&255]^i[l>>>8&255]^a[255&f]^r[h++];c=b,l=y,f=v,d=_}b=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^r[h++],y=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^r[h++],v=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^r[h++],_=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[h++];e[t]=b,e[t+1]=y,e[t+2]=v,e[t+3]=_},keySize:8});e.AES=t._createHelper(n)}(),o.AES},"object"==typeof r?t.exports=r=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(n.CryptoJS)},{"./cipher-core":487,"./core":488,"./enc-base64":489,"./evpkdf":491,"./md5":493}],487:[function(e,t,r){var n,o;n=this,o=function(e){var a,t,r,n,u,o,i,s,c,l,f,d,h,p,b,y,v,_,m;e.lib.Cipher||(r=(t=e).lib,n=r.Base,u=r.WordArray,o=r.BufferedBlockAlgorithm,(i=t.enc).Utf8,s=i.Base64,c=t.algo.EvpKDF,l=r.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function o(e){return"string"==typeof e?m:v}return function(n){return{encrypt:function(e,t,r){return o(t).encrypt(n,e,t,r)},decrypt:function(e,t,r){return o(t).decrypt(n,e,t,r)}}}}()}),r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=t.mode={},d=r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var e=d.extend();function i(e,t,r){var n=this._iv;if(n){var o=n;this._iv=a}else o=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=o[i]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize;i.call(this,e,t,n),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,o=e.slice(t,t+n);r.decryptBlock(e,t),i.call(this,e,t,n),this._prevBlock=o}}),e}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(o);var s=u.create(i,n);e.concat(s)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:h,padding:p}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),b=r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=u.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(s)},parse:function(e){var t=s.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=u.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return b.create({ciphertext:t,salt:n})}},v=r.SerializableCipher=n.extend({cfg:n.extend({format:y}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),a=o.cfg;return b.create({ciphertext:i,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=u.random(8));var o=c.create({keySize:t+r}).compute(e,n),i=u.create(o.words.slice(t),4*r);return o.sigBytes=4*t,b.create({key:o,iv:i,salt:n})}},m=r.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:_}),encrypt:function(e,t,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=o.iv;var i=v.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=o.iv,v.decrypt.call(this,e,t,o.key,n)}}))},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":488}],488:[function(e,t,r){var n,o;n=this,o=function(){var l,r,e,t,n,f,o,i,a,s,u,c,d=d||(l=Math,r=Object.create||function(){function r(){}return function(e){var t;return r.prototype=e,t=new r,r.prototype=null,t}}(),t=(e={}).lib={},n=t.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},f=t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||i).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=l.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t,r=[],n=function(t){t=t;var r=987654321,n=4294967295;return function(){var e=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return e/=4294967296,(e+=.5)*(.5<l.random()?1:-1)}},o=0;o<e;o+=4){var i=n(4294967296*(t||l.random()));t=987654071*i(),r.push(4294967296*i()|0)}return new f.init(r,e)}}),o=e.enc={},i=o.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new f.init(r,t/2)}},a=o.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new f.init(r,t)}},s=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},u=t.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=s.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,o=this.blockSize,i=n/(4*o),a=(i=e?l.ceil(i):l.max((0|i)-this._minBufferSize,0))*o,s=l.min(4*a,n);if(a){for(var u=0;u<a;u+=o)this._doProcessBlock(r,u);var c=r.splice(0,a);t.sigBytes-=s}return new f.init(c,s)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),t.Hasher=u.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(e,t){return new r.init(t).finalize(e)}},_createHmacHelper:function(r){return function(e,t){return new c.HMAC.init(r,t).finalize(e)}}}),c=e.algo={},e);return d},"object"==typeof r?t.exports=r=o():"function"==typeof define&&define.amd?define([],o):n.CryptoJS=o()},{}],489:[function(e,t,r){var n,o;n=this,o=function(e){var t,u;return u=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)o.push(n.charAt(a>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var i=r.charAt(64);if(i){var a=e.indexOf(i);-1!==a&&(t=a)}return function(e,t,r){for(var n=[],o=0,i=0;i<t;i++)if(i%4){var a=r[e.charCodeAt(i-1)]<<i%4*2,s=r[e.charCodeAt(i)]>>>6-i%4*2;n[o>>>2]|=(a|s)<<24-o%4*8,o++}return u.create(n,o)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":488}],490:[function(e,t,r){var n,o;n=this,o=function(e){return e.enc.Utf8},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":488}],491:[function(e,t,r){var n,o;n=this,o=function(e){var t,r,n,l,o,i,a;return r=(t=e).lib,n=r.Base,l=r.WordArray,o=t.algo,i=o.MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:i,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=l.create(),i=o.words,a=r.keySize,s=r.iterations;i.length<a;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var c=1;c<s;c++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*a,o}}),t.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)},e.EvpKDF},"object"==typeof r?t.exports=r=o(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],o):o(n.CryptoJS)},{"./core":488,"./hmac":492,"./sha1":494}],492:[function(e,t,r){var n,o;n=this,o=function(e){var t,r,c;r=(t=e).lib.Base,c=t.enc.Utf8,t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=c.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,s=i.words,u=0;u<r;u++)a[u]^=1549556828,s[u]^=909522486;o.sigBytes=i.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":488}],493:[function(e,t,r){var n,o;n=this,o=function(a){return function(l){var e=a,t=e.lib,r=t.WordArray,n=t.Hasher,o=e.algo,S=[];!function(){for(var e=0;e<64;e++)S[e]=4294967296*l.abs(l.sin(e+1))|0}();var i=o.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],s=e[t+1],u=e[t+2],c=e[t+3],l=e[t+4],f=e[t+5],d=e[t+6],h=e[t+7],p=e[t+8],b=e[t+9],y=e[t+10],v=e[t+11],_=e[t+12],m=e[t+13],g=e[t+14],w=e[t+15],x=i[0],k=i[1],j=i[2],O=i[3];k=P(k=P(k=P(k=P(k=A(k=A(k=A(k=A(k=C(k=C(k=C(k=C(k=E(k=E(k=E(k=E(k,j=E(j,O=E(O,x=E(x,k,j,O,a,7,S[0]),k,j,s,12,S[1]),x,k,u,17,S[2]),O,x,c,22,S[3]),j=E(j,O=E(O,x=E(x,k,j,O,l,7,S[4]),k,j,f,12,S[5]),x,k,d,17,S[6]),O,x,h,22,S[7]),j=E(j,O=E(O,x=E(x,k,j,O,p,7,S[8]),k,j,b,12,S[9]),x,k,y,17,S[10]),O,x,v,22,S[11]),j=E(j,O=E(O,x=E(x,k,j,O,_,7,S[12]),k,j,m,12,S[13]),x,k,g,17,S[14]),O,x,w,22,S[15]),j=C(j,O=C(O,x=C(x,k,j,O,s,5,S[16]),k,j,d,9,S[17]),x,k,v,14,S[18]),O,x,a,20,S[19]),j=C(j,O=C(O,x=C(x,k,j,O,f,5,S[20]),k,j,y,9,S[21]),x,k,w,14,S[22]),O,x,l,20,S[23]),j=C(j,O=C(O,x=C(x,k,j,O,b,5,S[24]),k,j,g,9,S[25]),x,k,c,14,S[26]),O,x,p,20,S[27]),j=C(j,O=C(O,x=C(x,k,j,O,m,5,S[28]),k,j,u,9,S[29]),x,k,h,14,S[30]),O,x,_,20,S[31]),j=A(j,O=A(O,x=A(x,k,j,O,f,4,S[32]),k,j,p,11,S[33]),x,k,v,16,S[34]),O,x,g,23,S[35]),j=A(j,O=A(O,x=A(x,k,j,O,s,4,S[36]),k,j,l,11,S[37]),x,k,h,16,S[38]),O,x,y,23,S[39]),j=A(j,O=A(O,x=A(x,k,j,O,m,4,S[40]),k,j,a,11,S[41]),x,k,c,16,S[42]),O,x,d,23,S[43]),j=A(j,O=A(O,x=A(x,k,j,O,b,4,S[44]),k,j,_,11,S[45]),x,k,w,16,S[46]),O,x,u,23,S[47]),j=P(j,O=P(O,x=P(x,k,j,O,a,6,S[48]),k,j,h,10,S[49]),x,k,g,15,S[50]),O,x,f,21,S[51]),j=P(j,O=P(O,x=P(x,k,j,O,_,6,S[52]),k,j,c,10,S[53]),x,k,y,15,S[54]),O,x,s,21,S[55]),j=P(j,O=P(O,x=P(x,k,j,O,p,6,S[56]),k,j,w,10,S[57]),x,k,d,15,S[58]),O,x,m,21,S[59]),j=P(j,O=P(O,x=P(x,k,j,O,l,6,S[60]),k,j,v,10,S[61]),x,k,u,15,S[62]),O,x,b,21,S[63]),i[0]=i[0]+x|0,i[1]=i[1]+k|0,i[2]=i[2]+j|0,i[3]=i[3]+O|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;var o=l.floor(r/4294967296),i=r;t[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,s=a.words,u=0;u<4;u++){var c=s[u];s[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function E(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+o+a;return(s<<i|s>>>32-i)+t}function C(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+o+a;return(s<<i|s>>>32-i)+t}function A(e,t,r,n,o,i,a){var s=e+(t^r^n)+o+a;return(s<<i|s>>>32-i)+t}function P(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+o+a;return(s<<i|s>>>32-i)+t}e.MD5=n._createHelper(i),e.HmacMD5=n._createHmacHelper(i)}(Math),a.MD5},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":488}],494:[function(e,t,r){var n,o;n=this,o=function(e){var t,r,n,o,i,f,a;return r=(t=e).lib,n=r.WordArray,o=r.Hasher,i=t.algo,f=[],a=i.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],u=0;u<80;u++){if(u<16)f[u]=0|e[t+u];else{var c=f[u-3]^f[u-8]^f[u-14]^f[u-16];f[u]=c<<1|c>>>31}var l=(n<<5|n>>>27)+s+f[u];l+=u<20?1518500249+(o&i|~o&a):u<40?1859775393+(o^i^a):u<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=o._createHelper(a),t.HmacSHA1=o._createHmacHelper(a),e.SHA1},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":488}],495:[function(e,t,r){"use strict";var n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this._parallels=e||1,this._queueCounter=0,this._idleCalls=new Set,this._lastHandleNumber=0,this._handlePromiseMap=new Map,this._promiseHandleMap=new Map};n.prototype={isIdle:function(){return this._queueCounter<this._parallels},_newHandleNumber:function(){return this._lastHandleNumber++,this._lastHandleNumber},lock:function(){this._queueCounter++},unlock:function(){this._queueCounter--,this._tryIdleCall()},wrapCall:function(e){var t=this;this.lock();var r=void 0;try{r=e()}catch(e){throw this.unlock(),e}return r.then&&"function"==typeof r.then?r.then(function(e){return t.unlock(),e}).catch(function(e){throw t.unlock(),e}):(this.unlock(),r)},requestIdlePromise:function(e){var t=this;e=e||{};var r=void 0,n=new Promise(function(e){return r=e});if(n._resolveFromOutside=function(){t._removeIdlePromise(n),r()},e.timeout){var o=setTimeout(function(){n._resolveFromOutside()},e.timeout);n._timeoutObj=o}return this._idleCalls.add(n),this._tryIdleCall(),n},cancelIdlePromise:function(e){this._removeIdlePromise(e)},_removeIdlePromise:function(e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),this._promiseHandleMap.has(e)){var t=this._promiseHandleMap.get(e);this._handlePromiseMap.delete(t),this._promiseHandleMap.delete(e)}this._idleCalls.delete(e)}},requestIdleCallback:function(e,t){var r=this._newHandleNumber(),n=this.requestIdlePromise(t);return this._handlePromiseMap.set(r,n),this._promiseHandleMap.set(n,r),n.then(function(){return e()}),r},cancelIdleCallback:function(e){var t=this._handlePromiseMap.get(e);this.cancelIdlePromise(t)},_tryIdleCall:function(){var e=this;this._tryIdleCallRunning||0===this._idleCalls.size||(this._tryIdleCallRunning=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()&&e._resolveOneIdleCall(),e._tryIdleCallRunning=!1},0):e._tryIdleCallRunning=!1},0))},_resolveOneIdleCall:function(){var e=this;0!==this._idleCalls.size&&(this._idleCalls.values().next().value._resolveFromOutside(),setTimeout(function(){return e._tryIdleCall()},0))},clear:function(){var t=this;this._idleCalls.forEach(function(e){return t._removeIdlePromise(e)}),this._queueCounter=0,this._idleCalls.clear(),this._handlePromiseMap=new Map,this._promiseHandleMap=new Map}},t.exports=n},{}],496:[function(e,t,r){var s=Array.prototype.slice,u=e("./lib/keys.js"),c=e("./lib/is_arguments.js"),l=t.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var n,o;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(c(e))return!!c(t)&&(e=s.call(e),t=s.call(t),l(e,t,r));if(d(e)){if(!d(t))return!1;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}try{var i=u(e),a=u(t)}catch(e){return!1}if(i.length!=a.length)return!1;for(i.sort(),a.sort(),n=i.length-1;0<=n;n--)if(i[n]!=a[n])return!1;for(n=i.length-1;0<=n;n--)if(o=i[n],!l(e[o],t[o],r))return!1;return typeof e==typeof t}(e,t,r))};function f(e){return null==e}function d(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(0<e.length&&"number"!=typeof e[0]))}},{"./lib/is_arguments.js":497,"./lib/keys.js":498}],497:[function(e,t,r){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function o(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(r=t.exports=n?o:i).supported=o,r.unsupported=i},{}],498:[function(e,t,r){function n(e){var t=[];for(var r in e)t.push(r);return t}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},{}],499:[function(e,t,r){var u=Object.create||function(e){var t=function(){};return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0;var o,s=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),o=0===c.x}catch(e){o=!1}function l(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var o,i,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]):(i=e._events=u(null),e._eventsCount=0),a){if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(o=l(e))&&0<o&&a.length>o){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",s.name,s.message)}}else a=i[t]=r,++e._eventsCount;return e}function d(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=i.call(d,n);return o.listener=r,n.wrapFn=o}function p(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}o?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');s=e}}):n.defaultMaxListeners=s,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return l(this)},n.prototype.emit=function(e){var t,r,n,o,i,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(r=a[e]))return!1;var c="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,o=b(e,n),i=0;i<n;++i)o[i].call(r)}(r,c,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var o=e.length,i=b(e,o),a=0;a<o;++a)i[a].call(r,n)}(r,c,this,arguments[1]);break;case 3:!function(e,t,r,n,o){if(t)e.call(r,n,o);else for(var i=e.length,a=b(e,i),s=0;s<i;++s)a[s].call(r,n,o)}(r,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,o,i){if(t)e.call(r,n,o,i);else for(var a=e.length,s=b(e,a),u=0;u<a;++u)s[u].call(r,n,o,i)}(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(n-1),i=1;i<n;i++)o[i-1]=arguments[i];!function(e,t,r,n){if(t)e.apply(r,n);else for(var o=e.length,i=b(e,o),a=0;a<o;++a)i[a].apply(r,n)}(r,c,this,o)}return!0},n.prototype.on=n.prototype.addListener=function(e,t){return f(this,e,t,!1)},n.prototype.prependListener=function(e,t){return f(this,e,t,!0)},n.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},n.prototype.removeListener=function(e,t){var r,n,o,i,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=u(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;0<=i;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),n.removeListener&&this.emit("removeListener",e,a||t)}return this},n.prototype.removeAllListeners=function(e){var t,r,n;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=u(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=u(null):delete r[e]),this;if(0===arguments.length){var o,i=a(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(n=t.length-1;0<=n;n--)this.removeListener(e,t[n]);return this},n.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},n.prototype.listenerCount=p,n.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],500:[function(e,t,r){var i=e("util"),a=/[\{\[]/,s=/[\}\]]/;t.exports=function(){var r=[],n=0,t=function(e){for(var t="";t.length<2*n;)t+="  ";r.push(t+e)},o=function(e){return e&&(s.test(e.trim()[0])&&a.test(e[e.length-1])?(n--,t(i.format.apply(i,arguments)),n++):a.test(e[e.length-1])?(t(i.format.apply(i,arguments)),n++):(s.test(e.trim()[0])&&n--,t(i.format.apply(i,arguments)))),o};return o.toString=function(){return r.join("\n")},o.toFunction=function(t){var e="return ("+o.toString()+")",r=Object.keys(t||{}).map(function(e){return e}),n=r.map(function(e){return t[e]});return Function.apply(null,r.concat(e)).apply(null,n)},arguments.length&&o.apply(null,arguments),o}},{util:599}],501:[function(e,t,r){var n=e("is-property"),o=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};o.valid=n,o.property=function(e){return n(e)?e:JSON.stringify(e)},t.exports=o},{"is-property":509}],502:[function(e,t,r){r.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,d=r?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;0<l;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;0<l;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=c}return(h?-1:1)*a*Math.pow(2,i-n)},r.write=function(e,t,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(t+=1<=a+f?d/u:d*Math.pow(2,1-f))*u&&(a++,u/=2),l<=a+f?(s=0,a=l):1<=a+f?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));8<=o;e[r+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;0<c;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*b}},{}],503:[function(e,l,t){(function(t){"use strict";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var o=0,i=new e(c),a=t.document.createTextNode("");i.observe(a,{characterData:!0}),r=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var s=new t.MessageChannel;s.port1.onmessage=c,r=function(){s.port2.postMessage(0)}}var u=[];function c(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}l.exports=function(e){1!==u.push(e)||n||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],504:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],505:[function(e,t,r){(function(e){t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!(void 0===e||"object"!=typeof e.versions||!e.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&0<=navigator.userAgent.indexOf("Electron")}}).call(this,e("_process"))},{_process:540}],506:[function(e,t,r){var a=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c=/\/\d{1,3}(?=%|$)/,l=/\//,f=/%.*$/,d=/([^0-9a-f:/%])/i,h=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function p(e){if(!a.test(e))return!1;var t=e.split(".");if(4!==t.length)return!1;if("0"===t[0][0]&&1<t[0].length)return!1;if("0"===t[1][0]&&1<t[1].length)return!1;if("0"===t[2][0]&&1<t[2].length)return!1;if("0"===t[3][0]&&1<t[3].length)return!1;var r=Number(t[0]),n=Number(t[1]),o=Number(t[2]),i=Number(t[3]);return 0<=r&&r<256&&0<=n&&n<256&&0<=o&&o<256&&0<=i&&i<256}function n(e){var t=e.replace(c,""),r=e.length!==t.length;if(r)return!1;if(!r&&l.test(e))return!1;var n=t.replace(f,""),o=n.lastIndexOf(":");if(-1===o)return!1;var i=p(n.substring(o+1))?n.substring(0,o+1)+"1234:5678":n;if(d.test(i))return!1;if(h.test(i))return!1;var a=i.split("::");if(2<a.length)return!1;if(2===a.length){var s=""===a[0]?[]:a[0].split(":"),u=""===a[1]?[]:a[1].split(":");if(8-(s.length+u.length)<=0)return!1}else if(8!==i.split(":").length)return!1;return!0}function o(e){return p(e)||n(e)}t.exports=function(e){if(e||(e={}),4===e.version)return p;if(6===e.version)return n;if(null==e.version)return o;throw new Error("Unknown version: "+e.version)},t.exports.__all_regexes__=[a,c,l,f,d,h]},{}],507:[function(e,t,r){var n=e("is-my-ip-valid"),o=/\s/,i=/^[a-zA-Z0-9.-]+$/,a=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,s=/^\+[0-9][0-9 ]{5,27}[0-9]$/,u=/ {2}/,c=/ /g;r["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,r.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,r.time=/^\d{2}:\d{2}:\d{2}$/,r.email=function(e){return-1!==e.indexOf("@")&&!o.test(e)},r["ip-address"]=r.ipv4=n({version:4}),r.ipv6=n({version:6}),r.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,r.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,r.hostname=function(e){if(!i.test(e))return!1;for(var t=e.split("."),r=0;r<t.length;r++)if(!a.test(t[r]))return!1;return!0},r.alpha=/^[a-zA-Z]+$/,r.alphanumeric=/^[a-zA-Z0-9]+$/,r.style=/\s*(.+?):\s*([^;]+);?/g,r.phone=function(e){if(!s.test(e))return!1;if(u.test(e))return!1;var t=e.substring(1).replace(c,"").length;return 7<=t&&t<=15},r["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},{"is-my-ip-valid":506}],508:[function(e,n,t){var M=e("generate-object-property"),i=e("generate-function"),I=e("jsonpointer"),a=e("xtend"),T=e("./formats"),L=function(e){e=JSON.stringify(e);for(var t=/\[([^\[\]"]+)\]/;t.test(e);)e=e.replace(t,'."+$1+"');return e},F={any:function(){return"true"},null:function(e){return e+" === null"},boolean:function(e){return"typeof "+e+' === "boolean"'},array:function(e){return"Array.isArray("+e+")"},object:function(e){return"typeof "+e+' === "object" && '+e+" && !Array.isArray("+e+")"},number:function(e){return"typeof "+e+' === "number" && isFinite('+e+")"},integer:function(e){return"typeof "+e+' === "number" && (Math.floor('+e+") === "+e+" || "+e+" > 9007199254740992 || "+e+" < -9007199254740992)"},string:function(e){return"typeof "+e+' === "string"'}},s=function(e){for(var t=[],r=0;r<e.length;r++)t.push("object"==typeof e[r]?JSON.stringify(e[r]):e[r]);for(r=1;r<t.length;r++)if(t.indexOf(t[r])!==r)return!1;return!0},u=function(e,t){var r,n=(0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1;1<n?r=n<((0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1)||Math.round(n*e)%(n*t):r=e%t;return!r},q=function(e,w,x,t,k){var j=k?a(T,k.formats):T,O={unique:s,formats:j,isMultipleOf:u},S=!!k&&!!k.verbose,E=!(!k||void 0===k.greedy)&&k.greedy,r={},C=function(e){return e+(r[e]=(r[e]||0)+1)},n={},A=function(e){if(n[e])return n[e];var t=C("pattern");return O[t]=new RegExp(e),n[e]=t},o=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],P=function(){var e=o.shift();return o.push(e+e[0]),e},R=function(n,r,o,i,a){var s=r.properties,u=r.type,t=!1;Array.isArray(r.items)&&(s={},r.items.forEach(function(e,t){s[t]=e}),u="array",t=!0);var e=0,c=function(e,t,r){D("errors++"),!0===o&&(D("if (validate.errors === null) validate.errors = []"),S?D("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",L(t||n),JSON.stringify(e),r||n,JSON.stringify(u),JSON.stringify(a)):D("validate.errors.push({field:%s,message:%s})",L(t||n),JSON.stringify(e)))};!0===r.required?(e++,D("if (%s === undefined) {",n),c("is required"),D("} else {")):(e++,D("if (%s !== undefined) {",n));var l=[].concat(u).map(function(e){if(e&&!F.hasOwnProperty(e))throw new Error("Unknown type: "+e);return F[e||"any"](n)}).join(" || ")||"true";if("true"!==l&&(e++,D("if (!(%s)) {",l),c("is the wrong type"),D("} else {")),t)if(!1===r.additionalItems)D("if (%s.length > %d) {",n,r.items.length),c("has additional items"),D("}");else if(r.additionalItems){var f=P();D("for (var %s = %d; %s < %s.length; %s++) {",f,r.items.length,f,n,f),R(n+"["+f+"]",r.additionalItems,o,i,a.concat("additionalItems")),D("}")}if(r.format&&j[r.format]){"string"!==u&&T[r.format]&&D("if (%s) {",F.string(n));var d=C("format");O[d]=j[r.format],"function"==typeof O[d]?D("if (!%s(%s)) {",d,n):D("if (!%s.test(%s)) {",d,n),c("must be "+r.format+" format"),D("}"),"string"!==u&&T[r.format]&&D("}")}if(Array.isArray(r.required)){D("if ((%s)) {","object"!==u?F.object(n):"true"),D("var missing = 0"),r.required.map(function(e){var t=M(n,e);D("if (%s === undefined) {",t),c("is required",t),D("missing++"),D("}")}),D("}"),E||(D("if (missing === 0) {"),e++)}if(r.uniqueItems&&("array"!==u&&D("if (%s) {",F.array(n)),D("if (!(unique(%s))) {",n),c("must be unique"),D("}"),"array"!==u&&D("}")),r.enum){var h=r.enum.some(function(e){return"object"==typeof e})?function(e){return"JSON.stringify("+n+") !== JSON.stringify("+JSON.stringify(e)+")"}:function(e){return n+" !== "+JSON.stringify(e)};D("if (%s) {",r.enum.map(h).join(" && ")||"false"),c("must be an enum value"),D("}")}if(r.dependencies&&("object"!==u&&D("if (%s) {",F.object(n)),Object.keys(r.dependencies).forEach(function(e){var t=r.dependencies[e];"string"==typeof t&&(t=[t]);Array.isArray(t)&&(D("if (%s !== undefined && !(%s)) {",M(n,e),t.map(function(e){return M(n,e)+" !== undefined"}).join(" && ")||"true"),c("dependencies not set"),D("}")),"object"==typeof t&&(D("if (%s !== undefined) {",M(n,e)),R(n,t,o,i,a.concat(["dependencies",e])),D("}"))}),"object"!==u&&D("}")),r.additionalProperties||!1===r.additionalProperties){"object"!==u&&D("if (%s) {",F.object(n));f=P();var p=C("keys"),b=Object.keys(s||{}).map(function(e){return p+"["+f+"] !== "+JSON.stringify(e)}).concat(Object.keys(r.patternProperties||{}).map(function(e){return"!"+A(e)+".test("+p+"["+f+"])"})).join(" && ")||"true";D("var %s = Object.keys(%s)",p,n)("for (var %s = 0; %s < %s.length; %s++) {",f,f,p,f)("if (%s) {",b),!1===r.additionalProperties?(i&&D("delete %s",n+"["+p+"["+f+"]]"),c("has additional properties",null,JSON.stringify(n+".")+" + "+p+"["+f+"]")):R(n+"["+p+"["+f+"]]",r.additionalProperties,o,i,a.concat(["additionalProperties"])),D("}")("}"),"object"!==u&&D("}")}if(r.$ref){var y=function(e,t,n){var o=function(r){return r&&r.id===n?r:"object"==typeof r&&r?Object.keys(r).reduce(function(e,t){return e||o(r[t])},null):null},r=o(e);if(r)return r;n=(n=n.replace(/^#/,"")).replace(/\/$/,"");try{return I.get(e,decodeURI(n))}catch(e){var i,a=n.indexOf("#");if(0!==a)if(-1===a)i=t[n];else{i=t[n.slice(0,a)];var s=n.slice(a).replace(/^#/,"");try{return I.get(i,s)}catch(e){}}else i=t[n];return i||null}}(x,k&&k.schemas||{},r.$ref);if(y){var v=w[r.$ref];v||(w[r.$ref]=function(e){return v(e)},v=q(y,w,x,!1,k));d=C("ref");O[d]=v,D("if (!(%s(%s))) {",d,n),c("referenced schema does not match"),D("}")}}if(r.not){var _=C("prev");D("var %s = errors",_),R(n,r.not,!1,i,a.concat("not")),D("if (%s === errors) {",_),c("negative schema matches"),D("} else {")("errors = %s",_)("}")}if(r.items&&!t){"array"!==u&&D("if (%s) {",F.array(n));f=P();D("for (var %s = 0; %s < %s.length; %s++) {",f,f,n,f),R(n+"["+f+"]",r.items,o,i,a.concat("items")),D("}"),"array"!==u&&D("}")}if(r.patternProperties){"object"!==u&&D("if (%s) {",F.object(n));p=C("keys"),f=P();D("var %s = Object.keys(%s)",p,n)("for (var %s = 0; %s < %s.length; %s++) {",f,f,p,f),Object.keys(r.patternProperties).forEach(function(e){var t=A(e);D("if (%s.test(%s)) {",t,p+"["+f+"]"),R(n+"["+p+"["+f+"]]",r.patternProperties[e],o,i,a.concat(["patternProperties",e])),D("}")}),D("}"),"object"!==u&&D("}")}if(r.pattern){var m=A(r.pattern);"string"!==u&&D("if (%s) {",F.string(n)),D("if (!(%s.test(%s))) {",m,n),c("pattern mismatch"),D("}"),"string"!==u&&D("}")}if(r.allOf&&r.allOf.forEach(function(e,t){R(n,e,o,i,a.concat(["allOf",t]))}),r.anyOf&&r.anyOf.length){_=C("prev");r.anyOf.forEach(function(e,t){0===t?D("var %s = errors",_):D("if (errors !== %s) {",_)("errors = %s",_),R(n,e,!1,!1,a)}),r.anyOf.forEach(function(e,t){t&&D("}")}),D("if (%s !== errors) {",_),c("no schemas match"),D("}")}if(r.oneOf&&r.oneOf.length){_=C("prev");var g=C("passes");D("var %s = errors",_)("var %s = 0",g),r.oneOf.forEach(function(e,t){R(n,e,!1,!1,a),D("if (%s === errors) {",_)("%s++",g)("} else {")("errors = %s",_)("}")}),D("if (%s !== 1) {",g),c("no (or more than one) schemas match"),D("}")}for(void 0!==r.multipleOf&&("number"!==u&&"integer"!==u&&D("if (%s) {",F.number(n)),D("if (!isMultipleOf(%s, %d)) {",n,r.multipleOf),c("has a remainder"),D("}"),"number"!==u&&"integer"!==u&&D("}")),void 0!==r.maxProperties&&("object"!==u&&D("if (%s) {",F.object(n)),D("if (Object.keys(%s).length > %d) {",n,r.maxProperties),c("has more properties than allowed"),D("}"),"object"!==u&&D("}")),void 0!==r.minProperties&&("object"!==u&&D("if (%s) {",F.object(n)),D("if (Object.keys(%s).length < %d) {",n,r.minProperties),c("has less properties than allowed"),D("}"),"object"!==u&&D("}")),void 0!==r.maxItems&&("array"!==u&&D("if (%s) {",F.array(n)),D("if (%s.length > %d) {",n,r.maxItems),c("has more items than allowed"),D("}"),"array"!==u&&D("}")),void 0!==r.minItems&&("array"!==u&&D("if (%s) {",F.array(n)),D("if (%s.length < %d) {",n,r.minItems),c("has less items than allowed"),D("}"),"array"!==u&&D("}")),void 0!==r.maxLength&&("string"!==u&&D("if (%s) {",F.string(n)),D("if (%s.length > %d) {",n,r.maxLength),c("has longer length than allowed"),D("}"),"string"!==u&&D("}")),void 0!==r.minLength&&("string"!==u&&D("if (%s) {",F.string(n)),D("if (%s.length < %d) {",n,r.minLength),c("has less length than allowed"),D("}"),"string"!==u&&D("}")),void 0!==r.minimum&&("number"!==u&&"integer"!==u&&D("if (%s) {",F.number(n)),D("if (%s %s %d) {",n,r.exclusiveMinimum?"<=":"<",r.minimum),c("is less than minimum"),D("}"),"number"!==u&&"integer"!==u&&D("}")),void 0!==r.maximum&&("number"!==u&&"integer"!==u&&D("if (%s) {",F.number(n)),D("if (%s %s %d) {",n,r.exclusiveMaximum?">=":">",r.maximum),c("is more than maximum"),D("}"),"number"!==u&&"integer"!==u&&D("}")),s&&Object.keys(s).forEach(function(e){Array.isArray(u)&&-1!==u.indexOf("null")&&D("if (%s !== null) {",n),R(M(n,e),s[e],o,i,a.concat(t?e:["properties",e])),Array.isArray(u)&&-1!==u.indexOf("null")&&D("}")});e--;)D("}")},D=i("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return R("data",e,t,k&&k.filter,[]),D("return errors === 0")("}"),(D=D.toFunction(O)).errors=null,Object.defineProperty&&Object.defineProperty(D,"error",{get:function(){return D.errors?D.errors.map(function(e){return e.field+" "+e.message}).join("\n"):""}}),D.toJSON=function(){return e},D};n.exports=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),q(e,{},e,!0,t)},n.exports.filter=function(e,t){var r=n.exports(e,a(t,{filter:!0}));return function(e){return r(e),e}}},{"./formats":507,"generate-function":500,"generate-object-property":501,jsonpointer:510,xtend:606}],509:[function(e,t,r){"use strict";t.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},{}],510:[function(e,t,r){var n=/~/,o=/~[01]/g;function i(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function u(e){return n.test(e)?e.replace(o,i):e}function a(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e))return e;throw new Error("Invalid JSON pointer.")}function s(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var r=(t=a(t)).length;if(1===r)return e;for(var n=1;n<r;){if(e=e[u(t[n++])],r===n)return e;if("object"!=typeof e)return}}function c(e,t,r){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=a(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,r){for(var n,o,i=1,a=t.length;i<a&&(n=u(t[i++]),o=i<a,void 0===e[n]&&(Array.isArray(e)&&"-"===n&&(n=e.length),o&&(""!==t[i]&&t[i]<1/0||"-"===t[i]?e[n]=[]:e[n]={})),o);)e=e[n];var s=e[n];return void 0===r?delete e[n]:e[n]=r,s}(e,t,r)}r.get=s,r.set=c,r.compile=function(e){var r=a(e);return{get:function(e){return s(e,r)},set:function(e,t){return c(e,r,t)}}}},{}],511:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(e("clone")),u=n(e("deep-equal")),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(t,r){Object.keys(t).forEach(function(e){r(t[e],e)})},s=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},l=function(e){return Array.isArray(e)},f=a,d=function(e){return l(e)&&!s(e)},h=function(e){return!!e&&("number"!=typeof e&&("string"!=typeof e&&("boolean"!=typeof e&&(!d(e)&&(null!==e&&(!(e instanceof RegExp)&&("function"!=typeof e&&(!(e instanceof Date)&&!s(e)))))))))},p=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&t.field&&(e+=" for field '"+t.field+"'");var r=new Error(e);return r.name="ModifyJsError",r},b=function(e,t){return e.every(function(e){return t&&t(e)||e})},y=a,v=function(e){return Object.keys(e)},_=function(e){return"object"===(void 0===e?"undefined":c(e))&&null!==e},m=function(r,e,s){if(s=s||{},!h(e))throw p("Modifier must be an object");var u;if(function(n,o){if(!h(n))return!1;var i=void 0;return f(n,function(e,t){var r="$"===t.substr(0,1);if(void 0===i)i=r;else if(i!==r){if(!o)throw new Error("Inconsistent operator: "+JSON.stringify(n));i=!1}}),!!i}(e=o(e))?(u=o(r),y(e,function(e,i){var a=x[i];if(!a)throw p("Invalid modifier specified "+i);y(e,function(e,t){if(""===t)throw p("An empty update path is not valid.");var r=t.split(".");if(!b(r))throw p("The update path '"+t+"' contains an empty field name, which is not allowed.");var n=g(u,r,{noCreate:w[i],forbidArray:"$rename"===i,arrayIndices:s.arrayIndices}),o=r.pop();a(n,o,e,t,u)})})):u=e,s.returnInsteadOfReplacing)return u;y(v(r),function(e){"_id"!==e&&delete r[e]}),y(u,function(e,t){r[t]=e})},g=function(e,t,r){r=r||{};for(var n,o=!1,i=0;i<t.length;i++){var a=i===t.length-1,s=t[i];if(!(d(n=e)||h(n))){if(r.noCreate)return;var u=p("cannot use the part '"+s+"' to traverse "+e);throw u.setPropertyError=!0,u}if(e instanceof Array){if(r.forbidArray)return null;if("$"===s){if(o)throw p("Too many positional (i.e. '$') elements");if(!r.arrayIndices||!r.arrayIndices.length)throw p("The positional operator did not find the match needed from the query");s=r.arrayIndices[0],o=!0}else{if(!/^[0-9]+$/.test(s)){if(r.noCreate)return;throw p("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(a&&(t[i]=s),r.noCreate&&s>=e.length)return;for(;e.length<s;)e.push(null);if(!a)if(e.length===s)e.push({});else if("object"!==c(e[s]))throw p("can't modify field '"+t[i+1]+"' of list value "+JSON.stringify(e[s]))}else if(!(s in e)){if(r.noCreate)return;a||(e[s]={})}if(a)return e;e=e[s]}},w={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},x={$currentDate:function(e,t,r){if("object"===(void 0===r?"undefined":c(r))&&r.hasOwnProperty("$type")){if("date"!==r.$type)throw p("Minimongo does currently only support the date type in $currentDate modifiers",{field:t})}else if(!0!==r)throw p("Invalid $currentDate modifier",{field:t});e[t]=new Date},$min:function(e,t,r){if("number"!=typeof r)throw p("Modifier $min allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $min modifier to non-number",{field:t});e[t]>r&&(e[t]=r)}else e[t]=r},$max:function(e,t,r){if("number"!=typeof r)throw p("Modifier $max allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $max modifier to non-number",{field:t});e[t]<r&&(e[t]=r)}else e[t]=r},$inc:function(e,t,r){if("number"!=typeof r)throw p("Modifier $inc allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $inc modifier to non-number",{field:t});e[t]+=r}else e[t]=r},$set:function(e,t,r){var n;if(!_(e))throw(n=p("Cannot set property on non-object field",{field:t})).setPropertyError=!0,n;if(null===e)throw(n=p("Cannot set property on null",{field:t})).setPropertyError=!0,n;e[t]=r},$setOnInsert:function(e,t,r){},$unset:function(e,t,r){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,r){if(void 0===e[t]&&(e[t]=[]),!(e[t]instanceof Array))throw p("Cannot apply $push modifier to non-array",{field:t});if(r&&r.$each){var n=r.$each;if(!(n instanceof Array))throw p("$each must be an array",{field:t});var o=void 0;if("$position"in r){if("number"!=typeof r.$position)throw p("$position must be a numeric value",{field:t});if(r.$position<0)throw p("$position in $push must be zero or positive",{field:t});o=r.$position}var i=void 0;if("$slice"in r){if("number"!=typeof r.$slice)throw p("$slice must be a numeric value",{field:t});if(0<r.$slice)throw p("$slice in $push must be zero or negative",{field:t});i=r.$slice}if(r.$sort)throw p("$sort in $push not implemented yet");if(void 0===o)for(var a=0;a<n.length;a++)e[t].push(n[a]);else{var s=[o,0];for(a=0;a<n.length;a++)s.push(n[a]);Array.prototype.splice.apply(e[t],s)}void 0,void 0!==i&&(e[t]=0===i?[]:e[t].slice(i))}else e[t].push(r)},$pushAll:function(e,t,r){if(!("object"===(void 0===r?"undefined":c(r))&&r instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only");var n=e[t];if(void 0===n)e[t]=r;else{if(!(n instanceof Array))throw p("Cannot apply $pushAll modifier to non-array",{field:t});for(var o=0;o<r.length;o++)n.push(r[o])}},$addToSet:function(e,t,r){var n=!1;"object"===(void 0===r?"undefined":c(r))&&("$each"===Object.keys(r)[0]&&(n=!0));var o=n?r.$each:[r],i=e[t];if(void 0===i)e[t]=o;else{if(!(i instanceof Array))throw p("Cannot apply $addToSet modifier to non-array",{field:t});y(o,function(e){for(var t=0;t<i.length;t++)if(u(e,i[t]))return;i.push(e)})}},$pop:function(e,t,r){if(void 0!==e){var n=e[t];if(void 0!==n){if(!(n instanceof Array))throw p("Cannot apply $pop modifier to non-array",{field:t});"number"==typeof r&&r<0?n.splice(0,1):n.pop()}}},$pull:function(e,t,r){if(void 0!==e){var n=e[t];if(void 0!==n)throw n instanceof Array?p("$pull not implemented yet"):p("Cannot apply $pull/pullAll modifier to non-array",{field:t})}},$pullAll:function(e,t,r){if(!("object"===(void 0===r?"undefined":c(r))&&r instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only",{field:t});if(void 0!==e){var n=e[t];if(void 0!==n){if(!(n instanceof Array))throw p("Cannot apply $pull/pullAll modifier to non-array",{field:t});for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<r.length;s++)if(u(n[i],r[s])){a=!0;break}a||o.push(n[i])}e[t]=o}}},$rename:function(e,t,r,n,o){if(n===r)throw p("$rename source must differ from target",{field:t});if(null===e)throw p("$rename source field invalid",{field:t});if("string"!=typeof r)throw p("$rename target must be a string",{field:t});if(-1<r.indexOf("\0"))throw p("The 'to' field for $rename cannot contain an embedded null byte",{field:t});if(void 0!==e){var i=e[t];delete e[t];var a=r.split("."),s=g(o,a,{forbidArray:!0});if(null===s)throw p("$rename target field invalid",{field:t});s[a.pop()]=i}},$bit:function(e,t,r){throw p("$bit is not supported",{field:t})}};t.exports=function(e,t,r){if(!r||!r.each)return m(e,t,i({},r,{returnInsteadOfReplacing:!0}))}},{clone:63,"deep-equal":496}],512:[function(e,t,r){var o=1e3,i=60*o,a=60*i,s=24*a,u=365.25*s;function c(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}t.exports=function(e,t){t=t||{};var r,n=typeof e;if("string"===n&&0<e.length)return function(e){if(100<(e=String(e)).length)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*u;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*a;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?c(r=e,s,"day")||c(r,a,"hour")||c(r,i,"minute")||c(r,o,"second")||r+" ms":function(e){if(s<=e)return Math.round(e/s)+"d";if(a<=e)return Math.round(e/a)+"h";if(i<=e)return Math.round(e/i)+"m";if(o<=e)return Math.round(e/o)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],513:[function(e,r,t){!function(e,t){"use strict";"object"==typeof r&&"object"==typeof r.exports?r.exports=t():"function"==typeof define&&define.amd?define([],t):e.objectPath=t()}(this,function(){"use strict";var t=Object.prototype.toString;function i(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(!e)return!0;if(d(e)&&0===e.length)return!0;if("string"!=typeof e){for(var t in e)if(i(e,t))return!1;return!0}return!1}function f(e){return t.call(e)}var d=Array.isArray||function(e){return"[object Array]"===t.call(e)};function h(e){var t=parseInt(e);return t.toString()===e?t:e}function e(o){o=o||{};var a=function(r){return Object.keys(a).reduce(function(e,t){return"create"===t||"function"==typeof a[t]&&(e[t]=a[t].bind(a,r)),e},{})};function s(e,t){return o.includeInheritedProps||"number"==typeof t&&Array.isArray(e)||i(e,t)}function u(e,t){if(s(e,t))return e[t]}function c(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(h),r,n);var o=t[0],i=u(e,o);return 1===t.length?(void 0!==i&&n||(e[o]=r),i):(void 0===i&&("number"==typeof t[1]?e[o]=[]:e[o]={}),c(e[o],t.slice(1),r,n))}return a.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var r=0;r<t.length;r++){var n=h(t[r]);if(!("number"==typeof n&&d(e)&&n<e.length||(o.includeInheritedProps?n in Object(e):i(e,n))))return!1;e=e[n]}return!0},a.ensureExists=function(e,t,r){return c(e,t,r,!0)},a.set=function(e,t,r,n){return c(e,t,r,n)},a.insert=function(e,t,r,n){var o=a.get(e,t);n=~~n,d(o)||(o=[],a.set(e,t,o)),o.splice(n,0,r)},a.empty=function(e,t){var r,n;if(!l(t)&&(null!=e&&(r=a.get(e,t)))){if("string"==typeof r)return a.set(e,t,"");if("boolean"==typeof(i=r)||"[object Boolean]"===f(i))return a.set(e,t,!1);if("number"==typeof r)return a.set(e,t,0);if(d(r))r.length=0;else{if("object"!=typeof(o=r)||"[object Object]"!==f(o))return a.set(e,t,null);for(n in r)s(r,n)&&delete r[n]}var o,i}},a.push=function(e,t){var r=a.get(e,t);d(r)||(r=[],a.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},a.coalesce=function(e,t,r){for(var n,o=0,i=t.length;o<i;o++)if(void 0!==(n=a.get(e,t[o])))return n;return r},a.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return a.get(e,t.split("."),r);var n=h(t[0]),o=u(e,n);return void 0===o?r:1===t.length?o:a.get(e[n],t.slice(1),r)},a.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(l(t))return e;if("string"==typeof t)return a.del(e,t.split("."));var r=h(t[0]);return s(e,r)?1!==t.length?a.del(e[r],t.slice(1)):(d(e)?e.splice(r,1):delete e[r],e):e},a}var r=e();return r.create=e,r.withInheritedProps=e({includeInheritedProps:!0}),r})},{}],514:[function(e,t,r){"use strict";var n,j=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,O=e("pouchdb-utils"),l=e("pouchdb-md5"),S=e("pouchdb-collections"),o=e("pouchdb-binary-utils"),E=e("pouchdb-collate"),C=e("pouchdb-mapreduce-utils");function A(){this.promise=new j(function(e){e()})}function f(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function P(o,i,a,s,t,r){var e,u,c=(e=s,f(a)+f(e)+"undefined");if(!t&&(u=o._cachedViews=o._cachedViews||{})[c])return u[c];var n=o.info().then(function(e){var n=e.db_name+"-mrview-"+(t?"temp":l.stringMd5(c));return O.upsert(o,"_local/"+r,function(e){e.views=e.views||{};var t=i;-1===t.indexOf("/")&&(t=i+"/"+i);var r=e.views[t]=e.views[t]||{};if(!r[n])return r[n]=!0,e}).then(function(){return o.registerDependentDatabase(n).then(function(e){var t=e.db;t.auto_compaction=!0;var r={name:n,db:t,sourceDB:o,adapter:o.adapter,mapFun:a,reduceFun:s};return r.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,u&&r.db.once("destroyed",function(){delete u[c]}),r})})})});return u&&(u[c]=n),n}A.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},A.prototype.finish=function(){return this.promise};var i={},R=new A,D=50;function M(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function u(e,t){try{e.emit("error",t)}catch(e){O.guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),O.guardedConsole("error",t)}}t.exports=function(l,t,b,f){function d(t,e,r){try{e(r)}catch(e){u(t,e)}}function y(t,e,r,n,o){try{return{output:e(r,n,o)}}catch(e){return u(t,e),{error:e}}}function h(e,t){var r=E.collate(e.key,t.key);return 0!==r?r:E.collate(e.value,t.value)}function v(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function p(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&e.rows.forEach(function(e){var r=e.doc&&e.doc._attachments;r&&Object.keys(r).forEach(function(e){var t=r[e];r[e].data=o.base64StringToBlobOrBuffer(t.data,t.content_type)})}),e}}function _(e,t,r,n){var o=t[e];void 0!==o&&(n&&(o=encodeURIComponent(JSON.stringify(o))),r.push(e+"="+o))}function a(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function m(r,e){var t=r.descending?"endkey":"startkey",n=r.descending?"startkey":"endkey";if(void 0!==r[t]&&void 0!==r[n]&&0<E.collate(r[t],r[n]))throw new C.QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==r.reduce){if(r.include_docs)throw new C.QueryParseError("{include_docs:true} is invalid for reduce");if(r.keys&&1<r.keys.length&&!r.group&&!r.group_level)throw new C.QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var t=function(e){if(e){if("number"!=typeof e)return new C.QueryParseError('Invalid value for integer: "'+e+'"');if(e<0)return new C.QueryParseError('Invalid value for positive integer: "'+e+'"')}}(r[e]);if(t)throw t})}function g(t){return function(e){if(404===e.status)return t;throw e}}function w(e,r,t){var n,o="_local/doc_"+e,i={_id:o,keys:[]},a=t.get(e),c=a[0],s=a[1];return(1===(n=s).length&&/^1-/.test(n[0].rev)?j.resolve(i):r.db.get(o).catch(g(i))).then(function(t){return(e=t,e.keys.length?r.db.allDocs({keys:e.keys,include_docs:!0}):j.resolve({rows:[]})).then(function(e){return function(e,t){for(var n=[],o=new S.Set,r=0,i=t.rows.length;r<i;r++){var a=t.rows[r].doc;if(a&&(n.push(a),o.add(a._id),a._deleted=!c.has(a._id),!a._deleted)){var s=c.get(a._id);"value"in s&&(a.value=s.value)}}var u=C.mapToKeysArray(c);return u.forEach(function(e){if(!o.has(e)){var t={_id:e},r=c.get(e);"value"in r&&(t.value=r.value),n.push(t)}}),e.keys=C.uniq(u.concat(e.keys)),n.push(e),n}(t,e)});var e})}function n(e){var t="string"==typeof e?e:e.name,r=i[t];return r||(r=i[t]=new A),r}function x(e){return C.sequentialize(n(e),function(){return function(a){var s,u,c=t(a.mapFun,function(e,t){var r={id:u._id,key:E.normalizeKey(e)};null!=t&&(r.value=E.normalizeKey(t)),s.push(r)}),l=a.seq||0;function n(r,i){return function(){return t=r,o=i,e="_local/lastSeq",(n=a).db.get(e).catch(g({_id:e,seq:0})).then(function(r){var e=C.mapToKeysArray(t);return j.all(e.map(function(e){return w(e,n,t)})).then(function(e){var t=O.flatten(e);return r.seq=o,t.push(r),n.db.bulkDocs({docs:t})})});var n,t,o,e}}var o=new A;function i(){return a.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:l,limit:D}).then(e)}function e(e){var t=e.results;if(t.length){var r=function(e){for(var t=new S.Map,r=0,n=e.length;r<n;r++){var o=e[r];if("_"!==o.doc._id[0]){s=[],(u=o.doc)._deleted||d(a.sourceDB,c,u),s.sort(h);var i=f(s);t.set(o.doc._id,[i,o.changes])}l=o.seq}return t}(t);if(o.add(n(r,l)),!(t.length<D))return i()}}function f(e){for(var t,r=new S.Map,n=0,o=e.length;n<o;n++){var i=e[n],a=[i.key,i.id];0<n&&0===E.collate(i.key,t)&&a.push(n),r.set(E.toIndexableString(a),i),t=i.key}return r}return i().then(function(){return o.finish()}).then(function(){a.seq=l})}(e)})()}function k(e,t){return C.sequentialize(n(e),function(){return function(n,o){var i,a=n.reduceFun&&!1!==o.reduce,s=o.skip||0;function r(e){return e.include_docs=!0,n.db.allDocs(e).then(function(e){return i=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||r<t))return e.doc.value}var n=E.parseIndexableString(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function e(t){var r;if(r=a?function(e,t,r){0===r.group_level&&delete r.group_level;var n,o,i,a=r.group||r.group_level,s=b(e.reduceFun),u=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=u[u.length-1],r=a?e.key:null;if(a&&Array.isArray(r)&&(r=r.slice(0,c)),t&&0===E.collate(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);u.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var l=0,f=u.length;l<f;l++){var d=u[l],h=y(e.sourceDB,s,d.keys,d.values,!1);if(h.error&&h.error instanceof C.BuiltInError)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:(n=t,o=r.limit,i=r.skip,i=i||0,"number"==typeof o?n.slice(i,o+i):0<i?n.slice(i):n)}}(n,t,o):{total_rows:i,offset:s,rows:t},o.update_seq&&(r.update_seq=n.seq),o.include_docs){var e=C.uniq(t.map(v));return n.sourceDB.allDocs({keys:e,include_docs:!0,conflicts:o.conflicts,attachments:o.attachments,binary:o.binary}).then(function(e){var n=new S.Map;return e.rows.forEach(function(e){n.set(e.id,e.doc)}),t.forEach(function(e){var t=v(e),r=n.get(t);r&&(e.doc=r)}),r})}return r}if(void 0===o.keys||o.keys.length||(o.limit=0,delete o.keys),void 0!==o.keys){var t=o.keys,u=t.map(function(e){var t={startkey:E.toIndexableString([e]),endkey:E.toIndexableString([e,{}])};return o.update_seq&&(t.update_seq=!0),r(t)});return j.all(u).then(O.flatten).then(e)}var c,l,f={descending:o.descending};if(o.update_seq&&(f.update_seq=!0),"start_key"in o&&(c=o.start_key),"startkey"in o&&(c=o.startkey),"end_key"in o&&(l=o.end_key),"endkey"in o&&(l=o.endkey),void 0!==c&&(f.startkey=o.descending?E.toIndexableString([c,{}]):E.toIndexableString([c])),void 0!==l){var d=!1!==o.inclusive_end;o.descending&&(d=!d),f.endkey=E.toIndexableString(d?[l,{}]:[l])}if(void 0!==o.key){var h=E.toIndexableString([o.key]),p=E.toIndexableString([o.key,{}]);f.descending?(f.endkey=h,f.startkey=p):(f.startkey=h,f.endkey=p)}return a||("number"==typeof o.limit&&(f.limit=o.limit),f.skip=s),r(f).then(e)}(e,t)})()}function s(r,e,n){if("function"==typeof r._query)return t=r,o=e,i=n,new j(function(r,n){t._query(o,i,function(e,t){if(e)return n(e);r(t)})});var t,o,i;if(O.isRemote(r))return function(e,t,r){var n,o=[],i="GET";if(_("reduce",r,o),_("include_docs",r,o),_("attachments",r,o),_("limit",r,o),_("descending",r,o),_("group",r,o),_("group_level",r,o),_("skip",r,o),_("stale",r,o),_("conflicts",r,o),_("startkey",r,o,!0),_("start_key",r,o,!0),_("endkey",r,o,!0),_("end_key",r,o,!0),_("inclusive_end",r,o),_("key",r,o,!0),_("update_seq",r,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==r.keys){var a="keys="+encodeURIComponent(JSON.stringify(r.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){var s=M(t);return e.request({method:i,url:"_design/"+s[0]+"/_view/"+s[1]+o,body:n}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(p(r))}return n=n||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:n}).then(p(r))}(r,e,n);if("string"!=typeof e)return m(n,e),R.add(function(){return P(r,"temp_view/temp_view",e.map,e.reduce,!0,l).then(function(e){return C.fin(x(e).then(function(){return k(e,n)}),function(){return e.db.destroy()})})}),R.finish();var a=e,s=M(a),u=s[0],c=s[1];return r.get("_design/"+u).then(function(e){var t=e.views&&e.views[c];if(!t)throw new C.NotFoundError("ddoc "+e._id+" has no view named "+c);return f(e,c),m(n,t),P(r,a,t.map,t.reduce,!1,l).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&O.nextTick(function(){x(e)}),k(e,n)):x(e).then(function(){return k(e,n)})})})}return{query:function(e,t,r){var n,o=this;"function"==typeof t&&(r=t,t={}),t=t?((n=t).group_level=a(n.group_level),n.limit=a(n.limit),n.skip=a(n.skip),n):{},"function"==typeof e&&(e={map:e});var i=j.resolve().then(function(){return s(o,e,t)});return C.promisedCallback(i,r),i},viewCleanup:C.callbackify(function(){var e,r;return"function"==typeof this._viewCleanup?(e=this,new j(function(r,n){e._viewCleanup(function(e,t){if(e)return n(e);r(t)})})):O.isRemote(this)?this.request({method:"POST",url:"_view_cleanup"}):(r=this).get("_local/"+l).then(function(s){var u=new S.Map;Object.keys(s.views).forEach(function(e){var t=M(e),r="_design/"+t[0],n=t[1],o=u.get(r);o||(o=new S.Set,u.set(r,o)),o.add(n)});var e={keys:C.mapToKeysArray(u),include_docs:!0};return r.allDocs(e).then(function(e){var a={};e.rows.forEach(function(o){var i=o.key.substring(8);u.get(o.key).forEach(function(e){var t=i+"/"+e;s.views[t]||(t=e);var r=Object.keys(s.views[t]),n=o.doc&&o.doc.views&&o.doc.views[e];r.forEach(function(e){a[e]=a[e]||n})})});var t=Object.keys(a).filter(function(e){return!a[e]}).map(function(e){return C.sequentialize(n(e),function(){return new r.constructor(e,r.__opts).destroy()})()});return j.all(t).then(function(){return{ok:!0}})})},g({ok:!0}))})}}},{"pouchdb-binary-utils":519,"pouchdb-collate":522,"pouchdb-collections":523,"pouchdb-mapreduce-utils":532,"pouchdb-md5":533,"pouchdb-promise":535,"pouchdb-utils":539}],515:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var h=n(e("pouchdb-promise")),w=e("pouchdb-utils"),f=n(e("pouchdb-ajax")),d=n(e("argsarray")),p=e("pouchdb-binary-utils"),b=e("pouchdb-errors");var x=25,y=50,k=5e3,j=1e4,O={};function S(e){var r=(e.doc||e.ok)._attachments;r&&Object.keys(r).forEach(function(e){var t=r[e];t.data=p.base64StringToBlobOrBuffer(t.data,t.content_type)})}function E(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function C(r){return r._attachments&&Object.keys(r._attachments)?h.all(Object.keys(r._attachments).map(function(e){var t=r._attachments[e];if(t.data&&"string"!=typeof t.data)return new h(function(e){p.blobOrBufferToBase64(t.data,e)}).then(function(e){t.data=e})})):h.resolve()}function A(e,t){if(function(e){if(!e.prefix)return!1;var t=w.parseUri(e.prefix).protocol;return"http"===t||"https"===t}(t)){var r=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(r)}var n=w.parseUri(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var o=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=o.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=o.join("/"),n}function P(e,t){return R(e,e.db+"/"+t)}function R(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function D(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function o(e,t){var r,a=this,v=A(e.name,e),n=P(v,""),_=(e=w.clone(e)).ajax||{};if(e.auth||v.auth){var o=e.auth||v.auth,i=o.username+":"+o.password,s=p.btoa(unescape(encodeURIComponent(i)));_.headers=_.headers||{},_.headers.Authorization="Basic "+s}function m(e,t,r){var n=(e||{}).ajax||{},o=w.assign(w.clone(_),n,t),i=w.clone(_.headers||{});return o.headers=w.assign(i,n.headers,t.headers||{}),a.constructor.listeners("debug").length&&a.constructor.emit("debug",["http",o.method,o.url]),a._ajax(o,r)}function u(e,t){return new h(function(r,n){m(e,t,function(e,t){if(e)return n(e);r(t)})})}function c(e,r){return w.adapterFun(e,d(function(t){g().then(function(){return r.apply(this,t)}).catch(function(e){t.pop()(e)})}))}function g(){return e.skipSetup||e.skip_setup?h.resolve():r||((r=u({},{method:"GET",url:n}).catch(function(e){return e&&e.status&&404===e.status?(w.explainError(404,"PouchDB is just detecting if the remote exists."),u({},{method:"PUT",url:n})):h.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||h.reject(e)})).catch(function(){r=null}),r)}function l(e){return e.split("/").map(encodeURIComponent).join("/")}a._ajax=f,w.nextTick(function(){t(null,a)}),a._remote=!0,a.type=function(){return"http"},a.id=c("id",function(n){m({},{method:"GET",url:R(v,"")},function(e,t){var r=t&&t.uuid?t.uuid+v.db:P(v,"");n(null,r)})}),a.request=c("request",function(e,t){e.url=P(v,e.url),m({},e,t)}),a.compact=c("compact",function(n,o){"function"==typeof n&&(o=n,n={}),m(n=w.clone(n),{url:P(v,"_compact"),method:"POST"},function(){!function r(){a.info(function(e,t){t&&!t.compact_running?o(null,{ok:!0}):setTimeout(r,n.interval||200)})}()})}),a.bulkGet=w.adapterFun("bulkGet",function(s,u){var c=this;function e(r){var e={};s.revs&&(e.revs=!0),s.attachments&&(e.attachments=!0),s.latest&&(e.latest=!0),m(s,{url:P(v,"_bulk_get"+D(e)),method:"POST",body:{docs:s.docs}},function(e,t){!e&&s.attachments&&s.binary&&t.results.forEach(function(e){e.docs.forEach(S)}),r(e,t)})}function r(){var e=y,n=Math.ceil(s.docs.length/e),o=0,i=new Array(n);function t(r){return function(e,t){i[r]=t.results,++o===n&&u(null,{results:w.flatten(i)})}}for(var r=0;r<n;r++){var a=w.pick(s,["revs","attachments","binary","latest"]);a.ajax=_,a.docs=s.docs.slice(r*e,Math.min(s.docs.length,(r+1)*e)),w.bulkGetShim(c,a,t(r))}}var n=R(v,""),t=O[n];"boolean"!=typeof t?e(function(e,t){e?(O[n]=!1,w.explainError(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),r()):(O[n]=!0,u(null,t))}):t?e(u):r()}),a._info=function(r){g().then(function(){m({},{method:"GET",url:P(v,"")},function(e,t){if(e)return r(e);t.host=P(v,""),r(null,t)})}).catch(r)},a.get=c("get",function(t,a,r){"function"==typeof a&&(r=a,a={});var e={};(a=w.clone(a)).revs&&(e.revs=!0),a.revs_info&&(e.revs_info=!0),a.latest&&(e.latest=!0),a.open_revs&&("all"!==a.open_revs&&(a.open_revs=JSON.stringify(a.open_revs)),e.open_revs=a.open_revs),a.rev&&(e.rev=a.rev),a.conflicts&&(e.conflicts=a.conflicts),a.update_seq&&(e.update_seq=a.update_seq),t=E(t);var n={method:"GET",url:P(v,t+D(e))};function o(o){var i=o._attachments,e=i&&Object.keys(i);if(i&&e.length){var f,d,t=e.map(function(n){return function(){return t=i[e=n],r=E(o._id)+"/"+l(e)+"?rev="+o._rev,u(a,{method:"GET",url:P(v,r),binary:!0}).then(function(t){return a.binary?t:new h(function(e){p.blobOrBufferToBase64(t,e)})}).then(function(e){delete t.stub,delete t.length,t.data=e});var e,t,r}});return f=t,d=5,new h(function(e,t){var r,n=0,o=0,i=0,a=f.length;function s(){++i===a?r?t(r):e():l()}function u(){n--,s()}function c(e){n--,r=r||e,s()}function l(){for(;n<d&&o<a;)n++,f[o++]().then(u,c)}l()})}}u(a,n).then(function(t){return h.resolve().then(function(){if(a.attachments)return e=t,Array.isArray(e)?h.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e);var e}).then(function(){r(null,t)})}).catch(function(e){e.docId=t,r(e)})}),a.remove=c("remove",function(e,t,r,n){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t));var i=o._rev||r.rev;m(r,{method:"DELETE",url:P(v,E(o._id))+"?rev="+i},n)}),a.getAttachment=c("getAttachment",function(e,t,r,n){"function"==typeof r&&(n=r,r={});var o=r.rev?"?rev="+r.rev:"";m(r,{method:"GET",url:P(v,E(e))+"/"+l(t)+o,binary:!0},n)}),a.removeAttachment=c("removeAttachment",function(e,t,r,n){m({},{method:"DELETE",url:P(v,E(e)+"/"+l(t))+"?rev="+r},n)}),a.putAttachment=c("putAttachment",function(e,t,r,n,o,i){"function"==typeof o&&(i=o,o=n,n=r,r=null);var a=E(e)+"/"+l(t),s=P(v,a);if(r&&(s+="?rev="+r),"string"==typeof n){var u;try{u=p.atob(n)}catch(e){return i(b.createError(b.BAD_ARG,"Attachment is not a valid base64 string"))}n=u?p.binaryStringToBlobOrBuffer(u,o):""}m({},{headers:{"Content-Type":o},method:"PUT",url:s,processData:!1,body:n,timeout:_.timeout||6e4},i)}),a._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,g().then(function(){return h.all(e.docs.map(C))}).then(function(){m(t,{method:"POST",url:P(v,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},a._put=function(r,e,n){g().then(function(){return C(r)}).then(function(){m(e,{method:"PUT",url:P(v,E(r._id)),body:r},function(e,t){if(e)return e.docId=r&&r._id,n(e);n(null,t)})}).catch(n)},a.allDocs=c("allDocs",function(t,r){"function"==typeof t&&(r=t,t={});var e,n={},o="GET";(t=w.clone(t)).conflicts&&(n.conflicts=!0),t.update_seq&&(n.update_seq=!0),t.descending&&(n.descending=!0),t.include_docs&&(n.include_docs=!0),t.attachments&&(n.attachments=!0),t.key&&(n.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(n.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(n.endkey=JSON.stringify(t.endkey)),void 0!==t.inclusive_end&&(n.inclusive_end=!!t.inclusive_end),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.skip&&(n.skip=t.skip);var i=D(n);void 0!==t.keys&&(o="POST",e={keys:t.keys}),u(t,{method:o,url:P(v,"_all_docs"+i),body:e}).then(function(e){t.include_docs&&t.attachments&&t.binary&&e.rows.forEach(S),r(null,e)}).catch(r)}),a._changes=function(a){var s="batch_size"in a?a.batch_size:x;!(a=w.clone(a)).continuous||"heartbeat"in a||(a.heartbeat=j);var n="timeout"in a?a.timeout:"timeout"in _?_.timeout:3e4;"timeout"in a&&a.timeout&&n-a.timeout<k&&(n=a.timeout+k),"heartbeat"in a&&a.heartbeat&&n-a.heartbeat<k&&(n=a.heartbeat+k);var o={};"timeout"in a&&a.timeout&&(o.timeout=a.timeout);var u,c=void 0!==a.limit&&a.limit;u="return_docs"in a?a.return_docs:!("returnDocs"in a)||a.returnDocs;var l=c;if(a.style&&(o.style=a.style),(a.include_docs||a.filter&&"function"==typeof a.filter)&&(o.include_docs=!0),a.attachments&&(o.attachments=!0),a.continuous&&(o.feed="longpoll"),a.seq_interval&&(o.seq_interval=a.seq_interval),a.conflicts&&(o.conflicts=!0),a.descending&&(o.descending=!0),a.update_seq&&(o.update_seq=!0),"heartbeat"in a&&a.heartbeat&&(o.heartbeat=a.heartbeat),a.filter&&"string"==typeof a.filter&&(o.filter=a.filter),a.view&&"string"==typeof a.view&&(o.filter="_view",o.view=a.view),a.query_params&&"object"==typeof a.query_params)for(var e in a.query_params)a.query_params.hasOwnProperty(e)&&(o[e]=a.query_params[e]);var i,f,d,h="GET";a.doc_ids?(o.filter="_doc_ids",h="POST",i={doc_ids:a.doc_ids}):a.selector&&(o.filter="_selector",h="POST",i={selector:a.selector});var p=function(e,t){if(!a.aborted){o.since=e,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),a.descending?c&&(o.limit=l):o.limit=!c||s<l?s:l;var r={method:h,url:P(v,"_changes"+D(o)),timeout:n,body:i};d=e,a.aborted||g().then(function(){f=m(a,r,t)}).catch(t)}},b={results:[]},y=function(e,t){if(!a.aborted){var r=0;if(t&&t.results){r=t.results.length,b.last_seq=t.last_seq;var n=null,o=null;"number"==typeof t.pending&&(n=t.pending),"string"!=typeof b.last_seq&&"number"!=typeof b.last_seq||(o=b.last_seq);a.query_params,t.results=t.results.filter(function(e){l--;var t=w.filterChange(a)(e);return t&&(a.include_docs&&a.attachments&&a.binary&&S(e),u&&b.results.push(e),a.onChange(e,n,o)),t})}else if(e)return a.aborted=!0,void a.complete(e);t&&t.last_seq&&(d=t.last_seq);var i=c&&l<=0||t&&r<s||a.descending;(!a.continuous||c&&l<=0)&&i?a.complete(null,b):w.nextTick(function(){p(d,y)})}};return p(a.since||0,y),{cancel:function(){a.aborted=!0,f&&f.abort()}}},a.revsDiff=c("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),m(t,{method:"POST",url:P(v,"_revs_diff"),body:e},r)}),a._close=function(e){e()},a._destroy=function(e,r){m(e,{url:P(v,""),method:"DELETE"},function(e,t){if(e&&e.status&&404!==e.status)return r(e);r(null,t)})}}o.valid=function(){return!0},t.exports=function(e){e.adapter("http",o,!1),e.adapter("https",o,!1)}},{argsarray:39,"pouchdb-ajax":518,"pouchdb-binary-utils":519,"pouchdb-errors":528,"pouchdb-promise":535,"pouchdb-utils":539}],516:[function(e,t,r){"use strict";var n,w=e("pouchdb-utils"),b=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,D=e("pouchdb-errors"),o=e("pouchdb-json"),y=e("pouchdb-binary-utils"),A=e("pouchdb-collections"),P=e("pouchdb-adapter-utils"),M=e("pouchdb-merge"),l=5,I="document-store",T="by-sequence",L="attach-store",R="attach-seq-store",F="meta-store",q="local-store",v="detect-blob-support";function B(r){return function(e){var t="unknown_error";e.target&&e.target.error&&(t=e.target.error.name||e.target.error.message),r(D.createError(D.IDB_ERROR,t,e.type))}}function N(e,t,r){return{data:o.safeJsonStringify(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function $(e){if(!e)return null;var t=o.safeJsonParse(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function U(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function _(e,t,r,n){r?n(e?"string"!=typeof e?e:y.base64StringToBlobOrBuffer(e,t):y.blob([""],{type:t})):e?"string"!=typeof e?y.readAsBinaryString(e,function(e){n(y.btoa(e))}):n(e):n("")}function z(o,i,a,e){var t=Object.keys(o._attachments||{});if(!t.length)return e&&e();var r=0;function s(){++r===t.length&&e&&e()}t.forEach(function(e){var t,r,n;i.attachments&&i.include_docs?(t=e,r=o._attachments[t],n=r.digest,a.objectStore(L).get(n).onsuccess=function(e){r.body=e.target.result.body,s()}):(o._attachments[e].stub=!0,s())})}function V(e,a){return b.all(e.map(function(i){if(i.doc&&i.doc._attachments){var e=Object.keys(i.doc._attachments);return b.all(e.map(function(r){var n=i.doc._attachments[r];if("body"in n){var e=n.body,o=n.content_type;return new b(function(t){_(e,o,a,function(e){i.doc._attachments[r]=w.assign(w.pick(n,["digest","content_type"]),{data:e}),t()})})}}))}}))}function G(e,n,t){var o=[],i=t.objectStore(T),a=t.objectStore(L),s=t.objectStore(R),r=e.length;function u(){--r||function(){if(!o.length)return;o.forEach(function(r){var e=s.index("digestSeq").count(IDBKeyRange.bound(r+"::",r+"::￿",!1,!1));e.onsuccess=function(e){var t=e.target.result;t||a.delete(r)}})}()}e.forEach(function(e){var t=i.index("_doc_id_rev"),r=n+"::"+e;t.getKey(r).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();i.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];o.push(r),s.delete(t.primaryKey),t.continue()}else u()}}})}function J(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}var Q=new w.changesHandler;function m(s,e,u,f,t,r){for(var d,h,p,b,y,n,o,i,c=e.docs,a=0,l=c.length;a<l;a++){var v=c[a];v._id&&P.isLocalId(v._id)||(v=c[a]=P.parseDoc(v,u.new_edits)).error&&!o&&(o=v)}if(o)return r(o);var _=!1,m=0,g=new Array(c.length),w=new A.Map,x=!1,k=f._meta.blobSupport?"blob":"base64";function j(){_=!0,O()}function O(){i&&_&&(i.docCount+=m,n.put(i))}function S(){x||(Q.notify(f._meta.name),r(null,g))}function E(e,t,r,n,o,i,a,s){e.metadata.winningRev=t,e.metadata.deleted=r;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,n&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(s,u,e,t,r,n){var o=s.data,c=0,i=Object.keys(o._attachments);function l(){c===i.length&&C(s,u,e,t,r,n)}function f(){c++,l()}i.forEach(function(e){var o,i,a,t=s.data._attachments[e];if(t.stub)c++,l();else{var r=t.data;delete t.data,t.revpos=parseInt(u,10);var n=t.digest;o=n,i=r,a=f,b.count(o).onsuccess=function(e){var t=e.target.result;if(t)return a();var r={digest:o,body:i},n=b.put(r);n.onsuccess=a}}})}(e,t,r,o,a,s);m+=i,O(),C(e,t,r,o,a,s)}function C(n,o,i,a,e,t){var r=n.data,s=n.metadata;function u(e){var t=n.stemmedRevs||[];a&&f.auto_compaction&&(t=t.concat(M.compactTree(n.metadata))),t&&t.length&&G(t,n.metadata.id,d),s.seq=e.target.result;var r=N(s,o,i);h.put(r).onsuccess=c}function c(){g[e]={ok:!0,id:s.id,rev:s.rev},w.set(n.metadata.id,n.metadata),function(n,o,e){var t=0,r=Object.keys(n.data._attachments||{});if(!r.length)return e();function i(){++t===r.length&&e()}function a(e){var t=n.data._attachments[e].digest,r=y.put({seq:o,digestSeq:t+"::"+o});r.onsuccess=i,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),i()}}for(var s=0;s<r.length;s++)a(r[s])}(n,s.seq,t)}r._doc_id_rev=s.id+"::"+s.rev,delete r._id,delete r._rev;var l=p.put(r);l.onsuccess=u,l.onerror=function(e){e.preventDefault(),e.stopPropagation(),p.index("_doc_id_rev").getKey(r._doc_id_rev).onsuccess=function(e){p.put(r,e.target.result).onsuccess=u}}}P.preprocessAttachments(c,k,function(e){if(e)return r(e);!function(){var e=J(t,[I,T,L,q,R,F],"readwrite");if(e.error)return r(e.error);(d=e.txn).onabort=B(r),d.ontimeout=B(r),d.oncomplete=S,h=d.objectStore(I),p=d.objectStore(T),b=d.objectStore(L),y=d.objectStore(R),(n=d.objectStore(F)).get(F).onsuccess=function(e){i=e.target.result,O()},function(t){var o=[];if(c.forEach(function(r){r.data&&r.data._attachments&&Object.keys(r.data._attachments).forEach(function(e){var t=r.data._attachments[e];t.stub&&o.push(t.digest)})}),!o.length)return t();var i,a=0;o.forEach(function(e){var r,n;r=e,n=function(e){e&&!i&&(i=e),++a===o.length&&t(i)},b.get(r).onsuccess=function(e){if(e.target.result)n();else{var t=D.createError(D.MISSING_STUB,"unknown stub attachment with digest "+r);t.status=412,n(t)}}})}(function(e){if(e)return x=!0,r(e);!function(){if(!c.length)return;var e=0;function r(){++e===c.length&&P.processDocs(s.revs_limit,c,f,w,d,g,E,u,j)}function t(e){var t=$(e.target.result);t&&w.set(t.id,t),r()}for(var n=0,o=c.length;n<o;n++){var i=c[n];if(i._id&&P.isLocalId(i._id))r();else{var a=h.get(i.metadata.id);a.onsuccess=t}}}()})}()})}function K(r,n,e,o,i){var a,s,t;function u(e){s=e.target.result,a&&i(a,s,t)}function c(e){a=e.target.result,s&&i(a,s,t)}function l(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}"function"==typeof r.getAll&&"function"==typeof r.getAllKeys&&1<o&&!e?(t={continue:function(){if(!a.length)return i();var e,t=a[a.length-1];if(n&&n.upper)try{e=IDBKeyRange.bound(t,n.upper,!0,n.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return i()}else e=IDBKeyRange.lowerBound(t,!0);n=e,s=a=null,r.getAll(n,o).onsuccess=u,r.getAllKeys(n,o).onsuccess=c}},r.getAll(n,o).onsuccess=u,r.getAllKeys(n,o).onsuccess=c):e?r.openCursor(n,"prev").onsuccess=l:r.openCursor(n).onsuccess=l}function g(s,e,t){var r,n,o="startkey"in s&&s.startkey,i="endkey"in s&&s.endkey,a="key"in s&&s.key,u="keys"in s&&s.keys,c=s.skip||0,l="number"==typeof s.limit?s.limit:-1,f=!1!==s.inclusive_end;if(!u&&(n=(r=function(e,t,r,n,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}(o,i,f,a,s.descending))&&r.error)&&("DataError"!==n.name||0!==n.code))return t(D.createError(D.IDB_ERROR,n.name,n.message));var d=[I,T,F];s.attachments&&d.push(L);var h=J(e,d,"readonly");if(h.error)return t(h.error);var p=h.txn;p.oncomplete=function(){s.attachments?V(E,s.binary).then(R):R()},p.onabort=B(t);var b,y,v,_,m,g,w,x,k=p.objectStore(I),j=p.objectStore(T),O=p.objectStore(F),S=j.index("_doc_id_rev"),E=[];function C(e,t){var r,n,o,i,a={id:t.id,key:t.id,value:{rev:e}};t.deleted?u&&(E.push(a),a.value.deleted=!0,a.doc=null):c--<=0&&(E.push(a),s.include_docs&&(n=a,o=e,i=(r=t).id+"::"+o,S.get(i).onsuccess=function(e){if(n.doc=U(e.target.result),s.conflicts){var t=M.collectConflicts(r);t.length&&(n.doc._conflicts=t)}z(n.doc,s,p)}))}function A(e){for(var t=0,r=e.length;t<r&&E.length!==l;t++){var n=e[t];if(n.error&&u)E.push(n);else{var o=$(n);C(o.winningRev,o)}}}function P(e,t,r){r&&(A(t),E.length<l&&r.continue())}function R(){var e={total_rows:b,offset:s.skip,rows:E};s.update_seq&&void 0!==y&&(e.update_seq=y),t(null,e)}return O.get(F).onsuccess=function(e){b=e.target.result.docCount},s.update_seq&&(v=function(e){e.target.result&&0<e.target.result.length&&(y=e.target.result[0])},j.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,r=void 0;return t&&t.key&&(r=t.key),v({target:{result:[r]}})}),n||0===l?void 0:u?(_=s.keys,m=k,g=P,w=[],x=0,void _.forEach(function(t,r){m.get(t).onsuccess=function(e){e.target.result?w[r]=e.target.result:w[r]={key:t,error:"not_found"},++x===_.length&&g(_,w,{})}})):-1===l?function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(k,r,function(e){var t=e.target.result;s.descending&&(t=t.reverse()),A(t)}):void K(k,r,s.descending,l+c,P)}var a=!1,s=[];function u(){!a&&s.length&&(a=!0,s.shift()())}function x(c,e,t,r){if((c=w.clone(c)).continuous){var n=t+":"+w.uuid();return Q.addListener(t,n,e,c),Q.notify(t),{cancel:function(){Q.removeListener(t,n)}}}var l=c.doc_ids&&new A.Set(c.doc_ids);c.since=c.since||0;var f,d=c.since,h="limit"in c?c.limit:-1;0===h&&(h=1),f="return_docs"in c?c.return_docs:!("returnDocs"in c)||c.returnDocs;var p,o,b,i,y=[],v=0,_=w.filterChange(c),m=new A.Map;function g(e,t,r,n){if(r.seq!==t)return n();if(r.winningRev===e._rev)return n(r,e);var o=e._id+"::"+r.winningRev;i.get(o).onsuccess=function(e){n(r,U(e.target.result))}}function a(){c.complete(null,{results:y,last_seq:d})}var s=[I,T];c.attachments&&s.push(L);var u=J(r,s,"readonly");if(u.error)return c.complete(u.error);(p=u.txn).onabort=B(c.complete),p.oncomplete=function(){!c.continuous&&c.attachments?V(y).then(a):a()},o=p.objectStore(T),b=p.objectStore(I),i=o.index("_doc_id_rev"),K(o,c.since&&!c.descending?IDBKeyRange.lowerBound(c.since,!0):null,c.descending,h,function(n,e,o){if(o&&n.length){var i=new Array(n.length),a=new Array(n.length),s=0;e.forEach(function(e,r){!function(t,r,n){if(l&&!l.has(t._id))return n();var o=m.get(t._id);if(o)return g(t,r,o,n);b.get(t._id).onsuccess=function(e){o=$(e.target.result),m.set(t._id,o),g(t,r,o,n)}}(U(e),n[r],function(e,t){a[r]=e,i[r]=t,++s===n.length&&function(){for(var e=0,t=i.length;e<t&&v!==h;e++){var r=i[e];r&&u(a[e],r)}v!==h&&o.continue()}()})})}function u(e,t){var r=c.processChange(t,e,c);d=r.seq=e.seq;var n=_(r);if("object"==typeof n)return c.complete(n);n&&(v++,f&&y.push(r),c.attachments&&c.include_docs?z(t,c,p,function(){V([r],c.binary).then(function(){c.onChange(r)})}):c.onChange(r))}})}var k,j=new A.Map,O=new A.Map;function i(t,e){var r,n,o,i=this;r=function(e){!function(f,n,d){var h=n.name,p=null;function a(e,o){var i=e.objectStore(I);i.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),i.openCursor().onsuccess=function(e){var t=e.target.result;if(t){var r=t.value,n=M.isDeleted(r);r.deletedOrLocal=n?"1":"0",i.put(r),t.continue()}else o()}}function s(e,d){var h=e.objectStore(q),p=e.objectStore(I),b=e.objectStore(T),t=p.openCursor();t.onsuccess=function(e){var r=e.target.result;if(r){var t=r.value,n=t.id,o=M.isLocalId(n),i=M.winningRev(t);if(o){var a=n+"::"+i,s=n+"::",u=n+"::~",c=b.index("_doc_id_rev"),l=IDBKeyRange.bound(s,u,!1,!1),f=c.openCursor(l);f.onsuccess=function(e){if(f=e.target.result){var t=f.value;t._doc_id_rev===a&&h.put(t),b.delete(f.primaryKey),f.continue()}else p.delete(r.primaryKey),r.continue()}}else r.continue()}else d&&d()}}function u(e,l){var r=e.objectStore(T),t=e.objectStore(L),f=e.objectStore(R),n=t.count();n.onsuccess=function(e){var t=e.target.result;if(!t)return l();r.openCursor().onsuccess=function(e){var t=e.target.result;if(!t)return l();for(var r=t.value,n=t.primaryKey,o=Object.keys(r._attachments||{}),i={},a=0;a<o.length;a++){var s=r._attachments[o[a]];i[s.digest]=!0}var u=Object.keys(i);for(a=0;a<u.length;a++){var c=u[a];f.put({seq:n,digestSeq:c+"::"+n})}t.continue()}}}function c(e){var u=e.objectStore(T),c=e.objectStore(I),t=c.openCursor();t.onsuccess=function(e){var r=e.target.result;if(r){var t,n,o,i,a=function(e){if(!e.data)return e.deleted="1"===e.deletedOrLocal,e;return $(e)}(r.value);if(a.winningRev=a.winningRev||M.winningRev(a),a.seq)return s();t=a.id+"::",n=a.id+"::￿",o=u.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,n)),i=0,o.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,s();var r=t.primaryKey;i<r&&(i=r),t.continue()}}function s(){var e=N(a,a.winningRev,a.deleted),t=c.put(e);t.onsuccess=function(){r.continue()}}}}f._meta=null,f._remote=!1,f.type=function(){return"idb"},f._id=w.toPromise(function(e){e(null,f._meta.instanceId)}),f._bulkDocs=function(e,t,r){m(n,e,t,f,p,r)},f._get=function(e,i,t){var a,s,u,c=i.ctx;if(!c){var r=J(p,[I,T,L],"readonly");if(r.error)return t(r.error);c=r.txn}function l(){t(u,{doc:a,metadata:s,ctx:c})}c.objectStore(I).get(e).onsuccess=function(e){if(!(s=$(e.target.result)))return u=D.createError(D.MISSING_DOC,"missing"),l();var t;if(i.rev)t=i.latest?M.latest(i.rev,s):i.rev;else{t=s.winningRev;var r=M.isDeleted(s);if(r)return u=D.createError(D.MISSING_DOC,"deleted"),l()}var n=c.objectStore(T),o=s.id+"::"+t;n.index("_doc_id_rev").get(o).onsuccess=function(e){if((a=e.target.result)&&(a=U(a)),!a)return u=D.createError(D.MISSING_DOC,"missing"),l();l()}}},f._getAttachment=function(e,t,r,n,o){var i;if(n.ctx)i=n.ctx;else{var a=J(p,[I,T,L],"readonly");if(a.error)return o(a.error);i=a.txn}var s=r.digest,u=r.content_type;i.objectStore(L).get(s).onsuccess=function(e){var t=e.target.result.body;_(t,u,n.binary,function(e){o(null,e)})}},f._info=function(e){var r,t,n=J(p,[F,T],"readonly");if(n.error)return e(n.error);var o=n.txn;o.objectStore(F).get(F).onsuccess=function(e){t=e.target.result.docCount},o.objectStore(T).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},o.oncomplete=function(){e(null,{doc_count:t,update_seq:r,idb_attachment_format:f._meta.blobSupport?"binary":"base64"})}},f._allDocs=function(e,t){g(e,p,t)},f._changes=function(e){return x(e,f,h,p)},f._close=function(e){p.close(),j.delete(h),e()},f._getRevisionTree=function(e,r){var t=J(p,[I],"readonly");if(t.error)return r(t.error);var n=t.txn,o=n.objectStore(I).get(e);o.onsuccess=function(e){var t=$(e.target.result);t?r(null,t.rev_tree):r(D.createError(D.MISSING_DOC))}},f._doCompaction=function(o,a,e){var t=[I,T,L,R],r=J(p,t,"readwrite");if(r.error)return e(r.error);var i=r.txn,n=i.objectStore(I);n.get(o).onsuccess=function(e){var t=$(e.target.result);M.traverseRevTree(t.rev_tree,function(e,t,r,n,o){var i=t+"-"+r;-1!==a.indexOf(i)&&(o.status="missing")}),G(a,o,i);var r=t.winningRev,n=t.deleted;i.objectStore(I).put(N(t,r,n))},i.onabort=B(e),i.oncomplete=function(){e()}},f._getLocal=function(e,r){var t=J(p,[q],"readonly");if(t.error)return r(t.error);var n=t.txn,o=n.objectStore(q).get(e);o.onerror=B(r),o.onsuccess=function(e){var t=e.target.result;t?(delete t._doc_id_rev,r(null,t)):r(D.createError(D.MISSING_DOC))}},f._putLocal=function(n,o,i){"function"==typeof o&&(i=o,o={}),delete n._revisions;var a=n._rev,e=n._id;n._rev=a?"0-"+(parseInt(a.split("-")[1],10)+1):"0-1";var s,t=o.ctx;if(!t){var r=J(p,[q],"readwrite");if(r.error)return i(r.error);(t=r.txn).onerror=B(i),t.oncomplete=function(){s&&i(null,s)}}var u,c=t.objectStore(q);a?(u=c.get(e)).onsuccess=function(e){var t=e.target.result;if(t&&t._rev===a){var r=c.put(n);r.onsuccess=function(){s={ok:!0,id:n._id,rev:n._rev},o.ctx&&i(null,s)}}else i(D.createError(D.REV_CONFLICT))}:((u=c.add(n)).onerror=function(e){i(D.createError(D.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},u.onsuccess=function(){s={ok:!0,id:n._id,rev:n._rev},o.ctx&&i(null,s)})},f._removeLocal=function(r,n,o){"function"==typeof n&&(o=n,n={});var i,e=n.ctx;if(!e){var t=J(p,[q],"readwrite");if(t.error)return o(t.error);(e=t.txn).oncomplete=function(){i&&o(null,i)}}var a=r._id,s=e.objectStore(q),u=s.get(a);u.onerror=B(o),u.onsuccess=function(e){var t=e.target.result;t&&t._rev===r._rev?(s.delete(a),i={ok:!0,id:a,rev:"0-0"},n.ctx&&o(null,i)):o(D.createError(D.MISSING_DOC))}},f._destroy=function(e,t){Q.removeAllListeners(h);var r=O.get(h);r&&r.result&&(r.result.close(),j.delete(h));var n=indexedDB.deleteDatabase(h);n.onsuccess=function(){O.delete(h),w.hasLocalStorage()&&h in localStorage&&delete localStorage[h],t(null,{ok:!0})},n.onerror=B(t)};var e,t=j.get(h);if(t)return p=t.idb,f._meta=t.global,w.nextTick(function(){d(null,f)});e=n.storage?function(t,e){try{return indexedDB.open(t,{version:l,storage:e})}catch(e){return indexedDB.open(t,l)}}(h,n.storage):indexedDB.open(h,l);O.set(h,e),e.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(I,{keyPath:"id"});e.createObjectStore(T,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(L,{keyPath:"digest"}),e.createObjectStore(F,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(v),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(q,{keyPath:"_id"});var r=e.createObjectStore(R,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r,n=e.currentTarget.transaction;e.oldVersion<3&&t.createObjectStore(q,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.oldVersion<4&&((r=t.createObjectStore(R,{autoIncrement:!0})).createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0}));var o=[a,s,u,c],i=e.oldVersion;!function e(){var t=o[i-1];i++;t&&t(n,e)}()},e.onsuccess=function(e){(p=e.target.result).onversionchange=function(){p.close(),j.delete(h)},p.onabort=function(e){w.guardedConsole("error","Database has a global failure",e.target.error),p.close(),j.delete(h)};var t,r,n,o,i,a,s=p.transaction([F,v,I],"readwrite"),u=!1;function c(){void 0!==n&&u&&(f._meta={name:h,instanceId:o,blobSupport:n},j.set(h,{idb:p,global:f._meta}),d(null,f))}function l(){if(void 0!==r&&void 0!==t){var e=h+"_id";e in t?o=t[e]:t[e]=o=w.uuid(),t.docCount=r,s.objectStore(F).put(t)}}s.objectStore(F).get(F).onsuccess=function(e){t=e.target.result||{id:F},l()},i=function(e){r=e,l()},s.objectStore(I).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){i(e.target.result)},k||(a=s,k=new b(function(r){var e=y.blob([""]);a.objectStore(v).put(e,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!e||43<=parseInt(e[1],10))},a.onabort=function(e){e.preventDefault(),e.stopPropagation(),r(!1)}}).catch(function(){return!1})),k.then(function(e){n=e,c()}),s.oncomplete=function(){u=!0,c()},s.onabort=B(d)},e.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";w.guardedConsole("error",e),d(D.createError(D.IDB_ERROR,e))}}(i,t,e)},n=e,o=i.constructor,s.push(function(){r(function(e,t){!function(e,t,r,n){try{e(t,r)}catch(t){n.emit("error",t)}}(n,e,t,o),a=!1,w.nextTick(function(){u()})})}),u()}i.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");try{return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}},t.exports=function(e){e.adapter("idb",i,!0)}},{"pouchdb-adapter-utils":517,"pouchdb-binary-utils":519,"pouchdb-collections":523,"pouchdb-errors":528,"pouchdb-json":531,"pouchdb-merge":534,"pouchdb-promise":535,"pouchdb-utils":539}],517:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,s=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,l=e("pouchdb-utils"),m=e("pouchdb-errors"),a=e("pouchdb-binary-utils"),u=e("pouchdb-md5"),g=e("pouchdb-merge"),b=e("pouchdb-collections");function o(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}var f=o(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),d=o(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function h(e){if(!/^\d+-./.test(e))return m.createError(m.INVALID_REV);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function w(e,t){var r,n,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=l.uuid()),n=l.rev(),e._rev){if((o=h(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[n,i,[]]]]}],r=o.prefix+1}else e._rev_tree=[{pos:1,ids:[n,i,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,o=[n[0],t,[]],i=1,a=n.length;i<a;i++)o=[n[i],{status:"missing"},[o]];return[{pos:r,ids:o}]}(e._revisions,i),r=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if((o=h(e._rev)).error)return o;r=o.prefix,n=o.id,e._rev_tree=[{pos:r,ids:[n,i,[]]}]}l.invalidIdError(e._id),e._rev=r+"-"+n;var a={metadata:{},data:{}};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u="_"===s[0];if(u&&!f[s]){var c=m.createError(m.DOC_VALIDATION,s);throw c.message=m.DOC_VALIDATION.message+": "+s,c}u&&!d[s]?a.metadata[s.slice(1)]=e[s]:a.data[s]=e[s]}return a}function c(t,e,r){var n=function(e){try{return a.atob(e)}catch(e){return{error:m.createError(m.BAD_ARG,"Attachment is not a valid base64 string")}}}(t.data);if(n.error)return r(n.error);t.length=n.length,t.data="blob"===e?a.binaryStringToBlobOrBuffer(n,t.content_type):"base64"===e?a.btoa(n):n,u.binaryMd5(n,function(e){t.digest="md5-"+e,r()})}function p(e,t,r){if(e.stub)return r();var n,o,i;"string"==typeof e.data?c(e,t,r):(n=e,o=t,i=r,u.binaryMd5(n.data,function(e){n.digest="md5-"+e,n.length=n.data.size||n.data.length||0,"binary"===o?a.blobOrBufferToBinaryString(n.data,function(e){n.data=e,i()}):"base64"===o?a.blobOrBufferToBase64(n.data,function(e){n.data=e,i()}):i()}))}function y(e,t,r,n,o,i,a,s){if(g.revExists(t.rev_tree,r.metadata.rev))return n[o]=r,i();var u=t.winningRev||g.winningRev(t),c="deleted"in t?t.deleted:g.isDeleted(t,u),l="deleted"in r.metadata?r.metadata.deleted:g.isDeleted(r.metadata),f=/^1-/.test(r.metadata.rev);if(c&&!l&&s&&f){var d=r.data;d._rev=u,d._id=r.metadata.id,r=w(d,s)}var h=g.merge(t.rev_tree,r.metadata.rev_tree[0],e);if(s&&(c&&l&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts)){var p=m.createError(m.REV_CONFLICT);return n[o]=p,i()}var b=r.metadata.rev;r.metadata.rev_tree=h.tree,r.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var y=g.winningRev(r.metadata),v=g.isDeleted(r.metadata,y),_=c===v?0:c<v?-1:1;a(r,y,v,b===y?v:g.isDeleted(r.metadata,b),!0,_,o,i)}r.allDocsKeysQuery=function(e,i){var t=i.keys,a={offset:i.skip};return s.all(t.map(function(o){var t=l.assign({key:o,deleted:"ok"},i);return["limit","skip","keys"].forEach(function(e){delete t[e]}),new s(function(r,n){e._allDocs(t,function(e,t){if(e)return n(e);i.update_seq&&void 0!==t.update_seq&&(a.update_seq=t.update_seq),a.total_rows=t.total_rows,r(t.rows[0]||{key:o,error:"not_found"})})})})).then(function(e){return a.rows=e,a})},r.invalidIdError=l.invalidIdError,r.isDeleted=g.isDeleted,r.isLocalId=g.isLocalId,r.normalizeDdocFunctionName=l.normalizeDdocFunctionName,r.parseDdocFunctionName=l.parseDdocFunctionName,r.parseDoc=w,r.preprocessAttachments=function(e,i,t){if(!e.length)return t();var a,r=0;function s(){r++,e.length===r&&(a?t(a):t())}e.forEach(function(e){var t=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!t.length)return s();function n(e){a=e,++r===t.length&&s()}for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&p(e.data._attachments[o],i,n)})},r.processDocs=function(u,e,o,c,i,l,f,d,t){u=u||1e3;var h=d.new_edits,a=new b.Map,r=0,s=e.length;function p(){++r===s&&t&&t()}e.forEach(function(e,r){if(e._id&&g.isLocalId(e._id)){var t=e._deleted?"_removeLocal":"_putLocal";o[t](e,{ctx:i},function(e,t){l[r]=e||t,p()})}else{var n=e.metadata.id;a.has(n)?(s--,a.get(n).push([e,r])):a.set(n,[[e,r]])}}),a.forEach(function(o,i){var a=0;function s(){++a<o.length?e():p()}function e(){var e=o[a],t=e[0],r=e[1];if(c.has(i))y(u,c.get(i),t,l,r,s,f,h);else{var n=g.merge([],t.metadata.rev_tree[0],u);t.metadata.rev_tree=n.tree,t.stemmedRevs=n.stemmedRevs||[],function(e,t,r){var n=g.winningRev(e.metadata),o=g.isDeleted(e.metadata,n);if("was_delete"in d&&o)return l[t]=m.createError(m.MISSING_DOC,"deleted"),r();if(h&&"missing"===e.metadata.rev_tree[0].ids[1].status){var i=m.createError(m.REV_CONFLICT);return l[t]=i,r()}f(e,n,o,o,!1,o?0:1,t,r)}(t,r,s)}}e()})},r.updateDoc=y},{"pouchdb-binary-utils":519,"pouchdb-collections":523,"pouchdb-errors":528,"pouchdb-md5":533,"pouchdb-merge":534,"pouchdb-promise":535,"pouchdb-utils":539}],518:[function(e,t,r){"use strict";var n,s=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,c=e("pouchdb-binary-utils"),o=e("pouchdb-utils"),u=e("pouchdb-errors");function i(t,r){var e,n,o,i=new Headers,a={method:t.method,credentials:"include",headers:i};return t.json&&(i.set("Accept","application/json"),i.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.processData&&"string"!=typeof t.body?a.body=JSON.stringify(t.body):a.body="body"in t?t.body:null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&i.set(e,t.headers[e])}),e=function(){for(var r={},e=new s(function(e,t){r.resolve=e,r.reject=t}),t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];return r.promise=e,s.resolve().then(function(){return fetch.apply(null,t)}).then(function(e){r.resolve(e)}).catch(function(e){r.reject(e)}),r}(t.url,a),0<t.timeout&&(n=setTimeout(function(){e.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),e.promise.then(function(e){return o={statusCode:e.status},0<t.timeout&&clearTimeout(n),200<=o.statusCode&&o.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(e){200<=o.statusCode&&o.statusCode<300?r(null,o,e):(e.status=o.statusCode,r(e))}).catch(function(e){e||(e=new Error("canceled")),r(e)}),{abort:e.reject}}var a=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}();function l(e,t){return a||e.xhr?function(n,o){var i,e,a=!1,t=function(){a=!0,i.abort(),s()},r={abort:function(){i.abort(),s()}},s=function(){clearTimeout(e),r.abort=function(){},i&&(i.onprogress=void 0,i.upload&&(i.upload.onprogress=void 0),i.onreadystatechange=void 0,i=void 0)};i=n.xhr?new n.xhr:new XMLHttpRequest;try{i.open(n.method,n.url)}catch(e){return o(new Error(e.name||"Url is invalid"))}for(var u in i.withCredentials=!("withCredentials"in n)||n.withCredentials,"GET"===n.method?delete n.headers["Content-Type"]:n.json&&(n.headers.Accept="application/json",n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json",n.body&&n.processData&&"string"!=typeof n.body&&(n.body=JSON.stringify(n.body))),n.binary&&(i.responseType="arraybuffer"),"body"in n||(n.body=null),n.headers)n.headers.hasOwnProperty(u)&&i.setRequestHeader(u,n.headers[u]);return 0<n.timeout&&(e=setTimeout(t,n.timeout),i.onprogress=function(){clearTimeout(e),4!==i.readyState&&(e=setTimeout(t,n.timeout))},void 0!==i.upload&&(i.upload.onprogress=i.onprogress)),i.onreadystatechange=function(){if(4===i.readyState){var e={statusCode:i.status};if(200<=i.status&&i.status<300){var t;t=n.binary?c.blob([i.response||""],{type:i.getResponseHeader("Content-Type")}):i.responseText,o(null,e,t)}else{var r={};if(a)(r=new Error("ETIMEDOUT")).code="ETIMEDOUT";else if("string"==typeof i.response&&""!==i.response)try{r=JSON.parse(i.response)}catch(e){}r.status=i.status,o(r)}s()}},n.body&&n.body instanceof Blob?c.readAsArrayBuffer(n.body,function(e){i.send(e)}):i.send(n.body),r}(e,t):i(e,t)}function f(a,s){a=o.clone(a);return(a=o.assign({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},a)).json&&(a.binary||(a.headers.Accept="application/json"),a.headers["Content-Type"]=a.headers["Content-Type"]||"application/json"),a.binary&&(a.encoding=null,a.json=!1),a.processData||(a.json=!1),l(a,function(e,t,r){if(e)return s(u.generateErrorFromResponse(e));var n,o=t.headers&&t.headers["content-type"],i=r||"";if(!a.binary&&(a.json||!a.processData)&&"object"!=typeof i&&(/json/.test(o)||/^[\s]*\{/.test(i)&&/\}[\s]*$/.test(i)))try{i=JSON.parse(i.toString())}catch(e){}200<=t.statusCode&&t.statusCode<300?function(e,t,r){if(!a.binary&&a.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){return r(e)}Array.isArray(e)&&(e=e.map(function(e){return e.error||e.missing?u.generateErrorFromResponse(e):e})),a.binary,r(null,e,t)}(i,t,s):((n=u.generateErrorFromResponse(i)).status=t.statusCode,s(n))})}t.exports=function(e,t){var r=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==r.indexOf("safari")&&-1===r.indexOf("chrome"),o=-1!==r.indexOf("msie"),i=-1!==r.indexOf("trident"),a=-1!==r.indexOf("edge"),s=n||(o||i||a)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(s||!u)){var c=-1!==e.url.indexOf("?");e.url+=(c?"&":"?")+"_nonce="+Date.now()}return f(e,t)}},{"pouchdb-binary-utils":519,"pouchdb-errors":528,"pouchdb-promise":535,"pouchdb-utils":539}],519:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return atob(e)},o=function(e){return btoa(e)};function i(t,r){t=t||[],r=r||{};try{return new Blob(t,r)}catch(e){if("TypeError"!==e.name)throw e;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(r.type)}}function a(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}function s(e,t){return i([a(e)],{type:t})}function u(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=0;o<n;o++)t+=String.fromCharCode(r[o]);return t}function c(e,r){if("undefined"==typeof FileReader)return r(u((new FileReaderSync).readAsArrayBuffer(e)));var t=new FileReader,n="function"==typeof t.readAsBinaryString;t.onloadend=function(e){var t=e.target.result||"";if(n)return r(t);r(u(t))},n?t.readAsBinaryString(e):t.readAsArrayBuffer(e)}function l(e,t){c(e,function(e){t(e)})}r.atob=n,r.btoa=o,r.base64StringToBlobOrBuffer=function(e,t){return s(n(e),t)},r.binaryStringToArrayBuffer=a,r.binaryStringToBlobOrBuffer=s,r.blob=i,r.blobOrBufferToBase64=function(e,t){l(e,function(e){t(o(e))})},r.blobOrBufferToBinaryString=l,r.readAsArrayBuffer=function(e,r){if("undefined"==typeof FileReader)return r((new FileReaderSync).readAsArrayBuffer(e));var t=new FileReader;t.onloadend=function(e){var t=e.target.result||new ArrayBuffer(0);r(t)},t.readAsArrayBuffer(e)},r.readAsBinaryString=c,r.typedBuffer=function(){}},{}],520:[function(e,t,r){"use strict";var c=e("pouchdb-utils"),l=e("pouchdb-errors"),n=e("pouchdb-selector-core");function o(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var r="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function i(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=c.normalizeDdocFunctionName(e.view):e.filter=c.normalizeDdocFunctionName(e.filter))}function a(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!c.isRemote(e.db)}function s(o,i){var a=i.complete;if("_view"===i.filter){if(!i.view||"string"!=typeof i.view){var e=l.createError(l.BAD_REQUEST,"`view` filter parameter not found or invalid.");return a(e)}var s=c.parseDdocFunctionName(i.view);o.db.get("_design/"+s[0],function(e,t){if(o.isCancelled)return a(null,{status:"cancelled"});if(e)return a(l.generateErrorFromResponse(e));var r,n=t&&t.views&&t.views[s[1]]&&t.views[s[1]].map;if(!n)return a(l.createError(l.MISSING_DOC,t.views?"missing json key: "+s[1]:"missing json key: views"));i.filter=(r=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+n+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),c.scopeEval(r,{})),o.doChanges(i)})}else if(i.selector)i.filter=function(e){return n.matchesSelector(e,i.selector)},o.doChanges(i);else{var u=c.parseDdocFunctionName(i.filter);o.db.get("_design/"+u[0],function(e,t){if(o.isCancelled)return a(null,{status:"cancelled"});if(e)return a(l.generateErrorFromResponse(e));var r,n=t&&t.filters&&t.filters[u[1]];if(!n)return a(l.createError(l.MISSING_DOC,t&&t.filters?"missing json key: "+u[1]:"missing json key: filters"));i.filter=(r=n,c.scopeEval('"use strict";\nreturn '+r+";",{})),o.doChanges(i)})}}t.exports=function(e){e._changesFilterPlugin={validate:o,normalize:i,shouldFilter:a,filter:s}}},{"pouchdb-errors":528,"pouchdb-selector-core":538,"pouchdb-utils":539}],521:[function(e,t,r){"use strict";var n,o=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,a=e("pouchdb-utils"),i=e("pouchdb-collate"),s=1,u="pouchdb",c=5,l=0;function f(t,r,n,o,i){return t.get(r).catch(function(e){if(404===e.status)return"http"!==t.adapter&&"https"!==t.adapter||a.explainError(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:o,_id:r,history:[],replicator:u,version:s};throw e}).then(function(e){if(!i.cancelled&&e.last_seq!==n)return e.history=(e.history||[]).filter(function(e){return e.session_id!==o}),e.history.unshift({last_seq:n,session_id:o}),e.history=e.history.slice(0,c),e.version=s,e.replicator=u,e.session_id=o,e.last_seq=n,t.put(e).catch(function(e){if(409===e.status)return f(t,r,n,o,i);throw e})})}function d(e,t,r,n,o){this.src=e,this.target=t,this.id=r,this.returnValue=n,this.opts=o||{}}d.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},d.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?f(this.target,this.id,e,t,this.returnValue):o.resolve(!0)},d.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return f(this.src,this.id,e,t,this.returnValue).catch(function(e){if(b(e))return!(r.opts.writeSourceCheckpoint=!1);throw e})}return o.resolve(!0)};var h={undefined:function(e,t){return 0===i.collate(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,r){var n=t[0];var o=t.slice(1);var i=r[0];var a=r.slice(1);if(!n||0===r.length)return{last_seq:l,history:[]};var s=n.session_id;if(p(s,r))return{last_seq:n.last_seq,history:t};var u=i.session_id;if(p(u,o))return{last_seq:i.last_seq,history:a};return e(o,a)}(e.history,t.history)}(t,e).last_seq}};function p(e,t){var r=t[0],n=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||p(e,n))}function b(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}d.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(e){return e.last_seq||l}).catch(function(e){if(404!==e.status)throw e;return l}):t.target.get(t.id).then(function(r){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?r.last_seq||l:t.src.get(t.id).then(function(e){return r.version!==e.version?l:(t=r.version?r.version.toString():"undefined")in h?h[t](r,e):l;var t},function(e){if(404===e.status&&r.last_seq)return t.src.put({_id:t.id,last_seq:l}).then(function(){return l},function(e){return b(e)?(t.opts.writeSourceCheckpoint=!1,r.last_seq):l});throw e})}).catch(function(e){if(404!==e.status)throw e;return l})},t.exports=d},{"pouchdb-collate":522,"pouchdb-promise":535,"pouchdb-utils":539}],522:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var f=-324,d=3,h="";function s(e,t){if(e===t)return 0;e=a(e),t=a(t);var r,n,o=c(e),i=c(t);if(o-i!=0)return o-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(r=e)===(n=t)?0:n<r?1:-1}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var o=s(e[n],t[n]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),o=Math.min(r.length,n.length),i=0;i<o;i++){var a=s(r[i],n[i]);if(0!==a)return a;if(0!==(a=s(e[r[i]],t[n[i]])))return a}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function a(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=a(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var o in e={},t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=a(i))}}}return e}function n(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,o=n?"0":"2",i=(a=((n?-r:r)-f).toString(),s="0",u=d,function(e,t,r){for(var n="",o=r-e.length;n.length<o;)n+=t;return n}(a,s,u)+a);var a,s,u;o+=h+i;var c=Math.abs(parseFloat(t[0]));n&&(c=10-c);var l=c.toFixed(20);return l=l.replace(/\.?0+$/,""),o+=h+l}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,o=r.length,i="";if(t)for(;++n<o;)i+=u(r[n]);else for(;++n<o;){var a=r[n];i+=u(a)+u(e[a])}return i}return""}function u(e){return c(e=a(e))+h+n(e)+"\0"}function l(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+d),s=parseInt(a,10)+f;for(o&&(s=-s),t+=d;;){var u=e[t];if("\0"===u)break;i+=u,t++}r=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(r-=10),0!==s&&(r=parseFloat(r+"e"+s))}return{num:r,length:t-n}}function p(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(r);else if(i===e.length-2){o[e.pop()]=r}else e.push(r)}}function c(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}r.collate=s,r.normalizeKey=a,r.toIndexableString=u,r.parseIndexableString=function(e){for(var t=[],r=[],n=0;;){var o=e[n++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var i=l(e,n);t.push(i.num),n+=i.length;break;case"4":for(var a="";;){var s=e[n];if("\0"===s)break;a+=s,n++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var u={element:[],index:t.length};t.push(u.element),r.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),r.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();p(t,r)}}}},{}],523:[function(e,t,r){"use strict";function n(e){return"$"+e}function o(){this._store={}}function i(e){if(this._store=new o,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}Object.defineProperty(r,"__esModule",{value:!0}),o.prototype.get=function(e){var t=n(e);return this._store[t]},o.prototype.set=function(e,t){var r=n(e);return this._store[r]=t,!0},o.prototype.has=function(e){return n(e)in this._store},o.prototype.delete=function(e){var t=n(e),r=t in this._store;return delete this._store[t],r},o.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var o=t[r];e(this._store[o],o=o.substring(1))}},Object.defineProperty(o.prototype,"size",{get:function(){return Object.keys(this._store).length}}),i.prototype.add=function(e){return this._store.set(e,!0)},i.prototype.has=function(e){return this._store.has(e)},i.prototype.forEach=function(r){this._store.forEach(function(e,t){r(t)})},Object.defineProperty(i.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(r.Set=i,r.Map=o):(r.Set=Set,r.Map=Map)},{}],524:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var c=n(e("pouchdb-promise")),a=n(e("argsarray")),l=e("pouchdb-utils"),j=e("pouchdb-merge"),o=n(e("inherits")),s=e("events"),u=e("pouchdb-collections"),f=e("pouchdb-errors"),i=n(e("pouchdb-debug")),d=n(e("pouchdb-changes-filter"));function h(r,t,n){s.EventEmitter.call(this);var o=this;this.db=r;var i=(t=t?l.clone(t):{}).complete=l.once(function(e,t){e?0<l.listenerCount(o,"error")&&o.emit("error",e):o.emit("complete",t),o.removeAllListeners(),r.removeListener("destroyed",a)});function a(){o.cancel()}n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),r.once("destroyed",a),t.onChange=function(e,t,r){o.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(e){l.guardedConsole("error",'Error in .on("change", function):',e)}}(o,e,t,r)};var e=new c(function(r,n){t.complete=function(e,t){e?n(e):r(t)}});o.once("cancel",function(){r.removeListener("destroyed",a),t.complete(null,{status:"cancelled"})}),this.then=e.then.bind(e),this.catch=e.catch.bind(e),this.then(function(e){i(null,e)},i),r.taskqueue.isReady?o.validateChanges(t):r.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.validateChanges(t)})}function p(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=j.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:n,doc:e};return j.isDeleted(t,e._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=j.collectConflicts(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function b(e,t){return e<t?-1:t<e?1:0}function y(r,n){return function(e,t){e||t[0]&&t[0].error?((e=e||t[0]).docId=n,r(e)):r(null,t.length?t[0]:t)}}function v(e,t){var r=b(e._id,t._id);return 0!==r?r:b(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _(){s.EventEmitter.call(this)}function m(){this.isReady=!1,this.failed=!1,this.queue=[]}function g(e,t){if(!(this instanceof g))return new g(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),this.__opts=t=l.clone(t),r.auto_compaction=t.auto_compaction,r.prefix=g.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var n=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=g.adapters,o=g.preferredAdapters,i=g.prefix,a=t.adapter;if(!a)for(var s=0;s<o.length&&"idb"===(a=o[s])&&"websql"in n&&l.hasLocalStorage()&&localStorage["_pouch__websqldb_"+i+e];++s)l.guardedConsole("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=n[a];return{name:u&&"use_prefix"in u&&!u.use_prefix?e:i+e,adapter:a}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,r.name=e,r._adapter=t.adapter,g.emit("debug",["adapter","Picked adapter: ",t.adapter]),!g.adapters[t.adapter]||!g.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);_.call(r),r.taskqueue=new m,r.adapter=t.adapter,g.adapters[t.adapter].call(r,t,function(e){if(e)return r.taskqueue.fail(e);!function(t){function e(e){t.removeListener("closed",r),e||t.constructor.emit("destroyed",t.name)}function r(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",r),t.constructor.emit("ref",t)}(r),r.emit("created",r),g.emit("created",r.name),r.taskqueue.ready(r)})}o(h,s.EventEmitter),h.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},h.prototype.validateChanges=function(t){var r=t.complete,n=this;g._changesFilterPlugin?g._changesFilterPlugin.validate(t,function(e){if(e)return r(e);n.doChanges(t)}):n.doChanges(t)},h.prototype.doChanges=function(t){var r=this,n=t.complete;if("live"in(t=l.clone(t))&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=p,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(g._changesFilterPlugin){if(g._changesFilterPlugin.normalize(t),g._changesFilterPlugin.shouldFilter(this,t))return g._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&l.guardedConsole("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var o=this.db._changes(t);if(o&&"function"==typeof o.cancel){var i=r.cancel;r.cancel=a(function(e){o.cancel(),i.apply(this,e)})}}else this.db.info().then(function(e){r.isCancelled?n(null,{status:"cancelled"}):(t.since=e.update_seq,r.doChanges(t))},n)},o(_,s.EventEmitter),_.prototype.post=l.adapterFun("post",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(f.createError(f.NOT_AN_OBJECT));this.bulkDocs({docs:[e]},t,y(r,e._id))}),_.prototype.put=l.adapterFun("put",function(r,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof r||Array.isArray(r))return n(f.createError(f.NOT_AN_OBJECT));if(l.invalidIdError(r._id),j.isLocalId(r._id)&&"function"==typeof this._putLocal)return r._deleted?this._removeLocal(r,n):this._putLocal(r,n);var e,o,i,a,s=this;function u(e){"function"==typeof s._put&&!1!==t.new_edits?s._put(r,t,e):s.bulkDocs({docs:[r]},t,y(e,r._id))}t.force&&r._rev?(e=r._rev.split("-"),o=e[1],i=parseInt(e[0],10)+1,a=l.rev(),r._revisions={start:i,ids:[a,o]},r._rev=i+"-"+a,t.new_edits=!1,u(function(e){var t=e?null:{ok:!0,id:r._id,rev:r._rev};n(e,t)})):u(n)}),_.prototype.putAttachment=l.adapterFun("putAttachment",function(t,r,n,o,i){var a=this;function s(e){var t="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[r]={content_type:i,data:o,revpos:++t},a.put(e)}return"function"==typeof i&&(i=o,o=n,n=null),void 0===i&&(i=o,o=n,n=null),i||l.guardedConsole("warn","Attachment",r,"on document",t,"is missing content_type"),a.get(t).then(function(e){if(e._rev!==n)throw f.createError(f.REV_CONFLICT);return s(e)},function(e){if(e.reason===f.MISSING_DOC.message)return s({_id:t});throw e})}),_.prototype.removeAttachment=l.adapterFun("removeAttachment",function(e,r,n,o){var i=this;i.get(e,function(e,t){if(e)o(e);else if(t._rev===n){if(!t._attachments)return o();delete t._attachments[r],0===Object.keys(t._attachments).length&&delete t._attachments,i.put(t,o)}else o(f.createError(f.REV_CONFLICT))})}),_.prototype.remove=l.adapterFun("remove",function(e,t,r,n){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var i={_id:o._id,_rev:o._rev||r.rev,_deleted:!0};if(j.isLocalId(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,n);this.bulkDocs({docs:[i]},r,y(n,i._id))}),_.prototype.revsDiff=l.adapterFun("revsDiff",function(i,e,a){"function"==typeof e&&(a=e,e={});var c=Object.keys(i);if(!c.length)return a(null,{});var l=0,f=new u.Map;function d(e,t){f.has(e)||f.set(e,{missing:[]}),f.get(e).missing.push(t)}c.map(function(o){this._getRevisionTree(o,function(e,t){if(e&&404===e.status&&"missing"===e.message)f.set(o,{missing:i[o]});else{if(e)return a(e);r=t,u=i[s=o].slice(0),j.traverseRevTree(r,function(e,t,r,n,o){var i=t+"-"+r,a=u.indexOf(i);-1!==a&&(u.splice(a,1),"available"!==o.status&&d(s,i))}),u.forEach(function(e){d(s,e)})}var s,r,u;if(++l===c.length){var n={};return f.forEach(function(e,t){n[t]=e}),a(null,n)}})},this)}),_.prototype.bulkGet=l.adapterFun("bulkGet",function(e,t){l.bulkGetShim(this,e,t)}),_.prototype.compactDocument=l.adapterFun("compactDocument",function(o,c,l){var f=this;this._getRevisionTree(o,function(e,t){if(e)return l(e);var r,i,a,n=(r=t,i={},a=[],j.traverseRevTree(r,function(e,t,r,n){var o=t+"-"+r;return e&&(i[o]=0),void 0!==n&&a.push({from:n,to:o}),o}),a.reverse(),a.forEach(function(e){void 0===i[e.from]?i[e.from]=1+i[e.to]:i[e.from]=Math.min(i[e.from],1+i[e.to])}),i),s=[],u=[];Object.keys(n).forEach(function(e){n[e]>c&&s.push(e)}),j.traverseRevTree(t,function(e,t,r,n,o){var i=t+"-"+r;"available"===o.status&&-1!==s.indexOf(i)&&u.push(i)}),f._doCompaction(o,u,l)})}),_.prototype.compact=l.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function r(n){var e=n._compactionQueue[0],t=e.opts,o=e.callback;n.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(t.last_seq=e.last_seq),n._compact(t,function(e,t){e?o(e):o(null,t),l.nextTick(function(){n._compactionQueue.shift(),n._compactionQueue.length&&r(n)})})})}(this)}),_.prototype._compact=function(e,r){var n=this,t={return_docs:!1,last_seq:e.last_seq||0},o=[];n.changes(t).on("change",function(e){o.push(n.compactDocument(e.id,0))}).on("complete",function(e){var t=e.last_seq;c.all(o).then(function(){return l.upsert(n,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<t)&&(e.last_seq=t,e)})}).then(function(){r(null,{ok:!0})}).catch(r)}).on("error",r)},_.prototype.get=l.adapterFun("get",function(g,w,x){if("function"==typeof w&&(x=w,w={}),"string"!=typeof g)return x(f.createError(f.INVALID_ID));if(j.isLocalId(g)&&"function"==typeof this._getLocal)return this._getLocal(g,x);var r=[],k=this;function n(){var a=[],s=r.length;if(!s)return x(null,a);r.forEach(function(i){k.get(g,{rev:i,revs:w.revs,latest:w.latest,attachments:w.attachments,binary:w.binary},function(e,t){if(e)a.push({missing:i});else{for(var r,n=0,o=a.length;n<o;n++)if(a[n].ok&&a[n].ok._rev===t._rev){r=!0;break}r||a.push({ok:t})}--s||x(null,a)})})}if(!w.open_revs)return this._get(g,w,function(e,t){if(e)return e.docId=g,x(e);var o=t.doc,r=t.metadata,i=t.ctx;if(w.conflicts){var n=j.collectConflicts(r);n.length&&(o._conflicts=n)}if(j.isDeleted(r,o._rev)&&(o._deleted=!0),w.revs||w.revs_info){for(var a=o._rev.split("-"),s=parseInt(a[0],10),u=a[1],c=j.rootToLeaf(r.rev_tree),l=null,f=0;f<c.length;f++){var d=c[f],h=d.ids.map(function(e){return e.id}).indexOf(u);(h===s-1||!l&&-1!==h)&&(l=d)}var p=l.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,b=l.ids.length-p;if(l.ids.splice(p,b),l.ids.reverse(),w.revs&&(o._revisions={start:l.pos+l.ids.length-1,ids:l.ids.map(function(e){return e.id})}),w.revs_info){var y=l.pos+l.ids.length;o._revs_info=l.ids.map(function(e){return{rev:--y+"-"+e.id,status:e.opts.status}})}}if(w.attachments&&o._attachments){var v=o._attachments,_=Object.keys(v).length;if(0===_)return x(null,o);Object.keys(v).forEach(function(n){this._getAttachment(o._id,n,v[n],{rev:o._rev,binary:w.binary,ctx:i},function(e,t){var r=o._attachments[n];r.data=t,delete r.stub,delete r.length,--_||x(null,o)})},k)}else{if(o._attachments)for(var m in o._attachments)o._attachments.hasOwnProperty(m)&&(o._attachments[m].stub=!0);x(null,o)}});if("all"===w.open_revs)this._getRevisionTree(g,function(e,t){if(e)return x(e);r=j.collectLeaves(t).map(function(e){return e.rev}),n()});else{if(!Array.isArray(w.open_revs))return x(f.createError(f.UNKNOWN_ERROR,"function_clause"));r=w.open_revs;for(var e=0;e<r.length;e++){var t=r[e];if("string"!=typeof t||!/^\d+-/.test(t))return x(f.createError(f.INVALID_REV))}n()}}),_.prototype.getAttachment=l.adapterFun("getAttachment",function(r,n,o,i){var a=this;o instanceof Function&&(i=o,o={}),this._get(r,o,function(e,t){return e?i(e):t.doc._attachments&&t.doc._attachments[n]?(o.ctx=t.ctx,o.binary=!0,void a._getAttachment(r,n,t.doc._attachments[n],o,i)):i(f.createError(f.MISSING_DOC))})}),_.prototype.allDocs=l.adapterFun("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(r)return void e(f.createError(f.QUERY_PARSE_ERROR,"Query parameter `"+r+"` is not compatible with multi-get"));if(!l.isRemote(this)&&(o="limit"in(n=t)?n.keys.slice(n.skip,n.limit+n.skip):0<n.skip?n.keys.slice(n.skip):n.keys,n.keys=o,n.skip=0,delete n.limit,n.descending&&(o.reverse(),n.descending=!1),0===t.keys.length))return this._allDocs({limit:0},e)}var n,o;return this._allDocs(t,e)}),_.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new h(this,e,t)},_.prototype.close=l.adapterFun("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),_.prototype.info=l.adapterFun("info",function(r){var n=this;this._info(function(e,t){if(e)return r(e);t.db_name=t.db_name||n.name,t.auto_compaction=!(!n.auto_compaction||l.isRemote(n)),t.adapter=n.adapter,r(null,t)})}),_.prototype.id=l.adapterFun("id",function(e){return this._id(e)}),_.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},_.prototype.bulkDocs=l.adapterFun("bulkDocs",function(e,o,i){if("function"==typeof o&&(i=o,o={}),o=o||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return i(f.createError(f.MISSING_BULK_DOCS));for(var t=0;t<e.docs.length;++t)if("object"!=typeof e.docs[t]||Array.isArray(e.docs[t]))return i(f.createError(f.NOT_AN_OBJECT));var n;if(e.docs.forEach(function(r){r._attachments&&Object.keys(r._attachments).forEach(function(e){var t;n=n||"_"===(t=e).charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'",r._attachments[e].content_type||l.guardedConsole("warn","Attachment",e,"on document",r._id,"is missing content_type")})}),n)return i(f.createError(f.BAD_REQUEST,n));"new_edits"in o||(o.new_edits=!("new_edits"in e)||e.new_edits);var a=this;o.new_edits||l.isRemote(a)||e.docs.sort(v),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),o=0;o<n.length;o++){var i=n[o];r._attachments[i]=l.pick(r._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map(function(e){return e._id});return this._bulkDocs(e,o,function(e,t){if(e)return i(e);if(o.new_edits||(t=t.filter(function(e){return e.error})),!l.isRemote(a))for(var r=0,n=t.length;r<n;r++)t[r].id=t[r].id||s[r];i(null,t)})}),_.prototype.registerDependentDatabase=l.adapterFun("registerDependentDatabase",function(t,e){var r=new this.constructor(t,this.__opts);l.upsert(this,"_local/_pouch_dependentDbs",function(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}).then(function(){e(null,{db:r})}).catch(e)}),_.prototype.destroy=l.adapterFun("destroy",function(e,i){"function"==typeof e&&(i=e,e={});var a=this,s=!("use_prefix"in a)||a.use_prefix;function u(){a._destroy(e,function(e,t){if(e)return i(e);a._destroyed=!0,a.emit("destroyed"),i(null,t||{ok:!0})})}if(l.isRemote(a))return u();a.get("_local/_pouch_dependentDbs",function(e,t){if(e)return 404!==e.status?i(e):u();var r=t.dependentDbs,n=a.constructor,o=Object.keys(r).map(function(e){var t=s?e.replace(new RegExp("^"+n.prefix),""):e;return new n(t,a.__opts).destroy()});c.all(o).then(u,i)})}),m.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},m.prototype.fail=function(e){this.failed=e,this.execute()},m.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},m.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},o(g,_),g.adapters={},g.preferredAdapters=[],g.prefix="_pouch_";var w=new s.EventEmitter;!function(t){Object.keys(s.EventEmitter.prototype).forEach(function(e){"function"==typeof s.EventEmitter.prototype[e]&&(t[e]=w[e].bind(w))});var n=t._destructionListeners=new u.Map;t.on("ref",function(e){n.has(e.name)||n.set(e.name,[]),n.get(e.name).push(e)}),t.on("unref",function(e){if(n.has(e.name)){var t=n.get(e.name),r=t.indexOf(e);r<0||(t.splice(r,1),1<t.length?n.set(e.name,t):n.delete(e.name))}}),t.on("destroyed",function(e){if(n.has(e)){var t=n.get(e);n.delete(e),t.forEach(function(e){e.emit("destroyed",!0)})}})}(g),g.adapter=function(e,t,r){t.valid()&&(g.adapters[e]=t,r&&g.preferredAdapters.push(e))},g.plugin=function(t){if("function"==typeof t)t(g);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){g.prototype[e]=t[e]})}return this.__defaults&&(g.__defaults=l.assign({},this.__defaults)),g},g.defaults=function(e){function r(e,t){if(!(this instanceof r))return new r(e,t);t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),t=l.assign({},r.__defaults,t),g.call(this,e,t)}return o(r,g),r.preferredAdapters=g.preferredAdapters.slice(),Object.keys(g).forEach(function(e){e in r||(r[e]=g[e])}),r.__defaults=l.assign({},this.__defaults,e),r};g.plugin(i),g.plugin(d),g.version="6.4.3",t.exports=g},{argsarray:39,events:499,inherits:504,"pouchdb-changes-filter":520,"pouchdb-collections":523,"pouchdb-debug":525,"pouchdb-errors":528,"pouchdb-merge":534,"pouchdb-promise":535,"pouchdb-utils":539}],525:[function(e,t,r){"use strict";var n,o=(n=e("debug"))&&"object"==typeof n&&"default"in n?n.default:n;t.exports=function(e){e.debug=o;var n={};e.on("debug",function(e){var t=e[0],r=e.slice(1);n[t]||(n[t]=o("pouchdb:"+t)),n[t].apply(null,r)})}},{debug:526}],526:[function(r,n,i){(function(t){function e(){var e;try{e=i.storage.debug}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(i=n.exports=r("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))}),e.splice(o,0,r)},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=e,i.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(e())}).call(this,r("_process"))},{"./debug":527,_process:540}],527:[function(e,t,u){function r(e){var n;function s(){if(s.enabled){var o=s,e=+new Date,t=e-(n||e);o.diff=t,o.prev=n,o.curr=e,n=e;for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];i[0]=u.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;a++;var r=u.formatters[t];if("function"==typeof r){var n=i[a];e=r.call(o,n),i.splice(a,1),a--}return e}),u.formatArgs.call(o,i),(s.log||u.log||console.log.bind(console)).apply(o,i)}}return s.namespace=e,s.enabled=u.enabled(e),s.useColors=u.useColors(),s.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return u.colors[Math.abs(r)%u.colors.length]}(e),s.destroy=o,"function"==typeof u.init&&u.init(s),u.instances.push(s),s}function o(){var e=u.instances.indexOf(this);return-1!==e&&(u.instances.splice(e,1),!0)}(u=t.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},u.disable=function(){u.enable("")},u.enable=function(e){var t;u.save(e),u.names=[],u.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?u.skips.push(new RegExp("^"+e.substr(1)+"$")):u.names.push(new RegExp("^"+e+"$")));for(t=0;t<u.instances.length;t++){var o=u.instances[t];o.enabled=u.enabled(o.namespace)}},u.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=u.skips.length;t<r;t++)if(u.skips[t].test(e))return!1;for(t=0,r=u.names.length;t<r;t++)if(u.names[t].test(e))return!0;return!1},u.humanize=e("ms"),u.instances=[],u.names=[],u.skips=[],u.formatters={}},{ms:512}],528:[function(e,t,r){"use strict";var n;function o(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}Object.defineProperty(r,"__esModule",{value:!0}),((n=e("inherits"))&&"object"==typeof n&&"default"in n?n.default:n)(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var i=new o(401,"unauthorized","Name or password is incorrect."),a=new o(400,"bad_request","Missing JSON list of 'docs'"),s=new o(404,"not_found","missing"),u=new o(409,"conflict","Document update conflict"),c=new o(400,"bad_request","_id field must contain a string"),l=new o(412,"missing_id","_id is required for puts"),f=new o(400,"bad_request","Only reserved document ids may start with underscore."),d=new o(412,"precondition_failed","Database not open"),h=new o(500,"unknown_error","Database encountered an unknown error"),p=new o(500,"badarg","Some query argument is invalid"),b=new o(400,"invalid_request","Request was invalid"),y=new o(400,"query_parse_error","Some query parameter is invalid"),v=new o(500,"doc_validation","Bad special document member"),_=new o(400,"bad_request","Something wrong with the request"),m=new o(400,"bad_request","Document must be a JSON object"),g=new o(404,"not_found","Database not found"),w=new o(500,"indexed_db_went_bad","unknown"),x=new o(500,"web_sql_went_bad","unknown"),k=new o(500,"levelDB_went_went_bad","unknown"),j=new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),O=new o(400,"bad_request","Invalid rev format"),S=new o(412,"file_exists","The database could not be created, the file already exists."),E=new o(412,"missing_stub","A pre-existing attachment stub wasn't found"),C=new o(413,"invalid_url","Provided URL is invalid");r.UNAUTHORIZED=i,r.MISSING_BULK_DOCS=a,r.MISSING_DOC=s,r.REV_CONFLICT=u,r.INVALID_ID=c,r.MISSING_ID=l,r.RESERVED_ID=f,r.NOT_OPEN=d,r.UNKNOWN_ERROR=h,r.BAD_ARG=p,r.INVALID_REQUEST=b,r.QUERY_PARSE_ERROR=y,r.DOC_VALIDATION=v,r.BAD_REQUEST=_,r.NOT_AN_OBJECT=m,r.DB_MISSING=g,r.WSQ_ERROR=x,r.LDB_ERROR=k,r.FORBIDDEN=j,r.INVALID_REV=O,r.FILE_EXISTS=S,r.MISSING_STUB=E,r.IDB_ERROR=w,r.INVALID_URL=C,r.createError=function(r,e){function t(e){for(var t in r)"function"!=typeof r[t]&&(this[t]=r[t]);void 0!==e&&(this.reason=e)}return t.prototype=o.prototype,new t(e)},r.generateErrorFromResponse=function(e){if("object"!=typeof e){var t=e;(e=h).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}},{inherits:504}],529:[function(G,J,e){(function(i){"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var l=G("pouchdb-utils"),c=e(G("pouchdb-promise")),x=G("pouchdb-selector-core"),t=e(G("pouchdb-abstract-mapreduce")),f=G("pouchdb-collate"),d=G("pouchdb-md5");function h(t){return(t=l.clone(t)).index||(t.index={}),["type","name","ddoc"].forEach(function(e){t.index[e]&&(t[e]=t.index[e],delete t.index[e])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}function r(e,t,r){t=h(t),e.request({method:"POST",url:"_index",body:t},r)}function n(e,t,r){e.request({method:"POST",url:"_find",body:t},r)}function o(e,t,r){e.request({method:"POST",url:"_explain",body:t},r)}function a(e,t){e.request({method:"GET",url:"_index"},t)}function s(e,t,r){var n=t.ddoc,o=t.type||"json",i=t.name;if(!n)return r(new Error("you must provide an index's ddoc"));if(!i)return r(new Error("you must provide an index's name"));var a="_index/"+[n,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},r)}function u(n){return function(){for(var e=arguments.length,t=new Array(e),r=-1;++r<e;)t[r]=arguments[r];return n.call(this,t)}}function p(o){return u(function(e){var t,r=e.pop(),n=o.apply(this,e);return t=r,n.then(function(e){i.nextTick(function(){t(null,e)})},function(e){i.nextTick(function(){t(e)})}),n})}var b=u(function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];Array.isArray(o)?t=t.concat(b.apply(null,o)):t.push(o)}return t});function k(e){for(var t={},r=0,n=e.length;r<n;r++)t=l.assign(t,e[r]);return t}function y(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0}function j(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function v(e,t){var u,c,r,o,i,a,s,n,l,f=function(e){for(var t=0,r=e.length;t<r;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),d=1===e.length;return f?d?(n=e[0],l=t,function(e){l(e[n])}):(a=e,s=t,function(e){for(var t=[],r=0,n=a.length;r<n;r++)t.push(e[a[r]]);s(t)}):d?(r=e[0],o=t,i=x.parseField(r),function(e){for(var t=e,r=0,n=i.length;r<n;r++)if(void 0===(t=t[i[r]]))return;o(t)}):(u=e,c=t,function(e){for(var t=[],r=0,n=u.length;r<n;r++){for(var o=x.parseField(u[r]),i=e,a=0,s=o.length;a<s;a++)if(void 0===(i=i[o[a]]))return;t.push(i)}c(t)})}var _=t("indexes",function(e,t){return v(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function m(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function g(e,t){for(var r=[],n=0;n<t.def.fields.length;n++){var o=x.getKey(t.def.fields[n]);r.push(e[o])}return r}function w(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=b(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(r){return(void 0!==r.doc.views?Object.keys(r.doc.views):[]).map(function(e){var t=r.doc.views[e];return{ddoc:r.id,name:e,type:"json",def:m(t.options.def)}})})),t.indexes.sort(function(e,t){return x.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var O=null,S={"￿":{}};function E(e,t){for(var r=e.def.fields.map(x.getKey),n=0,o=r.length;n<o;n++){if(t===r[n])return!0}return!1}function C(e,t){var o=t.def.fields.map(x.getKey);return e.slice().sort(function(e,t){var r=o.indexOf(e),n=o.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===n&&(n=Number.MAX_VALUE),x.compare(r,n)})}function A(e,t,r,n){var o,i;return C(function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}(b(e,function(e,t,r){for(var n,o=!1,i=0,a=(r=C(r,e)).length;i<a;i++){var s=r[i];if(o||!E(e,s))return r.slice(i);i<a-1&&(n=t[s],"$eq"!==x.getKey(n))&&(o=!0)}return[]}(t,r,n),(o=r,i=[],Object.keys(o).forEach(function(t){var e=o[t];Object.keys(e).forEach(function(e){"$ne"===e&&i.push(t)})}),i))),t)}function P(e,t,r){if(t){var n=(a=e,!((i=t).length>a.length)&&y(i,a)),o=y(r,e);return n&&o}var i,a;return function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var o=t[r];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0}(r,e)}var R=["$eq","$gt","$gte","$lt","$lte"];function D(e){return-1===R.indexOf(e)}function M(e,t,r,n){var o,i=e.def.fields.map(x.getKey);return!!P(i,t,r)&&(void 0===(o=n[i[0]])||!!Object.keys(o).some(function(e){return!D(e)})&&!(1===Object.keys(o).length&&"$ne"===x.getKey(o)))}function I(e,t,r,n,o){var i,a,s,u=(i=e,a=t,s=r,n.reduce(function(e,t){return M(t,s,a,i)&&e.push(t),e},[]));if(0===u.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var c=n[0];return c.defaultUsed=!0,c}if(1===u.length&&!o)return u[0];var l=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t}(t);if(o){var f="_design/"+o[0],d=2===o.length&&o[1],h=u.find(function(e){return!(!d||e.ddoc!==f||d!==e.name)||e.ddoc===f});if(!h)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return h}return function(e,t){for(var r=null,n=-1,o=0,i=e.length;o<i;o++){var a=e[o],s=t(a);n<s&&(n=s,r=a)}return r}(u,function(e){for(var t=e.def.fields.map(x.getKey),r=0,n=0,o=t.length;n<o;n++){var i=t[n];l[i]&&r++}return r})}function T(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function L(e,t){return t.defaultUsed?(r=e,{queryOpts:{startkey:null},inMemoryFields:[Object.keys(r)]}):1===t.def.fields.length?(n=e,o=t,a=x.getKey(o.def.fields[0]),s=n[a]||{},u=[],Object.keys(s).forEach(function(e){if(D(e))u.push(a);else{var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}(e,s[e]);i=i?k([i,t]):t}}),{queryOpts:i,inMemoryFields:u}):function(e,t){var r,n,o=t.def.fields.map(x.getKey),i=[],a=[],s=[];function u(e){!1!==r&&a.push(O),!1!==n&&s.push(S),i=o.slice(e)}for(var c=0,l=o.length;c<l;c++){var f=e[o[c]];if(!f||!Object.keys(f).length){u(c);break}if(0<c){if(Object.keys(f).some(D)){u(c);break}var d="$gt"in f||"$gte"in f||"$lt"in f||"$lte"in f,h=Object.keys(e[o[c-1]]),p=j(h,["$eq"]),b=j(h,Object.keys(f));if(d&&!p&&!b){u(c);break}}for(var y=Object.keys(f),v=null,_=0;_<y.length;_++){var m=y[_],g=T(m,f[m]);v=v?k([v,g]):g}a.push("startkey"in v?v.startkey:O),s.push("endkey"in v?v.endkey:S),"inclusive_start"in v&&(r=v.inclusive_start),"inclusive_end"in v&&(n=v.inclusive_end)}var w={startkey:a,endkey:s};return void 0!==r&&(w.inclusive_start=r),void 0!==n&&(w.inclusive_end=n),{queryOpts:w,inMemoryFields:i}}(e,t);var r,n,o,i,a,s,u}function F(e,t){var r,n,o,i,a,s=e.selector,u=e.sort,c=(r=s,n=u,i=Object.keys(r),a=n?n.map(x.getKey):[],o=i.length>=a.length?i:a,0===a.length?{fields:o}:{fields:o=o.sort(function(e,t){var r=a.indexOf(e);-1===r&&(r=Number.MAX_VALUE);var n=a.indexOf(t);return-1===n&&(n=Number.MAX_VALUE),r<n?-1:n<r?1:0}),sortOrder:n.map(x.getKey)}),l=c.fields,f=I(s,l,c.sortOrder,t,e.use_index),d=L(s,f);return{queryOpts:d.queryOpts,index:f,inMemoryFields:A(d.inMemoryFields,f,s,l)}}function q(s,o,u){var e,t;return o.selector&&(o.selector=x.massageSelector(o.selector)),o.sort&&(o.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}(o.sort)),o.use_index&&(o.use_index=(e=o.use_index,t=[],"string"==typeof e?t.push(e):t=e,t.map(function(e){return e.replace("_design/","")}))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(o),w(s).then(function(e){s.constructor.emit("debug",["find","planning query",o]);var r=F(o,e.indexes);s.constructor.emit("debug",["find","query plan",r]);var i=r.index;!function(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(0<r.length)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}t.defaultUsed}(o,i);var t,n,a=l.assign({include_docs:!0,reduce:!1},r.queryOpts);return"startkey"in a&&"endkey"in a&&0<f.collate(a.startkey,a.endkey)?{docs:[]}:(o.sort&&"string"!=typeof o.sort[0]&&"desc"===x.getValue(o.sort[0])&&(a.descending=!0,t=a,delete(n=l.clone(t)).startkey,delete n.endkey,delete n.inclusive_start,delete n.inclusive_end,"endkey"in t&&(n.startkey=t.endkey),"startkey"in t&&(n.endkey=t.startkey),"inclusive_start"in t&&(n.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(n.inclusive_start=t.inclusive_end),a=n),r.inMemoryFields.length||("limit"in o&&(a.limit=o.limit),"skip"in o&&(a.skip=o.skip)),u?c.resolve(r,a):c.resolve().then(function(){if("_all_docs"===i.name)return t=s,r=a,(n=l.clone(r)).descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),t.allDocs(n).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e});var e,t,r,n,o=(e=i).ddoc.substring(8)+"/"+e.name;return _.query.call(s,o,a)}).then(function(e){!1===a.inclusive_start&&(e.rows=function(e,t,r){for(var n=r.def.fields,o=0,i=e.length;o<i;o++){var a=g(e[o].doc,r);if(1===n.length)a=a[0];else for(;a.length>t.length;)a.pop();if(0<Math.abs(f.collate(a,t)))break}return 0<o?e.slice(o):e}(e.rows,a.startkey,i)),r.inMemoryFields.length&&(e.rows=x.filterInMemoryFields(e.rows,o,r.inMemoryFields));var t={docs:e.rows.map(function(e){var t=e.doc;return o.fields?function(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=x.parseField(t[n]),a=x.getFieldFromDoc(e,i);void 0!==a&&x.setFieldInDoc(r,i,a)}return r}(t,o.fields):t})};return i.defaultUsed&&(t.warning="no matching index found, create an index to optimize query time"),t}))})}var B=p(function(t,r){r=h(r);var e,n=l.clone(r.index);function o(){return e||(e=d.stringMd5(JSON.stringify(r)))}r.index=m(r.index),function(e){var t=e.fields.filter(function(e){return"asc"===x.getValue(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(r.index);var i=r.name||"idx-"+o(),a=r.ddoc||"idx-"+o(),s="_design/"+a,u=!1,c=!1;return t.constructor.emit("debug",["find","creating index",s]),l.upsert(t,s,function(e){return e._rev&&"query"!==e.language&&(u=!0),e.language="query",e.views=e.views||{},!(c=!!e.views[i])&&(e.views[i]={map:{fields:k(r.index.fields)},reduce:"_count",options:{def:n}},e)}).then(function(){if(u)throw new Error('invalid language for ddoc with id "'+s+'" (should be "query")')}).then(function(){var e=a+"/"+i;return _.query.call(t,e,{limit:0,reduce:!1}).then(function(){return{id:s,name:i,result:c?"exists":"created"}})})}),N=p(q),$=p(function(t,r){return q(t,r,!0).then(function(e){return{dbname:t.name,index:e.index,selector:r.selector,range:{start_key:e.queryOpts.startkey,end_key:e.queryOpts.endkey},opts:{use_index:r.use_index||[],bookmark:"nil",limit:r.limit,skip:r.skip,sort:r.sort||{},fields:r.fields,conflicts:!1,r:[49]},limit:r.limit,skip:r.skip||0,fields:r.fields}})}),U=p(w),z=p(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,n=t.name;return l.upsert(e,r,function(e){return 1===Object.keys(e.views).length&&e.views[n]?{_id:r,_deleted:!0}:(delete e.views[n],e)}).then(function(){return _.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),V={};V.createIndex=l.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(l.isRemote(this)?r:B)(this,e,t)}),V.find=l.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(l.isRemote(this)?n:N)(this,e,t)}),V.explain=l.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(l.isRemote(this)?o:$)(this,e,t)}),V.getIndexes=l.toPromise(function(e){(l.isRemote(this)?a:U)(this,e)}),V.deleteIndex=l.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(l.isRemote(this)?s:z)(this,e,t)}),J.exports=V}).call(this,G("_process"))},{_process:540,"pouchdb-abstract-mapreduce":514,"pouchdb-collate":522,"pouchdb-md5":533,"pouchdb-promise":535,"pouchdb-selector-core":538,"pouchdb-utils":539}],530:[function(e,t,r){"use strict";var n,c=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,l=e("pouchdb-md5"),f=e("pouchdb-collate");t.exports=function(e,t,r){var n,o=r.doc_ids?r.doc_ids.sort(f.collate):"",i=r.filter?r.filter.toString():"",a="",s="",u="";return r.selector&&(u=JSON.stringify(r.selector)),r.filter&&r.query_params&&(a=JSON.stringify((n=r.query_params,Object.keys(n).sort(f.collate).reduce(function(e,t){return e[t]=n[t],e},{})))),r.filter&&"_view"===r.filter&&(s=r.view.toString()),c.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+i+s+a+o+u;return new c(function(e){l.binaryMd5(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}},{"pouchdb-collate":522,"pouchdb-md5":533,"pouchdb-promise":535}],531:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=(n=e("vuvuzela"))&&"object"==typeof n&&"default"in n?n.default:n;r.safeJsonParse=function(t){try{return JSON.parse(t)}catch(e){return o.parse(t)}},r.safeJsonStringify=function(t){try{return JSON.stringify(t)}catch(e){return o.stringify(t)}}},{vuvuzela:605}],532:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var o=n(e("inherits")),i=e("pouchdb-collections"),a=n(e("argsarray")),s=e("pouchdb-utils");function u(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,u)}catch(e){}}function c(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,c)}catch(e){}}function l(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,l)}catch(e){}}function f(e,t){return t&&e.then(function(e){s.nextTick(function(){t(null,e)})},function(e){s.nextTick(function(){t(e)})}),e}o(u,Error),o(c,Error),o(l,Error),r.uniq=function(e){var t=new i.Set(e),r=new Array(t.size),n=-1;return t.forEach(function(e){r[++n]=e}),r},r.sequentialize=function(r,n){return function(){var e=arguments,t=this;return r.add(function(){return n.apply(t,e)})}},r.fin=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},r.callbackify=function(n){return a(function(e){var t=e.pop(),r=n.apply(this,e);return"function"==typeof t&&f(r,t),r})},r.promisedCallback=f,r.mapToKeysArray=function(e){var r=new Array(e.size),n=-1;return e.forEach(function(e,t){r[++n]=t}),r},r.QueryParseError=u,r.NotFoundError=c,r.BuiltInError=l},{argsarray:39,inherits:504,"pouchdb-collections":523,"pouchdb-utils":539}],533:[function(r,e,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t,d=r("pouchdb-binary-utils"),h=(t=r("spark-md5"))&&"object"==typeof t&&"default"in t?t.default:t,p=e.setImmediate||e.setTimeout,b=32768;function y(t,e,r,n,o){var i,a,s;(0<r||n<e.size)&&(a=r,s=n,e=(i=e).webkitSlice?i.webkitSlice(a,s):i.slice(a,s)),d.readAsArrayBuffer(e,function(e){t.append(e),o()})}function v(e,t,r,n,o){(0<r||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),o()}n.binaryMd5=function(r,n){var e="string"==typeof r,t=e?r.length:r.size,o=Math.min(b,t),i=Math.ceil(t/o),a=0,s=e?new h:new h.ArrayBuffer,u=e?v:y;function c(){p(f)}function l(){var e,t=s.end(!0),r=(e=t,d.btoa(e));n(r),s.destroy()}function f(){var e=a*o,t=e+o;u(s,r,e,t,++a<i?c:l)}f()},n.stringMd5=function(e){return h.hash(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"pouchdb-binary-utils":519,"spark-md5":593}],534:[function(e,t,r){"use strict";function s(e){for(var t,r,n,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,s=a[2],u=o.pos;if(s.length)for(var c=0,l=s.length;c<l;c++)i.push({pos:u+1,ids:s[c]});else{var f=!!a[1].deleted,d=a[0];t&&!(n!==f?n:r!==u?r<u:t<d)||(t=d,r=u,n=f)}}return r+"-"+t}function h(e,t){for(var r,n=e.slice();r=n.pop();)for(var o=r.pos,i=r.ids,a=i[2],s=t(0===a.length,o,i[0],r.ctx,i[1]),u=0,c=a.length;u<c;u++)n.push({pos:o+1,ids:a[u],ctx:s})}function n(e,t){return e.pos-t.pos}function u(e){var i=[];h(e,function(e,t,r,n,o){e&&i.push({rev:t+"-"+r,pos:t,opts:o})}),i.sort(n).reverse();for(var t=0,r=i.length;t<r;t++)delete i[t].pos;return i}function p(e){for(var t,r=[],n=e.slice();t=n.pop();){var o=t.pos,i=t.ids,a=i[0],s=i[1],u=i[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:a,opts:s}),c&&r.push({pos:o+1-l.length,ids:l});for(var f=0,d=u.length;f<d;f++)n.push({pos:o+1,ids:u[f],history:l})}return r.reverse()}function g(e,t){return e.pos-t.pos}function b(e,t){for(var r,n,o=t,i=e.length;o<i;o++){var a=e[o],s=[a.id,a.opts,[]];n?(n[2].push(s),n=s):r=n=s}return r}function y(e,t){return e[0]<t[0]?-1:1}function w(e,t){for(var r,n,o,i=[{tree1:e,tree2:t}],a=!1;0<i.length;){var s=i.pop(),u=s.tree1,c=s.tree2;(u[1].status||c[1].status)&&(u[1].status="available"===u[1].status||"available"===c[1].status?"available":"missing");for(var l=0;l<c[2].length;l++)if(u[2][0]){for(var f=!1,d=0;d<u[2].length;d++)u[2][d][0]===c[2][l][0]&&(i.push({tree1:u[2][d],tree2:c[2][l]}),f=!0);f||(a="new_branch",r=u[2],n=c[2][l],void 0,o=function(e,t,r){for(var n,o=0,i=e.length;o<i;)r(e[n=o+i>>>1],t)<0?o=n+1:i=n;return o}(r,n,y),r.splice(o,0,n))}else a="new_leaf",u[2][0]=c[2][l]}return{conflicts:a,tree:e}}function v(e,t,r){var n,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,u=e.length;s<u;s++){var c=e[s];if(c.pos===t.pos&&c.ids[0]===t.ids[0])n=w(c.ids,t.ids),o.push({pos:c.pos,ids:n.tree}),i=i||n.conflicts,a=!0;else if(!0!==r){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,d=f.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:d,parent:null,parentIdx:null});0<p.length;){var b=p.pop();if(0!==b.diff)for(var y=b.ids[2],v=0,_=y.length;v<_;v++)p.push({ids:y[v],diff:b.diff-1,parent:b.ids,parentIdx:v});else b.ids[0]===f.ids[0]&&h.push(b)}var m=h[0];m?(n=w(m.ids,f.ids),m.parent[2][m.parentIdx]=n.tree,o.push({pos:l.pos,ids:l.ids}),i=i||n.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(t),o.sort(g),{tree:o,conflicts:i||"internal_node"}}function i(e){return e.ids}Object.defineProperty(r,"__esModule",{value:!0}),r.collectConflicts=function(e){for(var t=s(e),r=u(e.rev_tree),n=[],o=0,i=r.length;o<i;o++){var a=r[o];a.rev===t||a.opts.deleted||n.push(a.rev)}return n},r.collectLeaves=u,r.compactTree=function(e){var i=[];return h(e.rev_tree,function(e,t,r,n,o){"available"!==o.status||e||(i.push(t+"-"+r),o.status="missing")}),i},r.isDeleted=function(e,t){t||(t=s(e));for(var r,n=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(i);r=o.pop();){if(r[0]===n)return!!r[1].deleted;o=o.concat(r[2])}},r.isLocalId=function(e){return/^_local/.test(e)},r.merge=function(e,t,r){var n=v(e,t),o=function(e,t){for(var n,r,o=p(e),i=0,a=o.length;i<a;i++){var s,u=o[i],c=u.ids;if(c.length>t){n||(n={});var l=c.length-t;s={pos:u.pos+l,ids:b(c,l)};for(var f=0;f<l;f++){var d=u.pos+f+"-"+c[f].id;n[d]=!0}}else s={pos:u.pos,ids:b(c,0)};r=r?v(r,s,!0).tree:[s]}return n&&h(r,function(e,t,r){delete n[t+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}(n.tree,r);return{tree:o.tree,stemmedRevs:o.revs,conflicts:n.conflicts}},r.revExists=function(e,t){for(var r,n=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];r=n.pop();){if(r.pos===i&&r.ids[0]===a)return!0;for(var s=r.ids[2],u=0,c=s.length;u<c;u++)n.push({pos:r.pos+1,ids:s[u]})}return!1},r.rootToLeaf=p,r.traverseRevTree=h,r.winningRev=s,r.latest=function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var o=r.pos,i=r.ids,a=i[0],s=i[1],u=i[2],c=0===u.length,l=r.history?r.history.slice():[];if(l.push({id:a,pos:o,opts:s}),c)for(var f=0,d=l.length;f<d;f++){var h=l[f];if(h.pos+"-"+h.id===e)return o+"-"+a}for(var p=0,b=u.length;p<b;p++)n.push({pos:o+1,ids:u[p],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}},{}],535:[function(e,t,r){"use strict";var n,o=(n=e("lie"))&&"object"==typeof n&&"default"in n?n.default:n,i="function"==typeof Promise?Promise:o;t.exports=i},{lie:536}],536:[function(e,t,r){"use strict";var o=e("immediate");function c(){}var l={},i=["REJECTED"],a=["FULFILLED"],n=["PENDING"];function s(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,e!==c&&h(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){o(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError("Cannot resolve promise with itself")):l.resolve(t,e)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function o(e){r||(r=!0,l.resolve(t,e))}var i=p(function(){e(o,n)});"error"===i.status&&n(i.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=s).prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===i)return this;var r=new this.constructor(c);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new u(r,e,t));return r},u.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){l.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(d,t);if("error"===r.status)return l.reject(e,r.value);var n=r.value;if(n)h(e,n);else{e.state=a,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},l.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},s.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(c),e)},s.reject=function(e){var t=new this(c);return l.reject(t,e)},s.all=function(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);var i=new Array(n),a=0,t=-1,s=new this(c);for(;++t<n;)u(e[t],t);return s;function u(e,t){r.resolve(e).then(function(e){i[t]=e,++a!==n||o||(o=!0,l.resolve(s,i))},function(e){o||(o=!0,l.reject(s,e))})}},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var o=-1,i=new this(c);for(;++o<r;)a=e[o],t.resolve(a).then(function(e){n||(n=!0,l.resolve(i,e))},function(e){n||(n=!0,l.reject(i,e))});var a;return i}},{immediate:503}],537:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var q=n(e("pouchdb-promise")),B=e("pouchdb-utils"),N=n(e("pouchdb-checkpointer")),$=n(e("pouchdb-generate-replication-id")),U=e("pouchdb-errors"),o=e("events"),i=n(e("inherits"));function s(e){return/^1-/.test(e)}function l(t,r){var e=Object.keys(r._attachments);return q.all(e.map(function(e){return t.getAttachment(r._id,e,{rev:r._rev})}))}function z(n,u,o,i){o=B.clone(o);var a=[],c=!0;function t(e){return n.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t,r;e.deleted||!e.doc||!s(e.value.rev)||(r=e.doc)._attachments&&0<Object.keys(r._attachments).length||(t=e.doc)._conflicts&&0<t._conflicts.length||(e.doc._conflicts&&delete e.doc._conflicts,a.push(e.doc),delete o[e.id])})})}return q.resolve().then(function(){var e=Object.keys(o).filter(function(e){var t=o[e].missing;return 1===t.length&&s(t[0])});if(0<e.length)return t(e)}).then(function(){var e,r,t=(e=o,r=[],Object.keys(e).forEach(function(t){e[t].missing.forEach(function(e){r.push({id:t,rev:e})})}),{docs:r,revs:!0,latest:!0});if(t.docs.length)return n.bulkGet(t).then(function(e){if(i.cancelled)throw new Error("cancelled");return q.all(e.results.map(function(e){return q.all(e.docs.map(function(e){var i,a,s,t,r,o=e.ok;return e.error&&(c=!1),o&&o._attachments?(i=u,a=n,s=o,t=B.isRemote(a)&&!B.isRemote(i),r=Object.keys(s._attachments),t?i.get(s._id).then(function(o){return q.all(r.map(function(e){return r=s,n=e,(t=o)._attachments&&t._attachments[n]&&t._attachments[n].digest===r._attachments[n].digest?i.getAttachment(o._id,e):a.getAttachment(s._id,e);var t,r,n}))}).catch(function(e){if(404!==e.status)throw e;return l(a,s)}):l(a,s)).then(function(e){var n=Object.keys(o._attachments);return e.forEach(function(e,t){var r=o._attachments[n[t]];delete r.stub,delete r.length,r.data=e}),o}):o}))})).then(function(e){a=a.concat(B.flatten(e).filter(Boolean))})})}).then(function(){return{ok:c,docs:a}})}var V=0;function G(n,o,i,a,s){var u,r,c,l=[],f={seq:0,changes:[],docs:[]},d=!1,h=!1,p=!1,b=0,y=i.continuous||i.live||!1,t=i.batch_size||100,v=i.batches_limit||10,_=!1,m=i.doc_ids,g=i.selector,w=[],x=B.uuid(),k=i.seq_interval;s=s||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var j={};function e(){return c?q.resolve():$(n,o,i).then(function(e){r=e;var t={};t=!1===i.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===i.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===i.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new N(n,o,r,a,t)})}function O(){if(w=[],0!==u.docs.length){var r=u.docs,e={timeout:i.timeout};return o.bulkDocs({docs:r,new_edits:!1},e).then(function(e){if(a.cancelled)throw R(),new Error("cancelled");var n=Object.create(null);e.forEach(function(e){e.error&&(n[e.id]=e)});var t=Object.keys(n).length;s.doc_write_failures+=t,s.docs_written+=r.length-t,r.forEach(function(e){var t=n[e._id];if(t){s.errors.push(t);var r=(t.name||"").toLowerCase();if("unauthorized"!==r&&"forbidden"!==r)throw t;a.emit("denied",B.clone(t))}else w.push(e)})},function(e){throw s.doc_write_failures+=r.length,e})}}function S(){if(u.error)throw new Error("There was a problem getting docs.");s.last_seq=b=u.seq;var e=B.clone(s);return w.length&&(e.docs=w,"number"==typeof u.pending&&(e.pending=u.pending,delete u.pending),a.emit("change",e)),d=!0,c.writeCheckpoint(u.seq,x).then(function(){if(d=!1,a.cancelled)throw R(),new Error("cancelled");u=void 0,T()}).catch(function(e){throw F(e),e})}function E(){return z(n,o,u.diffs,a).then(function(e){u.error=!e.ok,e.docs.forEach(function(e){delete u.diffs[e._id],s.docs_read++,u.docs.push(e)})})}function C(){var t;a.cancelled||u||(0!==l.length?(u=l.shift(),(t={},u.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(e){return e.rev}))}),o.revsDiff(t).then(function(e){if(a.cancelled)throw R(),new Error("cancelled");u.diffs=e})).then(E).then(O).then(S).then(C).catch(function(e){P("batch processing terminated with error",e)})):A(!0))}function A(e){0!==f.changes.length?(e||h||f.changes.length>=t)&&(l.push(f),f={seq:0,changes:[],docs:[]},"pending"!==a.state&&"stopped"!==a.state||(a.state="active",a.emit("active")),C()):0!==l.length||u||((y&&j.live||h)&&(a.state="pending",a.emit("paused")),h&&R())}function P(e,t){p||(t.message||(t.message=e),s.ok=!1,s.status="aborting",l=[],f={seq:0,changes:[],docs:[]},R(t))}function R(e){if(!(p||a.cancelled&&(s.status="cancelled",d)))if(s.status=s.status||"complete",s.end_time=new Date,s.last_seq=b,p=!0,e){(e=U.createError(e)).result=s;var t=(e.name||"").toLowerCase();"unauthorized"===t||"forbidden"===t?(a.emit("error",e),a.removeAllListeners()):function(e,t,r,n){if(!1===e.retry)return t.emit("error",r),t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=B.defaultBackOff),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var o=function(){e.current_back_off=V};t.once("paused",function(){t.removeListener("active",o)}),t.once("active",o)}e.current_back_off=e.current_back_off||V,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}(i,a,e,function(){G(n,o,i,a)})}else a.emit("complete",s),a.removeAllListeners()}function D(e,t,r){if(a.cancelled)return R();"number"==typeof t&&(f.pending=t),B.filterChange(i)(e)&&(f.seq=e.seq||r,f.changes.push(e),A(0===l.length&&j.live))}function M(e){if(_=!1,a.cancelled)return R();if(0<e.results.length)j.since=e.last_seq,T(),A(!0);else{var t=function(){y?(j.live=!0,T()):h=!0,A(!0)};u||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,x).then(function(){d=!1,s.last_seq=b=e.last_seq,t()}).catch(F))}}function I(e){if(_=!1,a.cancelled)return R();P("changes rejected",e)}function T(){if(!_&&!h&&l.length<v){_=!0,a._changes&&(a.removeListener("cancel",a._abortChanges),a._changes.cancel()),a.once("cancel",t);var e=n.changes(j).on("change",D);e.then(r,r),e.then(M).catch(I),i.retry&&(a._changes=e,a._abortChanges=t)}function t(){e.cancel()}function r(){a.removeListener("cancel",t)}}function L(){e().then(function(){if(!a.cancelled)return c.getCheckpoint().then(function(e){!(j={since:b=e,limit:t,batch_size:t,style:"all_docs",doc_ids:m,selector:g,return_docs:!0})!==k&&(j.seq_interval=k||t),i.filter&&("string"!=typeof i.filter?j.include_docs=!0:j.filter=i.filter),"heartbeat"in i&&(j.heartbeat=i.heartbeat),"timeout"in i&&(j.timeout=i.timeout),i.query_params&&(j.query_params=i.query_params),i.view&&(j.view=i.view),T()});R()}).catch(function(e){P("getCheckpoint rejected with ",e)})}function F(e){d=!1,P("writeCheckpoint completed with error",e)}a.ready(n,o),a.cancelled?R():(a._addedListeners||(a.once("cancel",R),"function"==typeof i.complete&&(a.once("error",i.complete),a.once("complete",function(e){i.complete(null,e)})),a._addedListeners=!0),void 0===i.since?L():e().then(function(){return d=!0,c.writeCheckpoint(i.since,x)}).then(function(){d=!1,a.cancelled?R():(b=i.since,L())}).catch(F))}function a(){o.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var r=this,n=new q(function(e,t){r.once("complete",e),r.once("error",t)});r.then=function(e,t){return n.then(e,t)},r.catch=function(e){return n.catch(e)},r.catch(function(){})}function u(e,t){var r=t.PouchConstructor;return"string"==typeof e?new r(e,t):e}function m(e,t,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw U.createError(U.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");r.complete=n,(r=B.clone(r)).continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var o=new a(r);return G(u(e,r),u(t,r),r,o),o}function c(e,t,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),(r=B.clone(r)).PouchConstructor=r.PouchConstructor||this,new f(e=u(e,r),t=u(t,r),r,n)}function f(e,t,r,n){var o=this;this.canceled=!1;var i=r.push?B.assign({},r,r.push):r,a=r.pull?B.assign({},r,r.pull):r;function s(e){o.emit("change",{direction:"pull",change:e})}function u(e){o.emit("change",{direction:"push",change:e})}function c(e){o.emit("denied",{direction:"push",doc:e})}function l(e){o.emit("denied",{direction:"pull",doc:e})}function f(){o.pushPaused=!0,o.pullPaused&&o.emit("paused")}function d(){o.pullPaused=!0,o.pushPaused&&o.emit("paused")}function h(){o.pushPaused=!1,o.pullPaused&&o.emit("active",{direction:"push"})}function p(){o.pullPaused=!1,o.pushPaused&&o.emit("active",{direction:"pull"})}this.push=m(e,t,i),this.pull=m(t,e,a),this.pushPaused=!0,this.pullPaused=!0;var b={};function y(r){return function(e,t){("change"===e&&(t===s||t===u)||"denied"===e&&(t===l||t===c)||"paused"===e&&(t===d||t===f)||"active"===e&&(t===p||t===h))&&(e in b||(b[e]={}),b[e][r]=!0,2===Object.keys(b[e]).length&&o.removeAllListeners(e))}}function v(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}r.live&&(this.push.on("complete",o.pull.cancel.bind(o.pull)),this.pull.on("complete",o.push.cancel.bind(o.push))),this.on("newListener",function(e){"change"===e?(v(o.pull,"change",s),v(o.push,"change",u)):"denied"===e?(v(o.pull,"denied",l),v(o.push,"denied",c)):"active"===e?(v(o.pull,"active",p),v(o.push,"active",h)):"paused"===e&&(v(o.pull,"paused",d),v(o.push,"paused",f))}),this.on("removeListener",function(e){"change"===e?(o.pull.removeListener("change",s),o.push.removeListener("change",u)):"denied"===e?(o.pull.removeListener("denied",l),o.push.removeListener("denied",c)):"active"===e?(o.pull.removeListener("active",p),o.push.removeListener("active",h)):"paused"===e&&(o.pull.removeListener("paused",d),o.push.removeListener("paused",f))}),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));var _=q.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return o.emit("complete",t),n&&n(null,t),o.removeAllListeners(),t},function(e){if(o.cancel(),n?n(e):o.emit("error",e),o.removeAllListeners(),n)throw e});this.then=function(e,t){return _.then(e,t)},this.catch=function(e){return _.catch(e)}}i(a,o.EventEmitter),a.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},a.prototype.ready=function(e,t){var r=this;function n(){r.cancel()}r._readyCalled||(r._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),r.once("complete",function(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}))},i(f,o.EventEmitter),f.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},t.exports=function(e){e.replicate=m,e.sync=c,Object.defineProperty(e.prototype,"replicate",{get:function(){var n=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(e,t,r){return n.constructor.replicate(e,n,t,r)},to:function(e,t,r){return n.constructor.replicate(n,e,t,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}},{events:499,inherits:504,"pouchdb-checkpointer":521,"pouchdb-errors":528,"pouchdb-generate-replication-id":530,"pouchdb-promise":535,"pouchdb-utils":539}],538:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("pouchdb-utils"),a=e("pouchdb-collate");function u(e,t){for(var r=e,n=0,o=t.length;n<o;n++){if(!(r=r[t[n]]))break}return r}function c(e,t){return e<t?-1:t<e?1:0}function l(e){for(var t=[],r="",n=0,o=e.length;n<o;n++){var i=e[n];"."===i?0<n&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=i}return t.push(r),t}var n=["$or","$nor","$not"];function f(e){return-1<n.indexOf(e)}function o(e){return Object.keys(e)[0]}function d(e){return e[o(e)]}function h(e){var r={};return e.forEach(function(t){Object.keys(t).forEach(function(e){var a=t[e];if("object"!=typeof a&&(a={$eq:a}),f(e))a instanceof Array?r[e]=a.map(function(e){return h([e])}):r[e]=h([a]);else{var s=r[e]=r[e]||{};Object.keys(a).forEach(function(e){var t,r,n,o,i=a[e];return"$gt"===e||"$gte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t}(e,i,s):"$lt"===e||"$lte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t}(e,i,s):"$ne"===e?(n=i,void("$ne"in(o=s)?o.$ne.push(n):o.$ne=[n])):"$eq"===e?(t=i,delete(r=s).$gt,delete r.$gte,delete r.$lt,delete r.$lte,delete r.$ne,void(r.$eq=t)):void(s[e]=i)})}})}),r}function i(e){var t=s.clone(e),r=!1;"$and"in t&&(t=h(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],o=e[n];"object"==typeof o&&null!==o||(e[n]={$eq:o})}})}),"$not"in t&&(t.$not=h([t.$not]));for(var n=Object.keys(t),o=0;o<n.length;o++){var i=n[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!r&&(a.$ne=[a.$ne]),t[i]=a}return t}function p(e){function i(r){return e.map(function(e){var t=l(o(e));return u(r,t)})}return function(e,t){var r=i(e.doc),n=i(t.doc),o=a.collate(r,n);return 0!==o?o:c(e.doc._id,t.doc._id)}}function b(e,t,r){if(e=e.filter(function(e){return y(e.doc,t.selector,r)}),t.sort){var n=p(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===d(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function y(o,i,e){return e.every(function(e){var t=i[e],r=l(e),n=u(o,r);return f(e)?function(e,t,r){if("$or"===e)return t.some(function(e){return y(r,e,Object.keys(e))});if("$not"===e)return!y(r,t,Object.keys(t));return!t.find(function(e){return y(r,e,Object.keys(e))})}(e,t,o):v(t,o,r,n)})}function v(r,n,o,i){return!r||Object.keys(r).every(function(e){var t=r[e];return function(e,t,r,n,o){if(!w[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return w[e](t,r,n,o)}(e,n,t,o,i)})}function _(e){return null!=e}function m(e){return void 0!==e}function g(t,e){return e.some(function(e){return t instanceof Array?-1<t.indexOf(e):t===e})}var w={$elemMatch:function(t,r,n,e){return!!Array.isArray(e)&&(0!==e.length&&("object"==typeof e[0]?e.some(function(e){return y(e,r,Object.keys(r))}):e.some(function(e){return v(r,t,n,e)})))},$allMatch:function(t,r,n,e){return!!Array.isArray(e)&&(0!==e.length&&("object"==typeof e[0]?e.every(function(e){return y(e,r,Object.keys(r))}):e.every(function(e){return v(r,t,n,e)})))},$eq:function(e,t,r,n){return m(n)&&0===a.collate(n,t)},$gte:function(e,t,r,n){return m(n)&&0<=a.collate(n,t)},$gt:function(e,t,r,n){return m(n)&&0<a.collate(n,t)},$lte:function(e,t,r,n){return m(n)&&a.collate(n,t)<=0},$lt:function(e,t,r,n){return m(n)&&a.collate(n,t)<0},$exists:function(e,t,r,n){return t?m(n):!m(n)},$mod:function(e,t,r,n){return _(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every(function(e){return 0!==a.collate(n,e)})},$in:function(e,t,r,n){return _(n)&&g(n,t)},$nin:function(e,t,r,n){return _(n)&&!g(n,t)},$size:function(e,t,r,n){return _(n)&&(o=t,n.length===o);var o},$all:function(e,t,r,n){return Array.isArray(n)&&(o=n,t.every(function(e){return-1<o.indexOf(e)}));var o},$regex:function(e,t,r,n){return _(n)&&(o=n,new RegExp(t).test(o));var o},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};r.massageSelector=i,r.matchesSelector=function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=b([{doc:e}],{selector:t=i(t)},Object.keys(t));return r&&1===r.length},r.filterInMemoryFields=b,r.createFieldSorter=p,r.rowFilter=y,r.isCombinationalField=f,r.getKey=o,r.getValue=d,r.getFieldFromDoc=u,r.setFieldInDoc=function(e,t,r){for(var n=0,o=t.length;n<o-1;n++)e=e[t[n]]={};e[t[o-1]]=r},r.compare=c,r.parseField=l},{"pouchdb-collate":522,"pouchdb-utils":539}],539:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var o=n(e("argsarray")),s=n(e("pouchdb-promise")),h=e("pouchdb-collections"),u=n(e("immediate")),i=e("events"),a=n(e("inherits")),c=e("pouchdb-errors"),l=n(e("uuid"));function f(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var d=Function.prototype.toString,p=d.call(Object);function b(e){var t,r,n,o;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=b(e[r]);return t}if(e instanceof Date)return e.toISOString();if(o=e,"undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer||"undefined"!=typeof Blob&&o instanceof Blob)return f(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==p}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=b(e[r]);void 0!==i&&(t[r]=i)}return t}function y(t){var r=!1;return o(function(e){if(r)throw new Error("once called more than once");r=!0,t.apply(this,e)})}function v(a){return o(function(o){o=b(o);var i=this,t="function"==typeof o[o.length-1]&&o.pop(),e=new s(function(r,n){var e;try{var t=y(function(e,t){e?n(e):r(t)});o.push(t),(e=a.apply(i,o))&&"function"==typeof e.then&&r(e)}catch(e){n(e)}});return t&&e.then(function(e){t(null,e)},t),e})}function _(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}var m,g=6;function w(e){return e}function x(e){return[{ok:e}]}function k(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}if(k())m=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),m=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){m=!1}function j(){return m}function O(){var t;i.EventEmitter.call(this),this._listeners={},t=this,k()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):j()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function S(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}a(O,i.EventEmitter),O.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var o=this,i=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(o._listeners[t])if(i)i="waiting";else{i=!0;var e=_(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===i&&u(a),i=!1}).on("error",function(){i=!1})}}},O.prototype.removeListener=function(e,t){t in this._listeners&&(i.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},O.prototype.notifyLocalWindows=function(e){k()?chrome.storage.local.set({dbName:e}):j()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},O.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var E="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};var C=function(){}.name?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};function A(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}var P=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],R="queryKey",D=/(?:^|&)([^&=]*)=?([^&]*)/g,M=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function I(c,l,f){return new s(function(s,u){c.get(l,function(e,t){if(e){if(404!==e.status)return u(e);t={}}var r,n,o,i=t._rev,a=f(t);if(!a)return s({updated:!1,rev:i});a._id=l,a._rev=i,s((n=a,o=f,(r=c).put(n).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return I(r,n._id,o)})))})})}var T=l.v4;r.adapterFun=function(i,e){return v(o(function(n){if(this._closed)return s.reject(new Error("database is closed"));if(this._destroyed)return s.reject(new Error("database is destroyed"));var o=this;return function(n,o,e){if(n.constructor.listeners("debug").length){for(var t=["api",n.name,o],r=0;r<e.length-1;r++)t.push(e[r]);n.constructor.emit("debug",t);var i=e[e.length-1];e[e.length-1]=function(e,t){var r=["api",n.name,o];r=r.concat(e?["error",e]:["success",t]),n.constructor.emit("debug",r),i(e,t)}}}(o,i,n),this.taskqueue.isReady?e.apply(this,n):new s(function(t,r){o.taskqueue.addTask(function(e){e?r(e):t(o[i].apply(o,n))})})}))},r.assign=E,r.bulkGetShim=function(o,u,e){var t=u.docs,c=new h.Map;t.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var n=c.size,i=0,l=new Array(n);function f(){var r;++i===n&&(r=[],l.forEach(function(t){t.docs.forEach(function(e){r.push({id:t.id,docs:[e]})})}),e(null,{results:r}))}var r=[];c.forEach(function(e,t){r.push(t)});var a=0;function d(){if(!(a>=r.length)){var n,e=Math.min(a+g,r.length),t=r.slice(a,e);n=a,t.forEach(function(i,e){var a=n+e,t=c.get(i),r=_(t[0],["atts_since","attachments"]);r.open_revs=t.map(function(e){return e.rev}),r.open_revs=r.open_revs.filter(w);var s=w;0===r.open_revs.length&&(delete r.open_revs,s=x),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in u&&(r[e]=u[e])}),o.get(i,r,function(e,t){var r,n,o;r=e?[{error:e}]:s(t),n=i,o=r,l[a]={id:n,docs:o},f(),d()})}),a+=t.length}}d()},r.changesHandler=O,r.clone=b,r.defaultBackOff=function(e){var t,r,n=0;return e||(n=2e3),t=e,r=n,t=parseInt(t,10)||0,(r=parseInt(r,10))!=r||r<=t?r=(t||1)<<1:r+=1,6e5<r&&(t=3e5,r=6e5),~~((r-t)*Math.random()+t)},r.explainError=function(e,t){S("info","The above "+e+" is totally normal. "+t)},r.filterChange=function(n){var o={},i=n.filter&&"function"==typeof n.filter;return o.query=n.query_params,function(e){e.doc||(e.doc={});var t=i&&function(e,t,r){try{return!e(t,r)}catch(e){var n="Filter function threw: "+e.toString();return c.createError(c.BAD_REQUEST,n)}}(n.filter,e.doc,o);if("object"==typeof t)return t;if(t)return!1;if(n.include_docs){if(!n.attachments)for(var r in e.doc._attachments)e.doc._attachments.hasOwnProperty(r)&&(e.doc._attachments[r].stub=!0)}else delete e.doc;return!0}},r.flatten=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t},r.functionName=C,r.guardedConsole=S,r.hasLocalStorage=j,r.invalidIdError=function(e){var t;if(e?"string"!=typeof e?t=c.createError(c.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=c.createError(c.RESERVED_ID)):t=c.createError(c.MISSING_ID),t)throw t},r.isChromeApp=k,r.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},r.isRemote=function(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(S("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())},r.listenerCount=function(e,t){return"listenerCount"in e?e.listenerCount(t):i.EventEmitter.listenerCount(e,t)},r.nextTick=u,r.normalizeDdocFunctionName=function(e){var t=A(e);return t?t.join("/"):null},r.once=y,r.parseDdocFunctionName=A,r.parseUri=function(e){for(var t=M.exec(e),n={},r=14;r--;){var o=P[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[R]={},n[P[12]].replace(D,function(e,t,r){t&&(n[R][t]=r)}),n},r.pick=_,r.rev=function(){return l.v4().replace(/-/g,"").toLowerCase()},r.scopeEval=function(e,t){var r=[],n=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),n.push(t[o]));return r.push(e),Function.apply(null,r).apply(null,n)},r.toPromise=v,r.upsert=I,r.uuid=T},{argsarray:39,events:499,immediate:503,inherits:504,"pouchdb-collections":523,"pouchdb-errors":528,"pouchdb-promise":535,uuid:600}],540:[function(e,t,r){var n,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,l=[],f=!1,d=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var e=u(h);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new b(e,t)),1!==l.length||f||u(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],541:[function(e,t,r){!function(e){var r=function(e,t){return isNaN(t)?void 0:t<1?void 0:function(e,t){for(var r,n="",o=e.length;t--;)n+=e[(r=o,Math.floor(Math.random()*r))];return n}(e,t)};function n(e){e="string"==typeof e&&0<e.length?e:"abcdefghijklmnopqrstuvwxzy0123456789";var t=r.bind(r,e);return t.salt=function(){return e},t.create=n,t.gen=n,t}r.gen=n,t.exports=n()}()},{}],542:[function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&0<=Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime"),i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},{"./runtime":543}],543:[function(e,D,t){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag",a="object"==typeof D,s=e.regeneratorRuntime;if(s)a&&(D.exports=s);else{(s=e.regeneratorRuntime=a?D.exports:{}).wrap=m;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",b={},l={};l[o]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==t&&c.call(v,o)&&(l=v);var _=k.prototype=w.prototype=Object.create(l);x.prototype=_.constructor=k,k.constructor=x,k[i]=x.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(_),e},s.awrap=function(e){return{__await:e}},j(O.prototype),O.prototype[n]=function(){return this},s.AsyncIterator=O,s.async=function(e,t,r,n){var o=new O(m(e,t,r,n));return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},j(_),_[i]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},s.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=c.call(o,"catchLoc"),s=c.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=u),b}}}function m(e,t,r,n){var i,a,s,u,o=t&&t.prototype instanceof w?t:w,c=Object.create(o.prototype),l=new A(n||[]);return c._invoke=(i=e,a=r,s=l,u=f,function(e,t){if(u===h)throw new Error("Generator is already running");if(u===p){if("throw"===e)throw t;return R()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var n=S(r,s);if(n){if(n===b)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===f)throw u=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=h;var o=g(i,a,s);if("normal"===o.type){if(u=s.done?p:d,o.arg===b)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(u=p,s.method="throw",s.arg=o.arg)}}),c}function g(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function w(){}function x(){}function k(){}function j(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(u){var t;this._invoke=function(r,n){function e(){return new Promise(function(e,t){!function t(e,r,n,o){var i=g(u[e],u,r);if("throw"!==i.type){var a=i.arg,s=a.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):Promise.resolve(s).then(function(e){a.value=e,n(a)},o)}o(i.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function S(e,t){var r=e.iterator[t.method];if(r===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,S(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var n=g(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,b;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,b):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(c.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=u,e.done=!0,e};return n.next=n}}return{next:R}}function R(){return{value:u,done:!0}}}(function(){return this}()||Function("return this")())},{}],544:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Subject"),i=e("./util/ObjectUnsubscribedError"),a=function(r){function e(e){r.call(this),this._value=e}return n(e,r),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var t=r.prototype._subscribe.call(this,e);return t&&!t.closed&&e.next(this._value),t},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},e}(o.Subject);r.BehaviorSubject=a},{"./Subject":551,"./util/ObjectUnsubscribedError":576}],545:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(n){function e(e,t,r){n.call(this),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}return o(e,n),e.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},e.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(e("./Subscriber").Subscriber);r.InnerSubscriber=n},{"./Subscriber":553}],546:[function(e,t,r){"use strict";var n=e("./Observable"),o=function(){function t(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},t.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();r.Notification=o},{"./Observable":547}],547:[function(e,t,r){"use strict";var i=e("./util/root"),a=e("./util/toSubscriber"),n=e("./symbol/observable"),o=e("./util/pipe"),s=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,r){var n=this.operator,o=a.toSubscriber(e,t,r);if(n?n.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},r.prototype.forEach=function(n,e){var o=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,t){var r;r=o.subscribe(function(e){if(r)try{n(e)}catch(e){t(e),r.unsubscribe()}else n(e)},t,e)})},r.prototype._subscribe=function(e){return this.source.subscribe(e)},r.prototype[n.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:o.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var n=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,t){var r;n.subscribe(function(e){return r=e},function(e){return t(e)},function(){return e(r)})})},r.create=function(e){return new r(e)},r}();r.Observable=s},{"./symbol/observable":573,"./util/pipe":588,"./util/root":589,"./util/toSubscriber":591}],548:[function(e,t,r){"use strict";r.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},{}],549:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(e("./Subscriber").Subscriber);r.OuterSubscriber=o},{"./Subscriber":553}],550:[function(e,t,r){"use strict";var n=function(){function r(e,t){void 0===t&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},r.now=Date.now?Date.now:function(){return+new Date},r}();r.Scheduler=n},{}],551:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Observable"),i=e("./Subscriber"),a=e("./Subscription"),s=e("./util/ObjectUnsubscribedError"),u=e("./SubjectSubscription"),c=e("./symbol/rxSubscriber"),l=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(i.Subscriber);r.SubjectSubscriber=l;var f=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[c.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},e.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},e.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},e.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},e.create=function(e,t){return new d(e,t)},e}(o.Observable),d=function(r){function e(e,t){r.call(this),this.destination=e,this.source=t}return n(e,r),e.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},e.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},e.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},e.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},e}(r.Subject=f);r.AnonymousSubject=d},{"./Observable":547,"./SubjectSubscription":552,"./Subscriber":553,"./Subscription":554,"./symbol/rxSubscriber":574,"./util/ObjectUnsubscribedError":576}],552:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(r){function e(e,t){r.call(this),this.subject=e,this.subscriber=t,this.closed=!1}return n(e,r),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},e}(e("./Subscription").Subscription);r.SubjectSubscription=o},{"./Subscription":554}],553:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=e("./util/isFunction"),o=e("./Subscription"),u=e("./Observer"),a=e("./symbol/rxSubscriber"),c=function(i){function o(e,t,r){switch(i.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.empty;break;case 1:if(!e){this.destination=u.empty;break}if("object"==typeof e){if((o=e)instanceof c||"syncErrorThrowable"in o&&o[a.rxSubscriber]){var n=e[a.rxSubscriber]();this.syncErrorThrowable=n.syncErrorThrowable,(this.destination=n).add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,r)}var o}return n(o,i),o.prototype[a.rxSubscriber]=function(){return this},o.create=function(e,t,r){var n=new o(e,t,r);return n.syncErrorThrowable=!1,n},o.prototype.next=function(e){this.isStopped||this._next(e)},o.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},o.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},o.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,i.prototype.unsubscribe.call(this))},o.prototype._next=function(e){this.destination.next(e)},o.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},o.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},o.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},o}(o.Subscription),l=function(a){function e(e,t,r,n){var o;a.call(this),this._parentSubscriber=e;var i=this;s.isFunction(t)?o=t:t&&(o=t.next,r=t.error,n=t.complete,t!==u.empty&&(i=Object.create(t),s.isFunction(i.unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=o,this._error=r,this._complete=n}return n(e,a),e.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},e.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?this.__tryOrSetError(t,r):this.__tryOrUnsub(r),this.unsubscribe()}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0}return!1},e.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},e}(r.Subscriber=c)},{"./Observer":548,"./Subscription":554,"./symbol/rxSubscriber":574,"./util/isFunction":583}],554:[function(e,t,r){"use strict";var l=e("./util/isArray"),f=e("./util/isObject"),d=e("./util/isFunction"),h=e("./util/tryCatch"),p=e("./util/errorObject"),b=e("./util/UnsubscriptionError"),n=function(){function n(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var e;return n.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,n=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,s=n?n.length:0;r;)r.remove(this),r=++a<s&&n[a]||null;if(d.isFunction(o))h.tryCatch(o).call(this)===p.errorObject&&(t=!0,e=e||(p.errorObject.e instanceof b.UnsubscriptionError?y(p.errorObject.e.errors):[p.errorObject.e]));if(l.isArray(i))for(a=-1,s=i.length;++a<s;){var u=i[a];if(f.isObject(u))if(h.tryCatch(u.unsubscribe).call(u)===p.errorObject){t=!0,e=e||[];var c=p.errorObject.e;c instanceof b.UnsubscriptionError?e=e.concat(y(c.errors)):e.push(c)}}if(t)throw new b.UnsubscriptionError(e)}},n.prototype.add=function(e){if(!e||e===n.EMPTY)return n.EMPTY;if(e===this)return this;var t=e;switch(typeof e){case"function":t=new n(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){var r=t;(t=new n)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t},n.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},n.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},n.EMPTY=((e=new n).closed=!0,e),n}();function y(e){return e.reduce(function(e,t){return e.concat(t instanceof b.UnsubscriptionError?t.errors:t)},[])}r.Subscription=n},{"./util/UnsubscriptionError":577,"./util/errorObject":578,"./util/isArray":580,"./util/isFunction":583,"./util/isObject":584,"./util/tryCatch":592}],555:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Observable"),a=e("./ScalarObservable"),s=e("./EmptyObservable"),u=e("../util/isScheduler"),i=function(r){function i(e,t){r.call(this),this.array=e,(this.scheduler=t)||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(i,r),i.create=function(e,t){return new i(e,t)},i.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];u.isScheduler(r)?e.pop():r=null;var n=e.length;return 1<n?new i(e,r):1===n?new a.ScalarObservable(e[0],r):new s.EmptyObservable(r)},i.dispatch=function(e){var t=e.array,r=e.index,n=e.count,o=e.subscriber;n<=r?o.complete():(o.next(t[r]),o.closed||(e.index=r+1,this.schedule(e)))},i.prototype._subscribe=function(e){var t=this.array,r=t.length,n=this.scheduler;if(n)return n.schedule(i.dispatch,0,{array:t,index:0,count:r,subscriber:e});for(var o=0;o<r&&!e.closed;o++)e.next(t[o]);e.complete()},i}(o.Observable);r.ArrayObservable=i},{"../Observable":547,"../util/isScheduler":586,"./EmptyObservable":556,"./ScalarObservable":558}],556:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(t){function r(e){t.call(this),this.scheduler=e}return n(r,t),r.create=function(e){return new r(e)},r.dispatch=function(e){e.subscriber.complete()},r.prototype._subscribe=function(e){var t=this.scheduler;if(t)return t.schedule(r.dispatch,0,{subscriber:e});e.complete()},r}(e("../Observable").Observable);r.EmptyObservable=o},{"../Observable":547}],557:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Observable"),i=e("../util/tryCatch"),a=e("../util/isFunction"),s=e("../util/errorObject"),v=e("../Subscription"),_=Object.prototype.toString;var u=function(o){function y(e,t,r,n){o.call(this),this.sourceObj=e,this.eventName=t,this.selector=r,this.options=n}return n(y,o),y.create=function(e,t,r,n){return a.isFunction(r)&&(n=r,r=void 0),new y(e,t,n,r)},y.setupSubscription=function(e,t,r,n,o){var i,a,s,u,c,l;if((l=e)&&"[object NodeList]"===_.call(l)||(c=e)&&"[object HTMLCollection]"===_.call(c))for(var f=0,d=e.length;f<d;f++)y.setupSubscription(e[f],t,r,n,o);else if((u=e)&&"function"==typeof u.addEventListener&&"function"==typeof u.removeEventListener){var h=e;e.addEventListener(t,r,o),i=function(){return h.removeEventListener(t,r,o)}}else if((s=e)&&"function"==typeof s.on&&"function"==typeof s.off){var p=e;e.on(t,r),i=function(){return p.off(t,r)}}else{if(!(a=e)||"function"!=typeof a.addListener||"function"!=typeof a.removeListener)throw new TypeError("Invalid event target");var b=e;e.addListener(t,r),i=function(){return b.removeListener(t,r)}}n.add(new v.Subscription(i))},y.prototype._subscribe=function(n){var e=this.sourceObj,t=this.eventName,r=this.options,o=this.selector;y.setupSubscription(e,t,o?function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=i.tryCatch(o).apply(void 0,e);r===s.errorObject?n.error(s.errorObject.e):n.next(r)}:function(e){return n.next(e)},n,r)},y}(o.Observable);r.FromEventObservable=u},{"../Observable":547,"../Subscription":554,"../util/errorObject":578,"../util/isFunction":583,"../util/tryCatch":592}],558:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(r){function n(e,t){r.call(this),this.value=e,this.scheduler=t,this._isScalar=!0,t&&(this._isScalar=!1)}return o(n,r),n.create=function(e,t){return new n(e,t)},n.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},n.prototype._subscribe=function(e){var t=this.value,r=this.scheduler;if(r)return r.schedule(n.dispatch,0,{done:!1,value:t,subscriber:e});e.next(t),e.closed||e.complete()},n}(e("../Observable").Observable);r.ScalarObservable=n},{"../Observable":547}],559:[function(e,t,r){"use strict";var n=e("./FromEventObservable");r.fromEvent=n.FromEventObservable.create},{"./FromEventObservable":557}],560:[function(e,t,r){"use strict";var i=e("../Observable"),a=e("./ArrayObservable"),s=e("../util/isScheduler"),u=e("../operators/mergeAll");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,o=e[e.length-1];return s.isScheduler(o)?(n=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof i.Observable?e[0]:u.mergeAll(r)(new a.ArrayObservable(e,n))}},{"../Observable":547,"../operators/mergeAll":566,"../util/isScheduler":586,"./ArrayObservable":555}],561:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=e("../scheduler/async"),i=e("../util/isDate"),a=e("../Subscriber"),s=e("../Notification");r.delay=function(e,t){void 0===t&&(t=n.async);var r=i.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(r,t))}};var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.delay,this.scheduler))},e}(),c=function(n){function t(e,t,r){n.call(this,e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return o(t,n),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,o=e.destination;0<r.length&&r[0].time-n.now()<=0;)r.shift().notification.observe(o);if(0<r.length){var i=Math.max(0,r[0].time-n.now());this.schedule(e,i)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new l(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(s.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete())},t}(a.Subscriber),l=function(e,t){this.time=e,this.notification=t}},{"../Notification":546,"../Subscriber":553,"../scheduler/async":571,"../util/isDate":582}],562:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=e("../Subscriber"),i=e("../util/tryCatch"),a=e("../util/errorObject");r.distinctUntilChanged=function(t,r){return function(e){return e.lift(new s(t,r))}};var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))},e}(),u=function(n){function e(e,t,r){n.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}return o(e,n),e.prototype.compare=function(e,t){return e===t},e.prototype._next=function(e){var t=e;if(this.keySelector&&(t=i.tryCatch(this.keySelector)(e))===a.errorObject)return this.destination.error(a.errorObject.e);var r=!1;if(this.hasKey){if((r=i.tryCatch(this.compare)(this.key,t))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},e}(n.Subscriber)},{"../Subscriber":553,"../util/errorObject":578,"../util/tryCatch":592}],563:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=e("../Subscriber");r.filter=function(t,r){return function(e){return e.lift(new i(t,r))}};var i=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(n){function e(e,t,r){n.call(this,e),this.predicate=t,this.thisArg=r,this.count=0}return o(e,n),e.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},e}(n.Subscriber)},{"../Subscriber":553}],564:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Subscriber"),a=e("../util/EmptyError");r.first=function(t,r,n){return function(e){return e.lift(new i(t,r,n,e))}};var i=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),s=function(i){function e(e,t,r,n,o){i.call(this,e),this.predicate=t,this.resultSelector=r,this.defaultValue=n,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(e,i),e.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},e.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},e.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},e.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},e.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},e}(o.Subscriber)},{"../Subscriber":553,"../util/EmptyError":575}],565:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=e("../Subscriber");r.map=function(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new i(t,r))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();r.MapOperator=i;var a=function(n){function e(e,t,r){n.call(this,e),this.project=t,this.count=0,this.thisArg=r||this}return o(e,n),e.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e}(n.Subscriber)},{"../Subscriber":553}],566:[function(e,t,r){"use strict";var n=e("./mergeMap"),o=e("../util/identity");r.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(o.identity,null,e)}},{"../util/identity":579,"./mergeMap":567}],567:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../util/subscribeToResult"),o=e("../OuterSubscriber");r.mergeMap=function(t,r,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(e){return"number"==typeof r&&(n=r,r=null),e.lift(new a(t,r,n))}};var a=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector,this.concurrent))},e}();r.MergeMapOperator=a;var s=function(o){function e(e,t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY),o.call(this,e),this.project=t,this.resultSelector=r,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,o),e.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},e.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},e.prototype._innerSub=function(e,t,r){this.add(i.subscribeToResult(this,e,t,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(e,t,r,n,o){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},e.prototype._notifyResultSelector=function(e,t,r,n){var o;try{o=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(o)},e.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);r.MergeMapSubscriber=s},{"../OuterSubscriber":549,"../util/subscribeToResult":590}],568:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(r){function e(e,t){r.call(this)}return n(e,r),e.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},e}(e("../Subscription").Subscription);r.Action=o},{"../Subscription":554}],569:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../util/root"),i=function(r){function e(e,t){r.call(this,e,t),this.scheduler=e,this.work=t,this.pending=!1}return n(e,r),e.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},e.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),o.root.setInterval(e.flush.bind(e,this),r)},e.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;o.root.clearInterval(t)},e.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},e}(e("./Action").Action);r.AsyncAction=i},{"../util/root":589,"./Action":568}],570:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(e("../Scheduler").Scheduler);r.AsyncScheduler=o},{"../Scheduler":550}],571:[function(e,t,r){"use strict";var n=e("./AsyncAction"),o=e("./AsyncScheduler");r.async=new o.AsyncScheduler(n.AsyncAction)},{"./AsyncAction":569,"./AsyncScheduler":570}],572:[function(e,t,r){"use strict";var n=e("../util/root");function o(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var a=o[i];if("entries"!==a&&"size"!==a&&n.prototype[a]===n.prototype.entries)return a}return"@@iterator"}r.symbolIteratorPonyfill=o,r.iterator=o(n.root),r.$$iterator=r.iterator},{"../util/root":589}],573:[function(e,t,r){"use strict";var n=e("../util/root");function o(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.getSymbolObservable=o,r.observable=o(n.root),r.$$observable=r.observable},{"../util/root":589}],574:[function(e,t,r){"use strict";var n=e("../util/root").root.Symbol;r.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",r.$$rxSubscriber=r.rxSubscriber},{"../util/root":589}],575:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.EmptyError=o},{}],576:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.ObjectUnsubscribedError=o},{}],577:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(r){function e(e){r.call(this),this.errors=e;var t=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=t.name="UnsubscriptionError",this.stack=t.stack,this.message=t.message}return n(e,r),e}(Error);r.UnsubscriptionError=o},{}],578:[function(e,t,r){"use strict";r.errorObject={e:{}}},{}],579:[function(e,t,r){"use strict";r.identity=function(e){return e}},{}],580:[function(e,t,r){"use strict";r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],581:[function(e,t,r){"use strict";r.isArrayLike=function(e){return e&&"number"==typeof e.length}},{}],582:[function(e,t,r){"use strict";r.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},{}],583:[function(e,t,r){"use strict";r.isFunction=function(e){return"function"==typeof e}},{}],584:[function(e,t,r){"use strict";r.isObject=function(e){return null!=e&&"object"==typeof e}},{}],585:[function(e,t,r){"use strict";r.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],586:[function(e,t,r){"use strict";r.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],587:[function(e,t,r){"use strict";r.noop=function(){}},{}],588:[function(e,t,r){"use strict";var n=e("./noop");function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)}:n.noop}r.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)},r.pipeFromArray=o},{"./noop":587}],589:[function(e,t,o){(function(e){"use strict";var t="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,n=t||void 0!==e&&e||r;o.root=n,function(){if(!n)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],590:[function(e,t,r){"use strict";var f=e("./root"),d=e("./isArrayLike"),h=e("./isPromise"),p=e("./isObject"),b=e("../Observable"),y=e("../symbol/iterator"),v=e("../InnerSubscriber"),_=e("../symbol/observable");r.subscribeToResult=function(e,t,r,n){var o=new v.InnerSubscriber(e,r,n);if(o.closed)return null;if(t instanceof b.Observable)return t._isScalar?(o.next(t.value),o.complete(),null):(o.syncErrorThrowable=!0,t.subscribe(o));if(d.isArrayLike(t)){for(var i=0,a=t.length;i<a&&!o.closed;i++)o.next(t[i]);o.closed||o.complete()}else{if(h.isPromise(t))return t.then(function(e){o.closed||(o.next(e),o.complete())},function(e){return o.error(e)}).then(null,function(e){f.root.setTimeout(function(){throw e})}),o;if(t&&"function"==typeof t[y.iterator])for(var s=t[y.iterator]();;){var u=s.next();if(u.done){o.complete();break}if(o.next(u.value),o.closed)break}else if(t&&"function"==typeof t[_.observable]){var c=t[_.observable]();if("function"==typeof c.subscribe)return c.subscribe(new v.InnerSubscriber(e,r,n));o.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var l="You provided "+(p.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";o.error(new TypeError(l))}}return null}},{"../InnerSubscriber":545,"../Observable":547,"../symbol/iterator":572,"../symbol/observable":573,"./isArrayLike":581,"./isObject":584,"./isPromise":585,"./root":589}],591:[function(e,t,r){"use strict";var n=e("../Subscriber"),o=e("../symbol/rxSubscriber"),i=e("../Observer");r.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(i.empty)}},{"../Observer":548,"../Subscriber":553,"../symbol/rxSubscriber":574}],592:[function(e,t,r){"use strict";var n,o=e("./errorObject");function i(){try{return n.apply(this,arguments)}catch(e){return o.errorObject.e=e,o.errorObject}}r.tryCatch=function(e){return n=e,i}},{"./errorObject":578}],593:[function(e,r,n){!function(e){if("object"==typeof n)r.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;try{t=window}catch(e){t=self}t.SparkMD5=e()}}(function(l){"use strict";var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function c(e,t){var r=e[0],n=e[1],o=e[2],i=e[3];n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+t[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+t[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+t[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+t[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+t[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+t[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+t[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+t[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+t[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+t[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+t[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+t[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+t[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+t[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+t[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+t[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+t[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+t[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+t[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+t[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+t[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+t[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+t[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+t[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+t[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+t[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+t[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+t[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+t[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+t[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+t[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+t[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+o|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function f(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function d(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var t,r,n,o,i,a,s=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)c(u,f(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),55<t)for(c(u,n),t=0;t<16;t+=1)n[t]=0;return o=(o=8*s).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,n[14]=i,n[15]=a,c(u,n),u}function r(e){var t,r="";for(t=0;t<4;t+=1)r+=n[e>>8*t+4&15]+n[e>>8*t&15];return r}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=r(e[t]);return e.join("")}function i(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function s(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function u(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==a(o("hello"))&&function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(e,t){var r,n,o,i,a=this.byteLength,s=c(e,a),u=a;return t!==l&&(u=c(t,a)),u<s?new ArrayBuffer(0):(r=u-s,n=new ArrayBuffer(r),o=new Uint8Array(n),i=new Uint8Array(this,s,r),o.set(i),n)}}(),u.prototype.append=function(e){return this.appendBinary(i(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)c(this._hash,f(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),r=a(this._hash),e&&(r=s(r)),this.reset(),r},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var r,n,o,i=t;if(e[i>>2]|=128<<(i%4<<3),55<i)for(c(this._hash,e),i=0;i<16;i+=1)e[i]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=n,e[15]=o,c(this._hash,e)},u.hash=function(e,t){return u.hashBinary(i(e),t)},u.hashBinary=function(e,t){var r=a(o(e));return t?s(r):r},(u.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,r,n,o,i,a=(r=this._buff.buffer,n=e,o=!0,(i=new Uint8Array(r.byteLength+n.byteLength)).set(new Uint8Array(r)),i.set(new Uint8Array(n),r.byteLength),o?i:i.buffer),s=a.length;for(this._length+=e.byteLength,t=64;t<=s;t+=64)c(this._hash,d(a.subarray(t-64,t)));return this._buff=t-64<s?new Uint8Array(a.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n[t]<<(t%4<<3);return this._finish(i,o),r=a(this._hash),e&&(r=s(r)),this.reset(),r},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=e.charCodeAt(r);return t?i:o}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var r=a(function(e){var t,r,n,o,i,a,s=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)c(u,d(e.subarray(t-64,t)));for(r=(e=t-64<s?e.subarray(t-64):new Uint8Array(0)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),55<t)for(c(u,n),t=0;t<16;t+=1)n[t]=0;return o=(o=8*s).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,n[14]=i,n[15]=a,c(u,n),u}(new Uint8Array(e)));return t?s(r):r},u})},{}],594:[function(e,t,r){t.exports={add:function(e){var t={};return"object"==typeof window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("beforeunload",e,!1),t.beforeunload=e),t},remove:function(e,r){Object.keys(r).forEach(function(e){var t=r[e];switch(e){case"beforeunload":window.removeEventListener("beforeunload",t,!1)}})}}},{}],595:[function(e,t,r){var o,n,i,a,s,u;t.exports=(o={node:e("./node.js"),browser:e("./browser.js")},a=i=!(n={}),s=0,u={},n.debug=function(){a=!0},n.add=function(n){s++;var t=function(e,t,r){if(!i)return i=!0,n(e,t,r)},r={};Object.keys(o).forEach(function(e){r[e]=o[e].add(t)});var e=function(){Object.keys(r).forEach(function(e){o[e].remove(t,r[e])}),a&&console.log("unload.stopListening()"),a&&console.dir(u[s])};return e.run=function(){t()},u[s]={fn:n,remove:e,listeners:r},a&&console.log("unload.add()"),a&&console.dir(u[s]),e},n.runAll=function(){i||(i=!0,Object.keys(u).forEach(function(e){u[e].fn()}))},n.removeAll=function(){Object.keys(u).forEach(function(e){u[e].remove()})},n)},{"./browser.js":594,"./node.js":596}],596:[function(e,t,r){(function(n){t.exports={add:function(r){var e={};return"object"==typeof n&&n.on&&"function"==typeof n.on&&(e.beforeExit=function(e){var t=r(e);Promise.resolve(t).then(function(){n.exit()})},n.on("beforeExit",e.beforeExit),e.exit=function(e){var t=r(e);Promise.resolve(t)},n.on("exit",e.exit),e.SIGINT=function(e){var t=r(e);Promise.resolve(t).then(function(){n.exit()})},n.on("SIGINT",e.SIGINT),e.uncaughtException=function(e){var t=r(e);Promise.resolve(t).then(function(){n.exit()})},n.on("uncaughtException",e.uncaughtException)),e},remove:function(e,r){Object.keys(r).forEach(function(e){var t=r[e];switch(e){case"beforeExit":case"SIGINT":case"uncaughtException":case"exit":n.removeListener(e,t)}})}}}).call(this,e("_process"))},{_process:540}],597:[function(e,t,r){arguments[4][504][0].apply(r,arguments)},{dup:504}],598:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],599:[function(d,e,E){(function(n,o){var s=/%[sdj%]/g;E.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(e).replace(s,function(e){if("%%"===e)return"%";if(o<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<o;a=n[++r])_(a)||!l(a)?i+=" "+a:i+=" "+u(a);return i},E.deprecate=function(e,t){if(w(o.process))return function(){return E.deprecate(e,t).apply(this,arguments)};if(!0===n.noDeprecation)return e;var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(t);n.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}};var e,i={};function u(e,t){var r={seen:[],stylize:c};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),v(t)?r.showHidden=t:t&&E._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),h(r,e,r.depth)}function a(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function c(e,t){return e}function h(t,r,n){if(t.customInspect&&r&&O(r.inspect)&&r.inspect!==E.inspect&&(!r.constructor||r.constructor.prototype!==r)){var e=r.inspect(n,t);return g(e)||(e=h(t,e,n)),e}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(v(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}(t,r);if(o)return o;var i,a=Object.keys(r),s=(i={},a.forEach(function(e,t){i[e]=!0}),i);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),j(r)&&(0<=a.indexOf("message")||0<=a.indexOf("description")))return p(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(x(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return t.stylize(Date.prototype.toString.call(r),"date");if(j(r))return p(r)}var c,l="",f=!1,d=["{","}"];(y(r)&&(f=!0,d=["[","]"]),O(r))&&(l=" [Function"+(r.name?": "+r.name:"")+"]");return x(r)&&(l=" "+RegExp.prototype.toString.call(r)),k(r)&&(l=" "+Date.prototype.toUTCString.call(r)),j(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?x(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=f?function(t,r,n,o,e){for(var i=[],a=0,s=r.length;a<s;++a)S(r,String(a))?i.push(b(t,r,n,o,String(a),!0)):i.push("");return e.forEach(function(e){e.match(/^\d+$/)||i.push(b(t,r,n,o,e,!0))}),i}(t,r,n,s,a):a.map(function(e){return b(t,r,n,s,e,f)}),t.seen.pop(),function(e,t,r){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function b(e,t,r,n,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),S(n,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?-1<(s=_(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function w(e){return void 0===e}function x(e){return l(e)&&"[object RegExp]"===t(e)}function l(e){return"object"==typeof e&&null!==e}function k(e){return l(e)&&"[object Date]"===t(e)}function j(e){return l(e)&&("[object Error]"===t(e)||e instanceof Error)}function O(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function r(e){return e<10?"0"+e.toString(10):e.toString(10)}E.debuglog=function(t){if(w(e)&&(e=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!i[t])if(new RegExp("\\b"+t+"\\b","i").test(e)){var r=n.pid;i[t]=function(){var e=E.format.apply(E,arguments);console.error("%s %d: %s",t,r,e)}}else i[t]=function(){};return i[t]},(E.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},E.isArray=y,E.isBoolean=v,E.isNull=_,E.isNullOrUndefined=function(e){return null==e},E.isNumber=m,E.isString=g,E.isSymbol=function(e){return"symbol"==typeof e},E.isUndefined=w,E.isRegExp=x,E.isObject=l,E.isDate=k,E.isError=j,E.isFunction=O,E.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},E.isBuffer=d("./support/isBuffer");var f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}E.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[r(e.getHours()),r(e.getMinutes()),r(e.getSeconds())].join(":"),[e.getDate(),f[e.getMonth()],t].join(" ")),E.format.apply(E,arguments))},E.inherits=d("inherits"),E._extend=function(e,t){if(!t||!l(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,d("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":598,_process:540,inherits:597}],600:[function(e,t,r){var n=e("./v1"),o=e("./v4"),i=o;i.v1=n,i.v4=o,t.exports=i},{"./v1":603,"./v4":604}],601:[function(e,t,r){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);t.exports=function(e,t){var r=t||0,n=o;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},{}],602:[function(e,t,r){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},{}],603:[function(e,t,r){var p,b,y=e("./lib/rng"),v=e("./lib/bytesToUuid"),_=0,m=0;t.exports=function(e,t,r){var n=t&&r||0,o=t||[],i=(e=e||{}).node||p,a=void 0!==e.clockseq?e.clockseq:b;if(null==i||null==a){var s=y();null==i&&(i=p=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=b=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:m+1,l=u-_+(c-m)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||_<u)&&void 0===e.nsecs&&(c=0),1e4<=c)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_=u,b=a;var f=(1e4*(268435455&(u+=122192928e5))+(m=c))%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=255&f;var d=u/4294967296*1e4&268435455;o[n++]=d>>>8&255,o[n++]=255&d,o[n++]=d>>>24&15|16,o[n++]=d>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var h=0;h<6;++h)o[n+h]=i[h];return t||v(o)}},{"./lib/bytesToUuid":601,"./lib/rng":602}],604:[function(e,t,r){var a=e("./lib/rng"),s=e("./lib/bytesToUuid");t.exports=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[n+i]=o[i];return t||s(o)}},{"./lib/bytesToUuid":601,"./lib/rng":602}],605:[function(e,t,r){"use strict";function h(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){o[t.pop()]=e}else t.push(e)}r.stringify=function(e){var t=[];t.push({obj:e});for(var r,n,o,i,a,s,u,c,l,f,d="";r=t.pop();)if(n=r.obj,d+=r.prefix||"",o=r.val||"")d+=o;else if("object"!=typeof n)d+=void 0===n?null:JSON.stringify(n);else if(null===n)d+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),i=n.length-1;0<=i;i--)a=0===i?"":",",t.push({obj:n[i],prefix:a});t.push({val:"["})}else{for(u in s=[],n)n.hasOwnProperty(u)&&s.push(u);for(t.push({val:"}"}),i=s.length-1;0<=i;i--)l=n[c=s[i]],f=0<i?",":"",f+=JSON.stringify(c)+":",t.push({obj:l,prefix:f});t.push({val:"{"})}return d},r.parse=function(e){for(var t,r,n,o,i,a,s,u,c,l=[],f=[],d=0;;)if("}"!==(t=e[d++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,h(null,l,f);break;case"t":d+=3,h(!0,l,f);break;case"f":d+=4,h(!1,l,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",d--;;){if(n=e[d++],!/[\d\.\-e\+]/.test(n)){d--;break}r+=n}h(parseFloat(r),l,f);break;case'"':for(o="",i=void 0,a=0;'"'!==(s=e[d++])||"\\"===i&&a%2==1;)o+=s,"\\"===(i=s)?a++:a=0;h(JSON.parse('"'+o+'"'),l,f);break;case"[":u={element:[],index:l.length},l.push(u.element),f.push(u);break;case"{":c={element:{},index:l.length},l.push(c.element),f.push(c);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();h(l.pop(),l,f)}}},{}],606:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)o.call(r,n)&&(e[n]=r[n])}return e};var o=Object.prototype.hasOwnProperty},{}]},{},[1]);/*websql 6.4.3*/(function(){function k(u,g,c){function p(h,v){if(!g[h]){if(!u[h]){var t="function"==typeof require&&require;if(!v&&t)return t(h,!0);if(l)return l(h,!0);t=Error("Cannot find module '"+h+"'");throw t.code="MODULE_NOT_FOUND",t;}t=g[h]={exports:{}};u[h][0].call(t.exports,function(c){var g=u[h][1][c];return p(g?g:c)},t,t.exports,k,u,g,c)}return g[h].exports}for(var l="function"==typeof require&&require,h=0;h<c.length;h++)p(c[h]);return p}return k})()({1:[function(k,u,g){u.exports=function(c){return function(){var g=arguments.length;if(g){for(var l=[],h=-1;++h<g;)l[h]=arguments[h];return c.call(this,l)}return c.call(this,[])}}},{}],2:[function(k,u,g){(function(c){function g(){A=!0;for(var c,q,f=m.length;f;){q=m;m=[];for(c=-1;++c<f;)q[c]();f=m.length}A=!1}var l=c.MutationObserver||c.WebKitMutationObserver;if(l){var h=0;l=new l(g);var k=c.document.createTextNode("");l.observe(k,{characterData:!0});var v=function(){k.data=h=++h%2}}else if(c.setImmediate||"undefined"===typeof c.MessageChannel)v="document"in c&&"onreadystatechange" in c.document.createElement("script")?function(){var h=c.document.createElement("script");h.onreadystatechange=function(){g();h.onreadystatechange=null;h.parentNode.removeChild(h);h=null};c.document.documentElement.appendChild(h)}:function(){setTimeout(g,0)};else{var t=new c.MessageChannel;t.port1.onmessage=g;v=function(){t.port2.postMessage(0)}}var A,m=[];u.exports=function(c){1!==m.push(c)||A||v()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],3:[function(k,u,g){u.exports="function"===typeof Object.create?function(c,g){c.super_=g;c.prototype=Object.create(g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:function(c,g){c.super_=g;var l=function(){};l.prototype=g.prototype;c.prototype=new l;c.prototype.constructor=c}},{}],4:[function(k,u,g){function c(){}function p(a){if("function"!==typeof a)throw new TypeError("resolver must be a function");this.state=f;this.queue=[];this.outcome=void 0;a!==c&&v(this,a)}function l(a,d,b){this.promise=a;"function"===typeof d&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled);"function"===typeof b&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function h(a,d,b){A(function(){try{var e=d(b)}catch(r){return m.reject(a,r)}e===a?m.reject(a,new TypeError("Cannot resolve promise with itself")):m.resolve(a,e)})}function z(a){var d=a&&a.then;if(a&&("object"===typeof a||"function"===typeof a)&&"function"===typeof d)return function(){d.apply(a,arguments)}}function v(a,d){function b(e){r||(r=!0,m.reject(a,e))}function e(e){r||(r=!0,m.resolve(a,e))}var r=!1,n=t(function(){d(e,b)});"error"===n.status&&b(n.value)}function t(a,d){var b={};try{b.value=a(d),b.status="success"}catch(e){b.status="error",b.value=e}return b}var A=k("immediate"),m={},x=["REJECTED"],q=["FULFILLED"],f=["PENDING"];u.exports=p;p.prototype["catch"]=function(a){return this.then(null,a)};p.prototype.then=function(a,d){if("function"!==typeof a&&this.state===q||"function"!==typeof d&&this.state===x)return this;var b=new this.constructor(c);this.state!==f?h(b,this.state===q?a:d,this.outcome):this.queue.push(new l(b,a,d));return b};l.prototype.callFulfilled=function(a){m.resolve(this.promise,a)};l.prototype.otherCallFulfilled=function(a){h(this.promise,this.onFulfilled,a)};l.prototype.callRejected=function(a){m.reject(this.promise,a)};l.prototype.otherCallRejected=function(a){h(this.promise,this.onRejected,a)};m.resolve=function(a,d){var b=t(z,d);if("error"===b.status)return m.reject(a,b.value);if(b=b.value)v(a,b);else{a.state=q;a.outcome=d;b=-1;for(var e=a.queue.length;++b<e;)a.queue[b].callFulfilled(d)}return a};m.reject=function(a,d){a.state=x;a.outcome=d;for(var b=-1,e=a.queue.length;++b<e;)a.queue[b].callRejected(d);return a};p.resolve=function(a){return a instanceof this?a:m.resolve(new this(c),a)};p.reject=function(a){var d=new this(c);return m.reject(d,a)};p.all=function(a){function d(a,d){b.resolve(a).then(function(a){n[d]=a;++f!==e||r||(r=!0,m.resolve(q,n))},function(a){r||(r=!0,m.reject(q,a))})}var b=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,r=!1;if(!e)return this.resolve([]);for(var n=Array(e),f=0,g=-1,q=new this(c);++g<e;)d(a[g],g);return q};p.race=function(a){function d(a){b.resolve(a).then(function(a){r||(r=!0,m.resolve(f,a))},function(a){r||(r=!0,m.reject(f,a))})}var b=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,r=!1;if(!e)return this.resolve([]);for(var n=-1,f=new this(c);++n<e;)d(a[n]);return f}},{immediate:2}],5:[function(k,u,g){function c(a){return a.reduce(function(a,e){a[e]=!0;return a},{})}function p(a){if(!/^\d+-./.test(a))return x.createError(x.INVALID_REV);var e=a.indexOf("-"),b=a.substring(0,e);a=a.substring(e+1);return{prefix:parseInt(b,10),id:a}}function l(a,d){var r={status:"available"};a._deleted&&(r.deleted=!0);if(d){a._id||(a._id=m.uuid());var f=m.rev();if(a._rev){var n=p(a._rev);if(n.error)return n;a._rev_tree=[{pos:n.prefix,ids:[n.id,{status:"missing"},[[f,r,[]]]]}];var c=n.prefix+1}else a._rev_tree=[{pos:1,ids:[f,r,[]]}],c=1}else{if(a._revisions){f=a._revisions;c=f.start-f.ids.length+1;f=f.ids;n=[f[0],r,[]];for(var g=1,q=f.length;g<q;g++)n=[f[g],{status:"missing"},[n]];a._rev_tree=[{pos:c,ids:n}];c=a._revisions.start;f=a._revisions.ids[0]}if(!a._rev_tree){n=p(a._rev);if(n.error)return n;c=n.prefix;f=n.id;a._rev_tree=[{pos:c,ids:[f,r,[]]}]}}m.invalidIdError(a._id);a._rev=c+"-"+f;r={metadata:{},data:{}};for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){if((c="_"===h[0])&&!b[h])throw r=x.createError(x.DOC_VALIDATION,h),r.message=x.DOC_VALIDATION.message+": "+h,r;c&&!e[h]?r.metadata[h.slice(1)]=a[h]:r.data[h]=a[h]}return r}function h(a,e,b){try{var d=q.atob(a.data)}catch(D){d={error:x.createError(x.BAD_ARG,"Attachment is not a valid base64 string")}}if(d.error)return b(d.error);a.length=d.length;a.data="blob"===e?q.binaryStringToBlobOrBuffer(d,a.content_type):"base64"===e?q.btoa(d):d;f.binaryMd5(d,function(e){a.digest="md5-"+e;b()})}function z(a,e,b){f.binaryMd5(a.data,function(d){a.digest="md5-"+d;a.length=a.data.size||a.data.length||0;"binary"===e?q.blobOrBufferToBinaryString(a.data,function(e){a.data=e;b()}):"base64"===e?q.blobOrBufferToBase64(a.data,function(e){a.data=e;b()}):b()})}function v(a,e,b){if(a.stub)return b();"string"===typeof a.data?h(a,e,b):z(a,e,b)}function t(e,b,d,f,c,g,q,h){if(a.revExists(b.rev_tree,d.metadata.rev))return f[c]=d,g();var r=b.winningRev||a.winningRev(b),n="deleted"in b?b.deleted:a.isDeleted(b,r),m="deleted"in d.metadata?d.metadata.deleted:a.isDeleted(d.metadata),t=/^1-/.test(d.metadata.rev);n&&!m&&h&&t&&(t=d.data,t._rev=r,t._id=d.metadata.id,d=l(t,h));e=a.merge(b.rev_tree,d.metadata.rev_tree[0],e);if(h&&(n&&m&&"new_leaf"!==e.conflicts||!n&&"new_leaf"!==e.conflicts||n&&!m&&"new_branch"===e.conflicts))return d=x.createError(x.REV_CONFLICT),f[c]=d,g();f=d.metadata.rev;d.metadata.rev_tree=e.tree;d.stemmedRevs=e.stemmedRevs||[];b.rev_map&&(d.metadata.rev_map=b.rev_map);b=a.winningRev(d.metadata);h=a.isDeleted(d.metadata,b);n=n===h?0:n<h?-1:1;f=f===b?h:a.isDeleted(d.metadata,f);q(d,b,h,f,!0,n,c,g)}Object.defineProperty(g,"__esModule",{value:!0});var A=function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}(k("pouchdb-promise")),m=k("pouchdb-utils"),x=k("pouchdb-errors"),q=k("pouchdb-binary-utils"),f=k("pouchdb-md5"),a=k("pouchdb-merge"),d=k("pouchdb-collections"),b=c("_id _rev _attachments _deleted _revisions _revs_info _conflicts _deleted_conflicts _local_seq _rev_tree _replication_id _replication_state _replication_state_time _replication_state_reason _replication_stats _removed".split(" ")),e=c("_attachments _replication_id _replication_state _replication_state_time _replication_state_reason _replication_stats".split(" "));g.allDocsKeysQuery=function(a,e){var b={offset:e.skip};return A.all(e.keys.map(function(d){var f=m.assign({key:d,deleted:"ok"},e);["limit","skip","keys"].forEach(function(a){delete f[a]});return new A(function(r,c){a._allDocs(f,function(a,f){if(a)return c(a);e.update_seq&&void 0!==f.update_seq&&(b.update_seq=f.update_seq);b.total_rows=f.total_rows;r(f.rows[0]||{key:d,error:"not_found"})})})})).then(function(a){b.rows=a;return b})};g.invalidIdError=m.invalidIdError;g.isDeleted=a.isDeleted;g.isLocalId=a.isLocalId;g.normalizeDdocFunctionName=m.normalizeDdocFunctionName;g.parseDdocFunctionName=m.parseDdocFunctionName;g.parseDoc=l;g.preprocessAttachments=function(a,e,b){function d(){f++;a.length===f&&(r?b(r):b())}if(!a.length)return b();var f=0,r;a.forEach(function(a){function b(a){r=a;c++;c===f.length&&d()}var f=a.data&&a.data._attachments?Object.keys(a.data._attachments):[],c=0;if(!f.length)return d();for(var n in a.data._attachments)a.data._attachments.hasOwnProperty(n)&&v(a.data._attachments[n],e,b)})};g.processDocs=function(e,b,f,c,g,h,q,m,l){e=e||1E3;var r=m.new_edits,n=new d.Map,p=0,D=b.length;b.forEach(function(e,b){if(e._id&&a.isLocalId(e._id))f[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:g},function(a,e){h[b]=a||e;++p===D&&l&&l()});else{var d=e.metadata.id;n.has(d)?(D--,n.get(d).push([e,b])):n.set(d,[[e,b]])}});n.forEach(function(b,d){function f(){++g<b.length?n():++p===D&&l&&l()}function n(){var n=b[g],w=n[0];n=n[1];if(c.has(d))t(e,c.get(d),w,h,n,f,q,r);else{var l=a.merge([],w.metadata.rev_tree[0],e);w.metadata.rev_tree=l.tree;w.stemmedRevs=l.stemmedRevs||[];l=a.winningRev(w.metadata);var p=a.isDeleted(w.metadata,l);"was_delete"in m&&p?(h[n]=x.createError(x.MISSING_DOC,"deleted"),f()):r&&"missing"===w.metadata.rev_tree[0].ids[1].status?(w=x.createError(x.REV_CONFLICT),h[n]=w,f()):q(w,l,p,p,!1,p?0:1,n,f)}}var g=0;n()})};g.updateDoc=t},{"pouchdb-binary-utils":8,"pouchdb-collections":9,"pouchdb-errors":10,"pouchdb-md5":12,"pouchdb-merge":13,"pouchdb-promise":14,"pouchdb-utils":15}],6:[function(k,u,g){function c(a){return 65>a?a-48:a-55}function p(a,e){if("UTF-8"===e){for(var b=0,d=a.length,f="";b<d;)f+=String.fromCharCode(c(a.charCodeAt(b++))<<4|c(a.charCodeAt(b++)));return decodeURIComponent(escape(f))}b=0;d=a.length;for(f="";b<d;)f+=String.fromCharCode(c(a.charCodeAt(b+2))<<12|c(a.charCodeAt(b+3))<<8|c(a.charCodeAt(b))<<4|c(a.charCodeAt(b+1))),b+=4;return f}function l(a){delete a._id;delete a._rev;return JSON.stringify(a)}function h(a,e,b){a=JSON.parse(a);a._id=e;a._rev=b;return a}function z(a){for(var e="(";a--;)e+="?",a&&(e+=",");return e+")"}function v(a,e,b,d,f){return"SELECT "+a+" FROM "+("string"===typeof e?e:e.join(" JOIN "))+(b?" ON "+b:"")+(d?" WHERE "+("string"===typeof d?d:d.join(" AND ")):"")+(f?" ORDER BY "+f:"")}function t(a,e,b){function d(){++c===a.length&&r()}function r(){if(n.length){var a="SELECT DISTINCT digest AS digest FROM 'attach-seq-store' WHERE seq IN "+z(n.length);b.executeSql(a,n,function(a,e){for(var b=[],d=0;d<e.rows.length;d++)b.push(e.rows.item(d).digest);b.length&&(d="DELETE FROM 'attach-seq-store' WHERE seq IN ("+n.map(function(){return"?"}).join(",")+")",a.executeSql(d,n,function(a){var e="SELECT digest FROM 'attach-seq-store' WHERE digest IN ("+b.map(function(){return"?"}).join(",")+")";a.executeSql(e,b,function(a,e){for(var d=new f.Set,r=0;r<e.rows.length;r++)d.add(e.rows.item(r).digest);b.forEach(function(e){d.has(e)||(a.executeSql("DELETE FROM 'attach-seq-store' WHERE digest=?",[e]),a.executeSql("DELETE FROM 'attach-store' WHERE digest=?",[e]))})})}))})}}if(a.length){var c=0,n=[];a.forEach(function(a){b.executeSql("SELECT seq FROM 'by-sequence' WHERE doc_id=? AND rev=?",[e,a],function(a,e){if(!e.rows.length)return d();var b=e.rows.item(0).seq;n.push(b);a.executeSql("DELETE FROM 'by-sequence' WHERE seq=?",[b],d)})})}}function A(e){return function(b){d.guardedConsole("error","WebSQL threw an error",b);var f=b&&b.constructor.toString().match(/function ([^(]+)/);e(a.createError(a.WSQ_ERROR,b.target||b.message,f&&f[1]||b.type))}}function m(d,c,n,g,h,q,m){function p(){if(H)return m(H);q.notify(g._name);m(null,K)}function C(e,b){y.executeSql("SELECT count(*) as cnt FROM 'attach-store' WHERE digest=?",[e],function(d,f){if(0===f.rows.item(0).cnt){var r=a.createError(a.MISSING_STUB,"unknown stub attachment with digest "+e);b(r)}else b()})}function w(a){var e=[];D.forEach(function(a){a.data&&a.data._attachments&&Object.keys(a.data._attachments).forEach(function(b){b=a.data._attachments[b];b.stub&&e.push(b.digest)})});if(!e.length)return a();var b=0,d;e.forEach(function(f){C(f,function(f){f&&!d&&(d=f);++b===e.length&&a(d)})})}function B(a,b,d,f,c,n,h,q){function E(){function e(a,e){function d(){++f===c.length&&e();return!1}var f=0,c=Object.keys(b._attachments||{});if(!c.length)return e();for(var r=0;r<c.length;r++)y.executeSql("INSERT INTO 'attach-seq-store' (digest, seq) VALUES (?,?)",[b._attachments[c[r]].digest,a],d,d)}var b=a.data,d=f?1:0,c=b._id,r=b._rev,n=l(b);y.executeSql("INSERT INTO 'by-sequence' (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",[c,r,n,d],function(a,b){var d=b.insertId;e(d,function(){p(a,d)})},function(){var a=v("seq","'by-sequence'",null,"doc_id=? AND rev=?");y.executeSql(a,[c,r],function(a,b){var f=b.rows.item(0).seq;a.executeSql("UPDATE 'by-sequence' SET json=?, deleted=? WHERE doc_id=? AND rev=?;",[n,d,c,r],function(a){e(f,function(){p(a,f)})})});return!1})}function w(a){B||(a?(B=a,q(B)):A===C.length&&E())}function m(a){A++;w(a)}function p(d,f){var n=a.metadata.id,E=a.stemmedRevs||[];c&&g.auto_compaction&&(E=e.compactTree(a.metadata).concat(E));E.length&&t(E,n,d);a.metadata.seq=f;var w=a.metadata.rev;delete a.metadata.rev;E=c?"UPDATE 'document-store' SET json=?, max_seq=?, winningseq=(SELECT seq FROM 'by-sequence' WHERE doc_id='document-store'.id AND rev=?) WHERE id=?":"INSERT INTO 'document-store' (id, winningseq, max_seq, json) VALUES (?,?,?,?);";var m=r.safeJsonStringify(a.metadata);d.executeSql(E,c?[m,f,b,n]:[n,f,f,m],function(){K[h]={ok:!0,id:a.metadata.id,rev:w};u.set(n,a.metadata);q()})}var B=null,A=0;a.data._id=a.metadata.id;a.data._rev=a.metadata.rev;var C=Object.keys(a.data._attachments||{});f&&(a.data._deleted=!0);C.forEach(function(e){e=a.data._attachments[e];if(e.stub)A++,w();else{var d=e.data;delete e.data;e.revpos=parseInt(b,10);x(e.digest,d,m)}});C.length||E()}function k(){b.processDocs(d.revs_limit,D,g,u,y,K,B,n)}function F(a){if(!D.length)return a();var e=0;D.forEach(function(d){if(d._id&&b.isLocalId(d._id))++e===D.length&&a();else{var f=d.metadata.id;y.executeSql("SELECT json FROM 'document-store' WHERE id = ?",[f],function(b,d){if(d.rows.length){var c=r.safeJsonParse(d.rows.item(0).json);u.set(f,c)}++e===D.length&&a()})}})}function x(a,e,b){var d="SELECT digest FROM 'attach-store' WHERE digest=?";y.executeSql(d,[a],function(f,c){if(c.rows.length)return b();d="INSERT INTO 'attach-store' (digest, body, escaped) VALUES (?,?,1)";f.executeSql(d,[a,e.replace(/\u0002/g,"\u0002\u0002").replace(/\u0001/g,"\u0001\u0002").replace(/\u0000/g,"\u0001\u0001")],function(){b()},function(){b();return!1})})}var z=n.new_edits,D=c.docs.map(function(a){return a._id&&b.isLocalId(a._id)?a:b.parseDoc(a,z)});c=D.filter(function(a){return a.error});if(c.length)return m(c[0]);var y,K=Array(D.length),u=new f.Map,H;b.preprocessAttachments(D,"binary",function(a){if(a)return m(a);h.transaction(function(a){y=a;w(function(a){a?H=a:F(k)})},A(m),p)})}function x(a){var e=C.get(a.name);if(!e){try{e={db:a.websql(a.name,a.version,a.description,a.size)}}catch(J){e={error:J}}C.set(a.name,e)}return e}function q(a,e,b,f,c){function r(a,r){var h=a._attachments[r];b._getAttachment(a._id,r,h,{binary:e.binary,ctx:f},function(e,b){a._attachments[r]=d.assign(d.pick(h,["digest","content_type"]),{data:b});++g===n.length&&c&&c()})}var n=Object.keys(a._attachments||{});if(!n.length)return c&&c();var g=0;n.forEach(function(b){e.attachments&&e.include_docs?r(a,b):(a._attachments[b].stub=!0,++g===n.length&&c&&c())})}var f=k("pouchdb-collections"),a=k("pouchdb-errors"),d=k("pouchdb-utils"),b=k("pouchdb-adapter-utils"),e=k("pouchdb-merge"),r=k("pouchdb-json"),n=k("pouchdb-binary-utils"),C=new f.Map,F=new d.changesHandler;u.exports=function(f,c){function g(){d.hasLocalStorage()&&(window.localStorage["_pouch__websqldb_"+y._name]=!0);c(null,y)}function C(a,e){a.executeSql("CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON 'document-store' (winningseq)");a.executeSql("ALTER TABLE 'by-sequence' ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){a.executeSql("CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON 'by-sequence' (seq, deleted)");a.executeSql("ALTER TABLE 'document-store' ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){a.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON 'document-store' (local, id)");a.executeSql("SELECT 'document-store'.winningseq AS seq, 'document-store'.json AS metadata FROM 'by-sequence' JOIN 'document-store' ON 'by-sequence'.seq = 'document-store'.winningseq",[],function(a,d){for(var f=[],c=[],r=0;r<d.rows.length;r++){var n=d.rows.item(r),g=n.seq;n=JSON.parse(n.metadata);b.isDeleted(n)&&f.push(g);b.isLocalId(n.id)&&c.push(n.id)}a.executeSql("UPDATE 'document-store'SET local = 1 WHERE id IN "+z(c.length),c,function(){a.executeSql("UPDATE 'by-sequence' SET deleted = 1 WHERE seq IN "+z(f.length),f,e)})})})})}function k(a,e){a.executeSql("CREATE TABLE IF NOT EXISTS 'local-store' (id UNIQUE, rev, json)",[],function(){a.executeSql("SELECT 'document-store'.id AS id, 'by-sequence'.json AS data FROM 'by-sequence' JOIN 'document-store' ON 'by-sequence'.seq = 'document-store'.winningseq WHERE local = 1",[],function(a,b){function d(){if(!f.length)return e(a);var b=f.shift(),c=JSON.parse(b.data)._rev;a.executeSql("INSERT INTO 'local-store' (id, rev, json) VALUES (?,?,?)",[b.id,c,b.data],function(a){a.executeSql("DELETE FROM 'document-store' WHERE id=?",[b.id],function(a){a.executeSql("DELETE FROM 'by-sequence' WHERE seq=?",[b.seq],function(){d()})})})}for(var f=[],c=0;c<b.rows.length;c++)f.push(b.rows.item(c));d()})})}function D(a,e){function b(b){function d(){if(!b.length)return e(a);var f=b.shift();f=p(f.hex,N);var c=f.lastIndexOf("::"),r=f.substring(0,c);c=f.substring(c+2);a.executeSql("UPDATE 'by-sequence' SET doc_id=?, rev=? WHERE doc_id_rev=?",[r,c,f],function(){d()})}d()}a.executeSql("ALTER TABLE 'by-sequence' ADD COLUMN doc_id",[],function(a){a.executeSql("ALTER TABLE 'by-sequence' ADD COLUMN rev",[],function(a){a.executeSql("CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON 'by-sequence' (doc_id, rev)",[],function(a){a.executeSql("SELECT hex(doc_id_rev) as hex FROM 'by-sequence'",[],function(a,e){for(var d=[],f=0;f<e.rows.length;f++)d.push(e.rows.item(f));b(d)})})})})}function u(a,e){function b(a){a.executeSql("SELECT COUNT(*) AS cnt FROM 'attach-store'",[],function(a,b){function d(){var b=v("'by-sequence'.seq AS seq, 'by-sequence'.deleted AS deleted, 'by-sequence'.json AS data, 'by-sequence'.rev AS rev, 'document-store'.json AS metadata, 'document-store'.id AS id",["'document-store'","'by-sequence'"],"'by-sequence'.seq = 'document-store'.winningseq",null,"'document-store'.id ");b+=" LIMIT 10 OFFSET "+f;f+=10;a.executeSql(b,[],function(a,b){function f(a,e){var b=c[a]=c[a]||[];-1===b.indexOf(e)&&b.push(e)}if(!b.rows.length)return e(a);for(var c={},r=0;r<b.rows.length;r++)for(var n=b.rows.item(r),g=h(n.data,n.id,n.rev),q=Object.keys(g._attachments||{}),w=0;w<q.length;w++)f(g._attachments[q[w]].digest,n.seq);var E=[];Object.keys(c).forEach(function(a){c[a].forEach(function(e){E.push([a,e])})});if(!E.length)return d();var m=0;E.forEach(function(e){a.executeSql("INSERT INTO 'attach-seq-store' (digest, seq) VALUES (?,?)",e,function(){++m===E.length&&d()})})})}if(!b.rows.item(0).cnt)return e(a);var f=0;d()})}a.executeSql("CREATE TABLE IF NOT EXISTS 'attach-seq-store' (digest, seq INTEGER)",[],function(a){a.executeSql("CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON 'attach-seq-store' (digest, seq)",[],function(a){a.executeSql("CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON 'attach-seq-store' (seq)",[],b)})})}function H(a,e){a.executeSql("ALTER TABLE 'attach-store' ADD COLUMN escaped TINYINT(1) DEFAULT 0",[],e)}function O(a,e){a.executeSql("ALTER TABLE 'document-store' ADD COLUMN max_seq INTEGER",[],function(a){a.executeSql("UPDATE 'document-store' SET max_seq=(SELECT MAX(seq) FROM 'by-sequence' WHERE doc_id=id)",[],function(a){a.executeSql("CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON 'document-store' (max_seq)",[],e)})})}function w(a,e){a.executeSql('SELECT HEX("a") AS hex',[],function(a,b){N=2===b.rows.item(0).hex.length?"UTF-8":"UTF-16";e()})}function B(){for(;0<U.length;)U.pop()(null,M)}function P(a,e){if(0===e)a.executeSql("CREATE TABLE IF NOT EXISTS 'attach-store' (digest UNIQUE, escaped TINYINT(1), body BLOB)"),a.executeSql("CREATE TABLE IF NOT EXISTS 'local-store' (id UNIQUE, rev, json)"),a.executeSql("CREATE TABLE IF NOT EXISTS 'attach-seq-store' (digest, seq INTEGER)",[],function(){a.executeSql("CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON 'attach-seq-store' (seq)");a.executeSql("CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON 'attach-seq-store' (digest, seq)")}),a.executeSql("CREATE TABLE IF NOT EXISTS 'document-store' (id unique, json, winningseq, max_seq INTEGER UNIQUE)",[],function(){a.executeSql("CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON 'document-store' (winningseq)");a.executeSql("CREATE TABLE IF NOT EXISTS 'by-sequence' (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",[],function(){a.executeSql("CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON 'by-sequence' (seq, deleted)");a.executeSql("CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON 'by-sequence' (doc_id, rev)");a.executeSql("CREATE TABLE IF NOT EXISTS 'metadata-store' (dbid, db_version INTEGER)",[],function(){M=d.uuid();a.executeSql("INSERT INTO 'metadata-store' (db_version, dbid) VALUES (?,?)",[7,M],function(){B()})})})});else{var b=[C,k,D,u,H,O,function(){7>e&&a.executeSql("UPDATE 'metadata-store' SET db_version = 7");a.executeSql("SELECT dbid FROM 'metadata-store'",[],function(a,e){M=e.rows.item(0).dbid;B()})}],f=e,c=function(a){b[f-1](a,c);f++};c(a)}}function X(a){a.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = 'metadata-store'",[],function(a,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?a.executeSql("SELECT db_version FROM 'metadata-store'",[],function(a,e){var b=e.rows.item(0).db_version;P(a,b)}):a.executeSql("ALTER TABLE 'metadata-store' ADD COLUMN db_version INTEGER",[],function(){P(a,1)}):P(a,0)})}function S(a,e){a.executeSql("SELECT MAX(seq) AS seq FROM 'by-sequence'",[],function(a,b){var d=b.rows.item(0).seq||0;e(d)})}function T(a,e){var b=v("COUNT('document-store'.id) AS 'num'",["'document-store'","'by-sequence'"],"'by-sequence'.seq = 'document-store'.winningseq","'by-sequence'.deleted=0");a.executeSql(b,[],function(a,b){e(b.rows.item(0).num)})}function Q(b,d,f,c,n){var g=v("'by-sequence'.seq AS seq, 'by-sequence'.deleted AS deleted, 'by-sequence'.json AS data, 'by-sequence'.rev AS rev, 'document-store'.json AS metadata",["'document-store'","'by-sequence'"],"'by-sequence'.seq = 'document-store'.winningseq","'document-store'.id=?");b.executeSql(g,[d],function(b,d){if(!d.rows.length){var g=a.createError(a.MISSING_DOC,"missing");return n(g)}g=d.rows.item(0);g=r.safeJsonParse(g.metadata);c(e.latest(f,g))})}var y=this,M=null,I="size"in f?1E6*f.size:"undefined"!==typeof navigator&&/Android/.test(navigator.userAgent)?5E6:1,U=[],N;y._name=f.name;I=d.assign({},f,{version:1,description:f.name,size:I});I=x(I);if(I.error)return A(c)(I.error);var G=I.db;"function"!==typeof G.readTransaction&&(G.readTransaction=G.transaction);(function(){G.transaction(function(a){w(a,function(){X(a)})},A(c),g)})();y._remote=!1;y.type=function(){return"websql"};y._id=d.toPromise(function(a){a(null,M)});y._info=function(a){var e,b;G.readTransaction(function(a){S(a,function(a){e=a});T(a,function(a){b=a})},A(a),function(){a(null,{doc_count:b,update_seq:e,websql_encoding:N})})};y._bulkDocs=function(a,e,b){m(f,a,e,y,G,F,b)};y._get=function(e,b,f){function c(a){f(a,{doc:n,metadata:g,ctx:q})}var n,g,q=b.ctx;if(!q)return G.readTransaction(function(a){y._get(e,d.assign({ctx:a},b),f)});if(b.rev){if(b.latest){Q(q,e,b.rev,function(a){b.latest=!1;b.rev=a;y._get(e,b,f)},c);return}var w=v("'by-sequence'.seq AS seq, 'by-sequence'.deleted AS deleted, 'by-sequence'.json AS data, 'by-sequence'.rev AS rev, 'document-store'.json AS metadata",["'document-store'","'by-sequence'"],"'document-store'.id='by-sequence'.doc_id",["'by-sequence'.doc_id=?","'by-sequence'.rev=?"]);var m=[e,b.rev]}else w=v("'by-sequence'.seq AS seq, 'by-sequence'.deleted AS deleted, 'by-sequence'.json AS data, 'by-sequence'.rev AS rev, 'document-store'.json AS metadata",["'document-store'","'by-sequence'"],"'by-sequence'.seq = 'document-store'.winningseq","'document-store'.id=?"),m=[e];q.executeSql(w,m,function(e,d){if(!d.rows.length){var f=a.createError(a.MISSING_DOC,"missing");return c(f)}f=d.rows.item(0);g=r.safeJsonParse(f.metadata);if(f.deleted&&!b.rev)return f=a.createError(a.MISSING_DOC,"deleted"),c(f);n=h(f.data,g.id,f.rev);c()})};y._allDocs=function(a,b){var d=[],f,c,n="startkey"in a?a.startkey:!1,g="endkey"in a?a.endkey:!1,w="key"in a?a.key:!1,m="keys"in a?a.keys:!1,l="descending"in a?a.descending:!1,p="limit"in a?a.limit:-1,t="skip"in a?a.skip:0,C=!1!==a.inclusive_end,B=[],k=[];if(m){var F=[],E="";m.forEach(function(a){-1===F.indexOf(a)&&(F.push(a),E+="?,")});E=E.substring(0,E.length-1);k.push("'document-store'.id IN ("+E+")");B=B.concat(F)}else if(!1!==w)k.push("'document-store'.id = ?"),B.push(w);else if(!1!==n||!1!==g)!1!==n&&(k.push("'document-store'.id "+(l?"<=":">=")+" ?"),B.push(n)),!1!==g&&(n=l?">":"<",C&&(n+="="),k.push("'document-store'.id "+n+" ?"),B.push(g)),!1!==w&&(k.push("'document-store'.id = ?"),B.push(w));m||k.push("'by-sequence'.deleted = 0");G.readTransaction(function(b){T(b,function(a){f=a});a.update_seq&&S(b,function(a){c=a});if(0!==p){var n=v("'by-sequence'.seq AS seq, 'by-sequence'.deleted AS deleted, 'by-sequence'.json AS data, 'by-sequence'.rev AS rev, 'document-store'.json AS metadata",["'document-store'","'by-sequence'"],"'by-sequence'.seq = 'document-store'.winningseq",k,"'document-store'.id "+(l?"DESC":"ASC"));n+=" LIMIT "+p+" OFFSET "+t;b.executeSql(n,B,function(b,f){for(var c=0,n=f.rows.length;c<n;c++){var g=f.rows.item(c),w=r.safeJsonParse(g.metadata),l=w.id,p=h(g.data,l,g.rev),t=p._rev,B={id:l,key:l,value:{rev:t}};a.include_docs&&(B.doc=p,B.doc._rev=t,a.conflicts&&(w=e.collectConflicts(w),w.length&&(B.doc._conflicts=w)),q(B.doc,a,y,b));if(g.deleted)if(m)B.value.deleted=!0,B.doc=null;else continue;if(m){var C=m.indexOf(l,C);do d[C]=B,C=m.indexOf(l,C+1);while(-1<C&&C<m.length)}else d.push(B)}m&&m.forEach(function(a,e){d[e]||(d[e]={key:a,error:"not_found"})})})}},A(b),function(){var e={total_rows:f,offset:a.skip,rows:d};a.update_seq&&(e.update_seq=c);b(null,e)})};y._changes=function(a){a=d.clone(a);if(a.continuous){var e=y._name+":"+d.uuid();F.addListener(y._name,e,y,a);F.notify(y._name);return{cancel:function(){F.removeListener(y._name,e)}}}var b=a.descending;a.since=a.since&&!b?a.since:0;var f="limit"in a?a.limit:-1;0===f&&(f=1);var c="return_docs"in a?a.return_docs:"returnDocs"in a?a.returnDocs:!0;var n=[],g=0;(function(){var e=["maxSeq > ?"],w=[a.since];a.doc_ids&&(e.push("'document-store'.id IN "+z(a.doc_ids.length)),w=w.concat(a.doc_ids));var m=v("'document-store'.json AS metadata, 'document-store'.max_seq AS maxSeq, 'by-sequence'.json AS winningDoc, 'by-sequence'.rev AS winningRev ","'document-store' JOIN 'by-sequence'","'document-store'.id='by-sequence'.doc_id AND 'document-store'.winningseq='by-sequence'.seq",e,"maxSeq "+(b?"DESC":"ASC")),l=d.filterChange(a);a.view||a.filter||(m+=" LIMIT "+f);var p=a.since||0;G.readTransaction(function(e){e.executeSql(m,w,function(e,b){function d(e){return function(){a.onChange(e)}}for(var w=0,m=b.rows.length;w<m;w++){var t=b.rows.item(w),B=r.safeJsonParse(t.metadata);p=t.maxSeq;var C=h(t.winningDoc,B.id,t.winningRev);B=a.processChange(C,B,a);B.seq=t.maxSeq;t=l(B);if("object"===typeof t)return a.complete(t);t&&(g++,c&&n.push(B),a.attachments&&a.include_docs?q(C,a,y,e,d(B)):d(B)());if(g===f)break}})},A(a.complete),function(){a.continuous||a.complete(null,{results:n,last_seq:p})})})()};y._close=function(a){a()};y._getAttachment=function(a,e,b,d,f){var c,r=b.content_type;d.ctx.executeSql("SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM 'attach-store' WHERE digest=?",[b.digest],function(a,e){var b=e.rows.item(0);b=b.escaped?b.body.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"\u0001").replace(/\u0002\u0002/g,"\u0002"):p(b.body,N);c=d.binary?n.binaryStringToBlobOrBuffer(b,r):n.btoa(b);f(null,c)})};y._getRevisionTree=function(e,b){G.readTransaction(function(d){d.executeSql("SELECT json AS metadata FROM 'document-store' WHERE id = ?",[e],function(e,d){if(d.rows.length){var f=r.safeJsonParse(d.rows.item(0).metadata);b(null,f.rev_tree)}else b(a.createError(a.MISSING_DOC))})})};y._doCompaction=function(a,b,d){if(!b.length)return d();G.transaction(function(d){d.executeSql("SELECT json AS metadata FROM 'document-store' WHERE id = ?",[a],function(d,f){var c=r.safeJsonParse(f.rows.item(0).metadata);e.traverseRevTree(c.rev_tree,function(a,e,d,f,c){-1!==b.indexOf(e+"-"+d)&&(c.status="missing")});d.executeSql("UPDATE 'document-store' SET json = ? WHERE id = ?",[r.safeJsonStringify(c),a])});t(b,a,d)},A(d),function(){d()})};y._getLocal=function(e,b){G.readTransaction(function(d){d.executeSql("SELECT json, rev FROM 'local-store' WHERE id=?",[e],function(d,f){if(f.rows.length){var c=f.rows.item(0);c=h(c.json,e,c.rev);b(null,c)}else b(a.createError(a.MISSING_DOC))})})};y._putLocal=function(e,b,d){function f(e){if(c){var f="UPDATE 'local-store' SET rev=?, json=? WHERE id=? AND rev=?";var q=[r,g,n,c]}else f="INSERT INTO 'local-store' (id, rev, json) VALUES (?,?,?)",q=[n,r,g];e.executeSql(f,q,function(e,f){f.rowsAffected?(w={ok:!0,id:n,rev:r},b.ctx&&d(null,w)):d(a.createError(a.REV_CONFLICT))},function(){d(a.createError(a.REV_CONFLICT));return!1})}"function"===typeof b&&(d=b,b={});delete e._revisions;var c=e._rev,n=e._id;var r=c?e._rev="0-"+(parseInt(c.split("-")[1],10)+1):e._rev="0-1";var g=l(e),w;b.ctx?f(b.ctx):G.transaction(f,A(d),function(){w&&d(null,w)})};y._removeLocal=function(e,b,d){function f(f){f.executeSql("DELETE FROM 'local-store' WHERE id=? AND rev=?",[e._id,e._rev],function(f,n){if(!n.rowsAffected)return d(a.createError(a.MISSING_DOC));c={ok:!0,id:e._id,rev:"0-0"};b.ctx&&d(null,c)})}"function"===typeof b&&(d=b,b={});var c;b.ctx?f(b.ctx):G.transaction(f,A(d),function(){c&&d(null,c)})};y._destroy=function(a,e){F.removeAllListeners(y._name);G.transaction(function(a){"'document-store' 'by-sequence' 'attach-store' 'metadata-store' 'local-store' 'attach-seq-store'".split(" ").forEach(function(e){a.executeSql("DROP TABLE IF EXISTS "+e,[])})},A(e),function(){d.hasLocalStorage()&&(delete window.localStorage["_pouch__websqldb_"+y._name],delete window.localStorage[y._name]);e(null,{ok:!0})})}}},{"pouchdb-adapter-utils":5,"pouchdb-binary-utils":8,"pouchdb-collections":9,"pouchdb-errors":10,"pouchdb-json":11,"pouchdb-merge":13,"pouchdb-utils":15}],7:[function(k,u,g){function c(){if("undefined"===typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var c=h.hasLocalStorage(),g="_pouch__websqldb_valid_"+navigator.userAgent;if(c&&localStorage[g])return"1"===localStorage[g];try{openDatabase("_pouch_validate_websql",1,"",1);var l=!0}catch(m){l=!1}c&&(localStorage[g]=l?"1":"0");return l}function p(c,g,h,m){return openDatabase(c,g,h,m)}function l(c,g){h.guardedConsole("warn","WebSQL is deprecated and will be removed in future releases of PouchDB. Please migrate to IndexedDB: https://pouchdb.com/2018/01/23/pouchdb-6.4.2.html");var l=h.assign({websql:p},c);z.call(this,l,g)}var h=k("pouchdb-utils"),z=function(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}(k("pouchdb-adapter-websql-core"));l.valid=function(){return"function"!==typeof openDatabase?!1:c()};l.use_prefix=!0;u.exports=function(c){c.adapter("websql",l,!0)}},{"pouchdb-adapter-websql-core":6,"pouchdb-utils":15}],8:[function(k,u,g){function c(c,g){c=c||[];g=g||{};try{return new Blob(c,g)}catch(q){if("TypeError"!==q.name)throw q;for(var h=new ("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),l=0;l<c.length;l+=1)h.append(c[l]);return h.getBlob(g.type)}}function p(c){for(var g=c.length,h=new ArrayBuffer(g),l=new Uint8Array(h),q=0;q<g;q++)l[q]=c.charCodeAt(q);return h}function l(g,h){return c([p(g)],{type:h})}function h(c){var g="";c=new Uint8Array(c);for(var h=c.byteLength,l=0;l<h;l++)g+=String.fromCharCode(c[l]);return g}function z(c,g){if("undefined"===typeof FileReader)return g(h((new FileReaderSync).readAsArrayBuffer(c)));var l=new FileReader,p="function"===typeof l.readAsBinaryString;l.onloadend=function(c){c=c.target.result||"";if(p)return g(c);g(h(c))};p?l.readAsBinaryString(c):l.readAsArrayBuffer(c)}function v(c,g){z(c,function(c){g(c)})}Object.defineProperty(g,"__esModule",{value:!0});g.atob=function(c){return atob(c)};g.btoa=function(c){return btoa(c)};g.base64StringToBlobOrBuffer=function(c,g){return l(atob(c),g)};g.binaryStringToArrayBuffer=p;g.binaryStringToBlobOrBuffer=l;g.blob=c;g.blobOrBufferToBase64=function(c,g){v(c,function(c){g(btoa(c))})};g.blobOrBufferToBinaryString=v;g.readAsArrayBuffer=function(c,g){if("undefined"===typeof FileReader)return g((new FileReaderSync).readAsArrayBuffer(c));var h=new FileReader;h.onloadend=function(c){c=c.target.result||new ArrayBuffer(0);g(c)};h.readAsArrayBuffer(c)};g.readAsBinaryString=z;g.typedBuffer=function(){}},{}],9:[function(k,u,g){function c(){this._store={}}function p(g){this._store=new c;if(g&&Array.isArray(g))for(var h=0,l=g.length;h<l;h++)this.add(g[h])}Object.defineProperty(g,"__esModule",{value:!0});c.prototype.get=function(c){return this._store["$"+c]};c.prototype.set=function(c,g){this._store["$"+c]=g;return!0};c.prototype.has=function(c){return"$"+c in this._store};c.prototype["delete"]=function(c){c="$"+c;var g=c in this._store;delete this._store[c];return g};c.prototype.forEach=function(c){for(var g=Object.keys(this._store),l=0,p=g.length;l<p;l++){var k=g[l],A=this._store[k];k=k.substring(1);c(A,k)}};Object.defineProperty(c.prototype,"size",{get:function(){return Object.keys(this._store).length}});p.prototype.add=function(c){return this._store.set(c,!0)};p.prototype.has=function(c){return this._store.has(c)};p.prototype.forEach=function(c){this._store.forEach(function(g,l){c(l)})};Object.defineProperty(p.prototype,"size",{get:function(){return this._store.size}});(function(){if("undefined"===typeof Symbol||"undefined"===typeof Map||"undefined"===typeof Set)return!1;var c=Object.getOwnPropertyDescriptor(Map,Symbol.species);return c&&"get"in c&&Map[Symbol.species]===Map})()?(g.Set=Set,g.Map=Map):(g.Set=p,g.Map=c)},{}],10:[function(k,u,g){function c(a,e,b){Error.call(this,b);this.status=a;this.name=e;this.message=b;this.error=!0}Object.defineProperty(g,"__esModule",{value:!0});(function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a})(k("inherits"))(c,Error);c.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};k=new c(401,"unauthorized","Name or password is incorrect.");u=new c(400,"bad_request","Missing JSON list of 'docs'");var p=new c(404,"not_found","missing"),l=new c(409,"conflict","Document update conflict"),h=new c(400,"bad_request","_id field must contain a string"),z=new c(412,"missing_id","_id is required for puts"),v=new c(400,"bad_request","Only reserved document ids may start with underscore."),t=new c(412,"precondition_failed","Database not open"),A=new c(500,"unknown_error","Database encountered an unknown error"),m=new c(500,"badarg","Some query argument is invalid"),x=new c(400,"invalid_request","Request was invalid"),q=new c(400,"query_parse_error","Some query parameter is invalid"),f=new c(500,"doc_validation","Bad special document member"),a=new c(400,"bad_request","Something wrong with the request"),d=new c(400,"bad_request","Document must be a JSON object"),b=new c(404,"not_found","Database not found"),e=new c(500,"indexed_db_went_bad","unknown"),r=new c(500,"web_sql_went_bad","unknown"),n=new c(500,"levelDB_went_went_bad","unknown"),C=new c(403,"forbidden","Forbidden by design doc validate_doc_update function"),F=new c(400,"bad_request","Invalid rev format"),D=new c(412,"file_exists","The database could not be created, the file already exists."),H=new c(412,"missing_stub","A pre-existing attachment stub wasn't found"),J=new c(413,"invalid_url","Provided URL is invalid");g.UNAUTHORIZED=k;g.MISSING_BULK_DOCS=u;g.MISSING_DOC=p;g.REV_CONFLICT=l;g.INVALID_ID=h;g.MISSING_ID=z;g.RESERVED_ID=v;g.NOT_OPEN=t;g.UNKNOWN_ERROR=A;g.BAD_ARG=m;g.INVALID_REQUEST=x;g.QUERY_PARSE_ERROR=q;g.DOC_VALIDATION=f;g.BAD_REQUEST=a;g.NOT_AN_OBJECT=d;g.DB_MISSING=b;g.WSQ_ERROR=r;g.LDB_ERROR=n;g.FORBIDDEN=C;g.INVALID_REV=F;g.FILE_EXISTS=D;g.MISSING_STUB=H;g.IDB_ERROR=e;g.INVALID_URL=J;g.createError=function(a,e){function b(e){for(var b in a)"function"!==typeof a[b]&&(this[b]=a[b]);void 0!==e&&(this.reason=e)}b.prototype=c.prototype;return new b(e)};g.generateErrorFromResponse=function(a){if("object"!==typeof a){var e=a;a=A;a.data=e}"error"in a&&"conflict"===a.error&&(a.name="conflict",a.status=409);"name"in a||(a.name=a.error||"unknown");"status"in a||(a.status=500);"message"in a||(a.message=a.message||a.reason);return a}},{inherits:3}],11:[function(k,u,g){Object.defineProperty(g,"__esModule",{value:!0});var c=function(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}(k("vuvuzela"));g.safeJsonParse=function(g){try{return JSON.parse(g)}catch(l){return c.parse(g)}};g.safeJsonStringify=function(g){try{return JSON.stringify(g)}catch(l){return c.stringify(g)}}},{vuvuzela:22}],12:[function(k,u,g){(function(c){function p(c,g,h){return c.webkitSlice?c.webkitSlice(g,h):c.slice(g,h)}function l(c,g,h,q,f){if(0<h||q<g.size)g=p(g,h,q);z.readAsArrayBuffer(g,function(a){c.append(a);f()})}function h(c,g,h,q,f){if(0<h||q<g.length)g=g.substring(h,q);c.appendBinary(g);f()}Object.defineProperty(g,"__esModule",{value:!0});var z=k("pouchdb-binary-utils"),v=function(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}(k("spark-md5")),t=c.setImmediate||c.setTimeout;g.binaryMd5=function(c,g){function m(){t(f)}function q(){var a=n.end(!0);a=z.btoa(a);g(a);n.destroy()}function f(){var a=r*b,d=a+b;r++;r<e?p(n,c,a,d,m):p(n,c,a,d,q)}var a="string"===typeof c,d=a?c.length:c.size,b=Math.min(32768,d),e=Math.ceil(d/b),r=0,n=a?new v:new v.ArrayBuffer,p=a?h:l;f()};g.stringMd5=function(c){return v.hash(c)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"pouchdb-binary-utils":8,"spark-md5":16}],13:[function(k,u,g){function c(a){a=a.rev_tree.slice();for(var d;d=a.pop();){var b=d.ids,e=b[2];d=d.pos;if(e.length){b=0;for(var c=e.length;b<c;b++)a.push({pos:d+1,ids:e[b]})}else if(e=!!b[1].deleted,b=b[0],!f||(h!==e?h:g!==d?g<d:f<b)){var f=b;var g=d;var h=e}}return g+"-"+f}function p(a,d){for(var b=a.slice(),e;e=b.pop();){var c=e.pos,f=e.ids,g=f[2];e=d(0===g.length,c,f[0],e.ctx,f[1]);f=0;for(var h=g.length;f<h;f++)b.push({pos:c+1,ids:g[f],ctx:e})}}function l(a,d){return a.pos-d.pos}function h(a){var d=[];p(a,function(a,b,c,f,g){a&&d.push({rev:b+"-"+c,pos:b,opts:g})});d.sort(l).reverse();a=0;for(var b=d.length;a<b;a++)delete d[a].pos;return d}function z(a){var d=[];a=a.slice();for(var b;b=a.pop();){var e=b.pos,c=b.ids,f=c[0],g=c[1];c=c[2];var h=0===c.length;b=b.history?b.history.slice():[];b.push({id:f,opts:g});h&&d.push({pos:e+1-b.length,ids:b});f=0;for(g=c.length;f<g;f++)a.push({pos:e+1,ids:c[f],history:b})}return d.reverse()}function v(a,d){return a.pos-d.pos}function t(a,d){for(var b,e,c=d,f=a.length;c<f;c++){var g=a[c];g=[g.id,g.opts,[]];e?(e[2].push(g),e=g):b=e=g}return b}function A(a,d){return a[0]<d[0]?-1:1}function m(a,d){for(var b=[{tree1:a,tree2:d}],e=!1;0<b.length;){var c=b.pop(),f=c.tree1;c=c.tree2;if(f[1].status||c[1].status)f[1].status="available"===f[1].status||"available"===c[1].status?"available":"missing";for(var g=0;g<c[2].length;g++)if(f[2][0]){for(var h=!1,q=0;q<f[2].length;q++)f[2][q][0]===c[2][g][0]&&(b.push({tree1:f[2][q],tree2:c[2][g]}),h=!0);if(!h){e="new_branch";h=f[2];q=c[2][g];for(var l,m=h,p=q,k=A,t=0,v=m.length;t<v;)l=t+v>>>1,0>k(m[l],p)?t=l+1:v=l;h.splice(t,0,q)}}else e="new_leaf",f[2][0]=c[2][g]}return{conflicts:e,tree:a}}function x(a,d,b){var e=[],c=!1,f=!1;if(!a.length)return{tree:[d],conflicts:"new_leaf"};for(var g=0,h=a.length;g<h;g++){var q=a[g];if(q.pos===d.pos&&q.ids[0]===d.ids[0])f=m(q.ids,d.ids),e.push({pos:q.pos,ids:f.tree}),c=c||f.conflicts,f=!0;else if(!0!==b){var l=q.pos<d.pos?q:d,p=q.pos<d.pos?d:q,k=[],t=[];for(t.push({ids:l.ids,diff:p.pos-l.pos,parent:null,parentIdx:null});0<t.length;){var z=t.pop();if(0===z.diff)z.ids[0]===p.ids[0]&&k.push(z);else for(var u=z.ids[2],x=0,A=u.length;x<A;x++)t.push({ids:u[x],diff:z.diff-1,parent:z.ids,parentIdx:x})}(k=k[0])?(f=m(k.ids,p.ids),k.parent[2][k.parentIdx]=f.tree,e.push({pos:l.pos,ids:l.ids}),c=c||f.conflicts,f=!0):e.push(q)}else e.push(q)}f||e.push(d);e.sort(v);return{tree:e,conflicts:c||"internal_node"}}function q(a,d){for(var b=z(a),e,c,f=0,g=b.length;f<g;f++){var h=b[f],q=h.ids;if(q.length>d){e||(e={});var l=q.length-d;var m={pos:h.pos+l,ids:t(q,l)};for(var k=0;k<l;k++)e[h.pos+k+"-"+q[k].id]=!0}else m={pos:h.pos,ids:t(q,0)};c=c?x(c,m,!0).tree:[m]}e&&p(c,function(a,b,d){delete e[b+"-"+d]});return{tree:c,revs:e?Object.keys(e):[]}}function f(a){return a.ids}Object.defineProperty(g,"__esModule",{value:!0});g.collectConflicts=function(a){var d=c(a);a=h(a.rev_tree);for(var b=[],e=0,f=a.length;e<f;e++){var g=a[e];g.rev===d||g.opts.deleted||b.push(g.rev)}return b};g.collectLeaves=h;g.compactTree=function(a){var d=[];p(a.rev_tree,function(a,e,c,f,g){"available"!==g.status||a||(d.push(e+"-"+c),g.status="missing")});return d};g.isDeleted=function(a,d){d||(d=c(a));for(var b=d.substring(d.indexOf("-")+1),e=a.rev_tree.map(f),g;g=e.pop();){if(g[0]===b)return!!g[1].deleted;e=e.concat(g[2])}};g.isLocalId=function(a){return/^_local/.test(a)};g.merge=function(a,d,b){a=x(a,d);b=q(a.tree,b);return{tree:b.tree,stemmedRevs:b.revs,conflicts:a.conflicts}};g.revExists=function(a,d){var b=a.slice(),e=d.split("-"),c=parseInt(e[0],10);e=e[1];for(var f;f=b.pop();){if(f.pos===c&&f.ids[0]===e)return!0;for(var g=f.ids[2],h=0,q=g.length;h<q;h++)b.push({pos:f.pos+1,ids:g[h]})}return!1};g.rootToLeaf=z;g.traverseRevTree=p;g.winningRev=c;g.latest=function(a,d){for(var b=d.rev_tree.slice(),e;e=b.pop();){var c=e.pos,f=e.ids,g=f[0],h=f[1];f=f[2];var q=0===f.length;e=e.history?e.history.slice():[];e.push({id:g,pos:c,opts:h});if(q)for(h=0,q=e.length;h<q;h++){var l=e[h];if(l.pos+"-"+l.id===a)return c+"-"+g}g=0;for(h=f.length;g<h;g++)b.push({pos:c+1,ids:f[g],history:e})}throw Error("Unable to resolve latest revision for id "+d.id+", rev "+a);}},{}],14:[function(k,u,g){k=(k=k("lie"))&&"object"===typeof k&&"default"in k?k["default"]:k;u.exports="function"===typeof Promise?Promise:k},{lie:4}],15:[function(k,u,g){function c(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}function p(a){var e;if(!a||"object"!==typeof a)return a;if(Array.isArray(a)){var b=[];var d=0;for(e=a.length;d<e;d++)b[d]=p(a[d]);return b}if(a instanceof Date)return a.toISOString();if("undefined"!==typeof ArrayBuffer&&a instanceof ArrayBuffer||"undefined"!==typeof Blob&&a instanceof Blob)return a instanceof ArrayBuffer?"function"===typeof a.slice?a=a.slice(0):(d=new ArrayBuffer(a.byteLength),b=new Uint8Array(d),a=new Uint8Array(a),b.set(a),a=d):(d=a.size,b=a.type,a="function"===typeof a.slice?a.slice(0,d,b):a.webkitSlice(0,d,b)),a;b=Object.getPrototypeOf(a);null===b?b=!0:(b=b.constructor,b="function"==typeof b&&b instanceof b&&J.call(b)==K);if(!b)return a;b={};for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(e=p(a[d]),"undefined"!==typeof e&&(b[d]=e));return b}function l(a){var b=!1;return e(function(e){if(b)throw Error("once called more than once");b=!0;a.apply(this,e)})}function h(a){return e(function(b){b=p(b);var e=this,d="function"===typeof b[b.length-1]?b.pop():!1,c=new r(function(d,c){var f;try{var g=l(function(a,b){a?c(a):d(b)});b.push(g);(f=a.apply(e,b))&&"function"===typeof f.then&&d(f)}catch(I){c(I)}});d&&c.then(function(a){d(null,a)},d);return c})}function z(a,b,e){if(a.constructor.listeners("debug").length){for(var d=["api",a.name,b],c=0;c<e.length-1;c++)d.push(e[c]);a.constructor.emit("debug",d);var f=e[e.length-1];e[e.length-1]=function(e,d){var c=["api",a.name,b];c=c.concat(e?["error",e]:["success",d]);a.constructor.emit("debug",c);f(e,d)}}}function v(a,b){for(var e={},d=0,c=b.length;d<c;d++){var f=b[d];f in a&&(e[f]=a[f])}return e}function t(a){return a}function A(a){return[{ok:a}]}function m(){return"undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage&&"undefined"!==typeof chrome.storage.local}function x(a){m()?chrome.storage.onChanged.addListener(function(b){null!=b.db_name&&a.emit(b.dbName.newValue)}):L&&("undefined"!==typeof addEventListener?addEventListener("storage",function(b){a.emit(b.key)}):window.attachEvent("storage",function(b){a.emit(b.key)}))}function q(){F.EventEmitter.call(this);this._listeners={};x(this)}function f(a){if("undefined"!==typeof console&&"function"===typeof console[a]){var b=Array.prototype.slice.call(arguments,1);console[a].apply(console,b)}}function a(a){if(!a)return null;var b=a.split("/");return 2===b.length?b:1===b.length?[a,a]:null}function d(a,e,d){return new r(function(c,f){a.get(e,function(g,h){if(g){if(404!==g.status)return f(g);h={}}var q=h._rev,n=d(h);if(!n)return c({updated:!1,rev:q});n._id=e;n._rev=q;c(b(a,n,d))})})}function b(a,b,e){return a.put(b).then(function(a){return{updated:!0,rev:a.rev}},function(c){if(409!==c.status)throw c;return d(a,b._id,e)})}Object.defineProperty(g,"__esModule",{value:!0});var e=c(k("argsarray")),r=c(k("pouchdb-promise")),n=k("pouchdb-collections"),C=c(k("immediate")),F=k("events");u=c(k("inherits"));var D=k("pouchdb-errors"),H=c(k("uuid")),J=Function.prototype.toString,K=J.call(Object);if(m())var L=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),L=!!localStorage.getItem("_pouch_check_localstorage")}catch(w){L=!1}u(q,F.EventEmitter);q.prototype.addListener=function(a,b,e,d){function c(){if(f._listeners[b])if(g)g="waiting";else{g=!0;var a=v(d,"style include_docs attachments conflicts filter doc_ids view since query_params binary".split(" "));e.changes(a).on("change",function(a){a.seq>d.since&&!d.cancelled&&(d.since=a.seq,d.onChange(a))}).on("complete",function(){"waiting"===g&&C(c);g=!1}).on("error",function(){g=!1})}}if(!this._listeners[b]){var f=this,g=!1;this._listeners[b]=c;this.on(a,c)}};q.prototype.removeListener=function(a,b){b in this._listeners&&(F.EventEmitter.prototype.removeListener.call(this,a,this._listeners[b]),delete this._listeners[b])};q.prototype.notifyLocalWindows=function(a){m()?chrome.storage.local.set({dbName:a}):L&&(localStorage[a]="a"===localStorage[a]?"b":"a")};q.prototype.notify=function(a){this.emit(a);this.notifyLocalWindows(a)};k="function"===typeof Object.assign?Object.assign:function(a){for(var b=Object(a),e=1;e<arguments.length;e++){var d=arguments[e];if(null!=d)for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(b[c]=d[c])}return b};u=function(){}.name?function(a){return a.name}:function(a){return a.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var R="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),V=/(?:^|&)([^&=]*)=?([^&]*)/g,W=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,O=H.v4;g.adapterFun=function(a,b){return h(e(function(e){if(this._closed)return r.reject(Error("database is closed"));if(this._destroyed)return r.reject(Error("database is destroyed"));var d=this;z(d,a,e);return this.taskqueue.isReady?b.apply(this,e):new r(function(b,c){d.taskqueue.addTask(function(f){f?c(f):b(d[a].apply(d,e))})})}))};g.assign=k;g.bulkGetShim=function(a,b,e){function d(){var a=[];l.forEach(function(b){b.docs.forEach(function(e){a.push({id:b.id,docs:[e]})})});e(null,{results:a})}function c(){if(!(p>=m.length)){var a=m.slice(p,Math.min(p+6,m.length));f(a,p);p+=a.length}}function f(e,f){e.forEach(function(e,g){var n=f+g,m=h.get(e),p=v(m[0],["atts_since","attachments"]);p.open_revs=m.map(function(a){return a.rev});p.open_revs=p.open_revs.filter(t);var k=t;0===p.open_revs.length&&(delete p.open_revs,k=A);["revs","attachments","binary","ajax","latest"].forEach(function(a){a in b&&(p[a]=b[a])});a.get(e,p,function(a,b){var f=a?[{error:a}]:k(b);l[n]={id:e,docs:f};++r===q&&d();c()})})}var g=b.docs,h=new n.Map;g.forEach(function(a){h.has(a.id)?h.get(a.id).push(a):h.set(a.id,[a])});var q=h.size,r=0,l=Array(q),m=[];h.forEach(function(a,b){m.push(b)});var p=0;c()};g.changesHandler=q;g.clone=p;g.defaultBackOff=function(a){var b=0;a||(b=2E3);a=parseInt(a,10)||0;b=parseInt(b,10);b=b!==b||b<=a?(a||1)<<1:b+1;6E5<b&&(a=3E5,b=6E5);return~~((b-a)*Math.random()+a)};g.explainError=function(a,b){f("info","The above "+a+" is totally normal. "+b)};g.filterChange=function(a){var b={},e=a.filter&&"function"===typeof a.filter;b.query=a.query_params;return function(d){d.doc||(d.doc={});var c;if(c=e)try{c=!(0,a.filter)(d.doc,b)}catch(Q){c=D.createError(D.BAD_REQUEST,"Filter function threw: "+Q.toString())}if("object"===typeof c)return c;if(c)return!1;if(!a.include_docs)delete d.doc;else if(!a.attachments)for(var f in d.doc._attachments)d.doc._attachments.hasOwnProperty(f)&&(d.doc._attachments[f].stub=!0);return!0}};g.flatten=function(a){for(var b=[],e=0,d=a.length;e<d;e++)b=b.concat(a[e]);return b};g.functionName=u;g.guardedConsole=f;g.hasLocalStorage=function(){return L};g.invalidIdError=function(a){var b;a?"string"!==typeof a?b=D.createError(D.INVALID_ID):/^_/.test(a)&&!/^_(design|local)/.test(a)&&(b=D.createError(D.RESERVED_ID)):b=D.createError(D.MISSING_ID);if(b)throw b;};g.isChromeApp=m;g.isCordova=function(){return"undefined"!==typeof cordova||"undefined"!==typeof PhoneGap||"undefined"!==typeof phonegap};g.isRemote=function(a){return"boolean"===typeof a._remote?a._remote:"function"===typeof a.type?(f("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===a.type()):!1};g.listenerCount=function(a,b){return"listenerCount"in a?a.listenerCount(b):F.EventEmitter.listenerCount(a,b)};g.nextTick=C;g.normalizeDdocFunctionName=function(b){return(b=a(b))?b.join("/"):null};g.once=l;g.parseDdocFunctionName=a;g.parseUri=function(a){a=W.exec(a);for(var b={},e=14;e--;){var d=R[e],c=a[e]||"",f=-1!==["user","password"].indexOf(d);b[d]=f?decodeURIComponent(c):c}b.queryKey={};b[R[12]].replace(V,function(a,e,d){e&&(b.queryKey[e]=d)});return b};g.pick=v;g.rev=function(){return H.v4().replace(/-/g,"").toLowerCase()};g.scopeEval=function(a,b){var e=[],d=[],c;for(c in b)b.hasOwnProperty(c)&&(e.push(c),d.push(b[c]));e.push(a);return Function.apply(null,e).apply(null,d)};g.toPromise=h;g.upsert=d;g.uuid=O},{argsarray:1,events:24,immediate:2,inherits:3,"pouchdb-collections":9,"pouchdb-errors":10,"pouchdb-promise":14,uuid:17}],16:[function(k,u,g){(function(c){if("object"===typeof g)u.exports=c();else if("function"===typeof define&&define.amd)define(c);else{try{var p=window}catch(l){p=self}p.SparkMD5=c()}})(function(c){function g(c,f){var a=c[0],d=c[1],b=c[2],e=c[3];a+=(d&b|~d&e)+f[0]-680876936|0;a=(a<<7|a>>>25)+d|0;e+=(a&d|~a&b)+f[1]-389564586|0;e=(e<<12|e>>>20)+a|0;b+=(e&a|~e&d)+f[2]+606105819|0;b=(b<<17|b>>>15)+e|0;d+=(b&e|~b&a)+f[3]-1044525330|0;d=(d<<22|d>>>10)+b|0;a+=(d&b|~d&e)+f[4]-176418897|0;a=(a<<7|a>>>25)+d|0;e+=(a&d|~a&b)+f[5]+1200080426|0;e=(e<<12|e>>>20)+a|0;b+=(e&a|~e&d)+f[6]-1473231341|0;b=(b<<17|b>>>15)+e|0;d+=(b&e|~b&a)+f[7]-45705983|0;d=(d<<22|d>>>10)+b|0;a+=(d&b|~d&e)+f[8]+1770035416|0;a=(a<<7|a>>>25)+d|0;e+=(a&d|~a&b)+f[9]-1958414417|0;e=(e<<12|e>>>20)+a|0;b+=(e&a|~e&d)+f[10]-42063|0;b=(b<<17|b>>>15)+e|0;d+=(b&e|~b&a)+f[11]-1990404162|0;d=(d<<22|d>>>10)+b|0;a+=(d&b|~d&e)+f[12]+1804603682|0;a=(a<<7|a>>>25)+d|0;e+=(a&d|~a&b)+f[13]-40341101|0;e=(e<<12|e>>>20)+a|0;b+=(e&a|~e&d)+f[14]-1502002290|0;b=(b<<17|b>>>15)+e|0;d+=(b&e|~b&a)+f[15]+1236535329|0;d=(d<<22|d>>>10)+b|0;a+=(d&e|b&~e)+f[1]-165796510|0;a=(a<<5|a>>>27)+d|0;e+=(a&b|d&~b)+f[6]-1069501632|0;e=(e<<9|e>>>23)+a|0;b+=(e&d|a&~d)+f[11]+643717713|0;b=(b<<14|b>>>18)+e|0;d+=(b&a|e&~a)+f[0]-373897302|0;d=(d<<20|d>>>12)+b|0;a+=(d&e|b&~e)+f[5]-701558691|0;a=(a<<5|a>>>27)+d|0;e+=(a&b|d&~b)+f[10]+38016083|0;e=(e<<9|e>>>23)+a|0;b+=(e&d|a&~d)+f[15]-660478335|0;b=(b<<14|b>>>18)+e|0;d+=(b&a|e&~a)+f[4]-405537848|0;d=(d<<20|d>>>12)+b|0;a+=(d&e|b&~e)+f[9]+568446438|0;a=(a<<5|a>>>27)+d|0;e+=(a&b|d&~b)+f[14]-1019803690|0;e=(e<<9|e>>>23)+a|0;b+=(e&d|a&~d)+f[3]-187363961|0;b=(b<<14|b>>>18)+e|0;d+=(b&a|e&~a)+f[8]+1163531501|0;d=(d<<20|d>>>12)+b|0;a+=(d&e|b&~e)+f[13]-1444681467|0;a=(a<<5|a>>>27)+d|0;e+=(a&b|d&~b)+f[2]-51403784|0;e=(e<<9|e>>>23)+a|0;b+=(e&d|a&~d)+f[7]+1735328473|0;b=(b<<14|b>>>18)+e|0;d+=(b&a|e&~a)+f[12]-1926607734|0;d=(d<<20|d>>>12)+b|0;a+=(d^b^e)+f[5]-378558|0;a=(a<<4|a>>>28)+d|0;e+=(a^d^b)+f[8]-2022574463|0;e=(e<<11|e>>>21)+a|0;b+=(e^a^d)+f[11]+1839030562|0;b=(b<<16|b>>>16)+e|0;d+=(b^e^a)+f[14]-35309556|0;d=(d<<23|d>>>9)+b|0;a+=(d^b^e)+f[1]-1530992060|0;a=(a<<4|a>>>28)+d|0;e+=(a^d^b)+f[4]+1272893353|0;e=(e<<11|e>>>21)+a|0;b+=(e^a^d)+f[7]-155497632|0;b=(b<<16|b>>>16)+e|0;d+=(b^e^a)+f[10]-1094730640|0;d=(d<<23|d>>>9)+b|0;a+=(d^b^e)+f[13]+681279174|0;a=(a<<4|a>>>28)+d|0;e+=(a^d^b)+f[0]-358537222|0;e=(e<<11|e>>>21)+a|0;b+=(e^a^d)+f[3]-722521979|0;b=(b<<16|b>>>16)+e|0;d+=(b^e^a)+f[6]+76029189|0;d=(d<<23|d>>>9)+b|0;a+=(d^b^e)+f[9]-640364487|0;a=(a<<4|a>>>28)+d|0;e+=(a^d^b)+f[12]-421815835|0;e=(e<<11|e>>>21)+a|0;b+=(e^a^d)+f[15]+530742520|0;b=(b<<16|b>>>16)+e|0;d+=(b^e^a)+f[2]-995338651|0;d=(d<<23|d>>>9)+b|0;a+=(b^(d|~e))+f[0]-198630844|0;a=(a<<6|a>>>26)+d|0;e+=(d^(a|~b))+f[7]+1126891415|0;e=(e<<10|e>>>22)+a|0;b+=(a^(e|~d))+f[14]-1416354905|0;b=(b<<15|b>>>17)+e|0;d+=(e^(b|~a))+f[5]-57434055|0;d=(d<<21|d>>>11)+b|0;a+=(b^(d|~e))+f[12]+1700485571|0;a=(a<<6|a>>>26)+d|0;e+=(d^(a|~b))+f[3]-1894986606|0;e=(e<<10|e>>>22)+a|0;b+=(a^(e|~d))+f[10]-1051523|0;b=(b<<15|b>>>17)+e|0;d+=(e^(b|~a))+f[1]-2054922799|0;d=(d<<21|d>>>11)+b|0;a+=(b^(d|~e))+f[8]+1873313359|0;a=(a<<6|a>>>26)+d|0;e+=(d^(a|~b))+f[15]-30611744|0;e=(e<<10|e>>>22)+a|0;b+=(a^(e|~d))+f[6]-1560198380|0;b=(b<<15|b>>>17)+e|0;d+=(e^(b|~a))+f[13]+1309151649|0;d=(d<<21|d>>>11)+b|0;a+=(b^(d|~e))+f[4]-145523070|0;a=(a<<6|a>>>26)+d|0;e+=(d^(a|~b))+f[11]-1120210379|0;e=(e<<10|e>>>22)+a|0;b+=(a^(e|~d))+f[2]+718787259|0;b=(b<<15|b>>>17)+e|0;d+=(e^(b|~a))+f[9]-343485551|0;c[0]=a+c[0]|0;c[1]=((d<<21|d>>>11)+b|0)+c[1]|0;c[2]=b+c[2]|0;c[3]=e+c[3]|0}function l(c){var f=[],a;for(a=0;64>a;a+=4)f[a>>2]=c.charCodeAt(a)+(c.charCodeAt(a+1)<<8)+(c.charCodeAt(a+2)<<16)+(c.charCodeAt(a+3)<<24);return f}function h(c){var f=[],a;for(a=0;64>a;a+=4)f[a>>2]=c[a]+(c[a+1]<<8)+(c[a+2]<<16)+(c[a+3]<<24);return f}function k(c){var f=c.length,a=[1732584193,-271733879,-1732584194,271733878],d;for(d=64;d<=f;d+=64)g(a,l(c.substring(d-64,d)));c=c.substring(d-64);var b=c.length;var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<b;d+=1)e[d>>2]|=c.charCodeAt(d)<<(d%4<<3);e[d>>2]|=128<<(d%4<<3);if(55<d)for(g(a,e),d=0;16>d;d+=1)e[d]=0;f=(8*f).toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(f[2],16);f=parseInt(f[1],16)||0;e[14]=c;e[15]=f;g(a,e);return a}function v(c){var f;for(f=0;f<c.length;f+=1){var a=f,d,b=c[f],e="";for(d=0;4>d;d+=1)e+=x[b>>8*d+4&15]+x[b>>8*d&15];c[a]=e}return c.join("")}function t(c){/[\u0080-\uFFFF]/.test(c)&&(c=unescape(encodeURIComponent(c)));return c}function u(c){var f=[],a=c.length,d;for(d=0;d<a-1;d+=2)f.push(parseInt(c.substr(d,2),16));return String.fromCharCode.apply(String,f)}function m(){this.reset()}var x="0123456789abcdef".split("");v(k("hello"));"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function g(c,a){c=c|0||0;return 0>c?Math.max(c+a,0):Math.min(c,a)}ArrayBuffer.prototype.slice=function(f,a){var d=this.byteLength,b=g(f,d),e=d;a!==c&&(e=g(a,d));if(b>e)return new ArrayBuffer(0);var h=e-b;d=new ArrayBuffer(h);e=new Uint8Array(d);b=new Uint8Array(this,b,h);e.set(b);return d}}();m.prototype.append=function(c){this.appendBinary(t(c));return this};m.prototype.appendBinary=function(c){this._buff+=c;this._length+=c.length;c=this._buff.length;var f;for(f=64;f<=c;f+=64)g(this._hash,l(this._buff.substring(f-64,f)));this._buff=this._buff.substring(f-64);return this};m.prototype.end=function(c){var f=this._buff,a=f.length,d,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<a;d+=1)b[d>>2]|=f.charCodeAt(d)<<(d%4<<3);this._finish(b,a);f=v(this._hash);c&&(f=u(f));this.reset();return f};m.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}};m.prototype.setState=function(c){this._buff=c.buff;this._length=c.length;this._hash=c.hash;return this};m.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length};m.prototype._finish=function(c,f){var a=f;c[a>>2]|=128<<(a%4<<3);if(55<a)for(g(this._hash,c),a=0;16>a;a+=1)c[a]=0;var d=8*this._length;d=d.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(d[2],16);d=parseInt(d[1],16)||0;c[14]=a;c[15]=d;g(this._hash,c)};m.hash=function(c,f){return m.hashBinary(t(c),f)};m.hashBinary=function(c,f){var a=k(c);a=v(a);return f?u(a):a};m.ArrayBuffer=function(){this.reset()};m.ArrayBuffer.prototype.append=function(c){var f=this._buff.buffer,a=new Uint8Array(f.byteLength+c.byteLength);a.set(new Uint8Array(f));a.set(new Uint8Array(c),f.byteLength);f=a.length;this._length+=c.byteLength;for(c=64;c<=f;c+=64)g(this._hash,h(a.subarray(c-64,c)));this._buff=c-64<f?new Uint8Array(a.buffer.slice(c-64)):new Uint8Array(0);return this};m.ArrayBuffer.prototype.end=function(c){var f=this._buff,a=f.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b;for(b=0;b<a;b+=1)d[b>>2]|=f[b]<<(b%4<<3);this._finish(d,a);f=v(this._hash);c&&(f=u(f));this.reset();return f};m.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};m.ArrayBuffer.prototype.getState=function(){var c=m.prototype.getState.call(this);c.buff=String.fromCharCode.apply(null,new Uint8Array(c.buff));return c};m.ArrayBuffer.prototype.setState=function(c){var f=c.buff,a=f.length,d=new ArrayBuffer(a);d=new Uint8Array(d);var b;for(b=0;b<a;b+=1)d[b]=f.charCodeAt(b);c.buff=d;return m.prototype.setState.call(this,c)};m.ArrayBuffer.prototype.destroy=m.prototype.destroy;m.ArrayBuffer.prototype._finish=m.prototype._finish;m.ArrayBuffer.hash=function(c,f){var a=new Uint8Array(c),d=a.length,b=[1732584193,-271733879,-1732584194,271733878],e;for(e=64;e<=d;e+=64)g(b,h(a.subarray(e-64,e)));a=e-64<d?a.subarray(e-64):new Uint8Array(0);var r=a.length;var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)n[e>>2]|=a[e]<<(e%4<<3);n[e>>2]|=128<<(e%4<<3);if(55<e)for(g(b,n),e=0;16>e;e+=1)n[e]=0;d=(8*d).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(d[2],16);d=parseInt(d[1],16)||0;n[14]=a;n[15]=d;g(b,n);b=v(b);return f?u(b):b};return m})},{}],17:[function(k,u,g){g=k("./v1");k=k("./v4");k.v1=g;k.v4=k;u.exports=k},{"./v1":20,"./v4":21}],18:[function(k,u,g){var c=[];for(k=0;256>k;++k)c[k]=(k+256).toString(16).substr(1);u.exports=function(g,l){var h=l||0;return c[g[h++]]+c[g[h++]]+c[g[h++]]+c[g[h++]]+"-"+c[g[h++]]+c[g[h++]]+"-"+c[g[h++]]+c[g[h++]]+"-"+c[g[h++]]+c[g[h++]]+"-"+c[g[h++]]+c[g[h++]]+c[g[h++]]+c[g[h++]]+c[g[h++]]+c[g[h++]]}},{}],19:[function(k,u,g){var c="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(c){var p=new Uint8Array(16);u.exports=function(){c(p);return p}}else{var l=Array(16);u.exports=function(){for(var c=0,g;16>c;c++)0===(c&3)&&(g=4294967296*Math.random()),l[c]=g>>>((c&3)<<3)&255;return l}}},{}],20:[function(k,u,g){var c=k("./lib/rng"),p=k("./lib/bytesToUuid"),l,h,z=0,v=0;u.exports=function(g,k,m){m=k&&m||0;var t=k||[];g=g||{};var q=g.node||l,f=void 0!==g.clockseq?g.clockseq:h;if(null==q||null==f){var a=c();null==q&&(q=l=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]);null==f&&(f=h=(a[6]<<8|a[7])&16383)}a=void 0!==g.msecs?g.msecs:(new Date).getTime();var d=void 0!==g.nsecs?g.nsecs:v+1,b=a-z+(d-v)/1E4;0>b&&void 0===g.clockseq&&(f=f+1&16383);(0>b||a>z)&&void 0===g.nsecs&&(d=0);if(1E4<=d)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");z=a;v=d;h=f;a+=122192928E5;g=(1E4*(a&268435455)+d)%4294967296;t[m++]=g>>>24&255;t[m++]=g>>>16&255;t[m++]=g>>>8&255;t[m++]=g&255;g=a/4294967296*1E4&268435455;t[m++]=g>>>8&255;t[m++]=g&255;t[m++]=g>>>24&15|16;t[m++]=g>>>16&255;t[m++]=f>>>8|128;t[m++]=f&255;for(f=0;6>f;++f)t[m+f]=q[f];return k?k:p(t)}},{"./lib/bytesToUuid":18,"./lib/rng":19}],21:[function(k,u,g){var c=k("./lib/rng"),p=k("./lib/bytesToUuid");u.exports=function(g,h,k){k=h&&k||0;"string"==typeof g&&(h="binary"===g?Array(16):null,g=null);g=g||{};g=g.random||(g.rng||c)();g[6]=g[6]&15|64;g[8]=g[8]&63|128;if(h)for(var l=0;16>l;++l)h[k+l]=g[l];return h||p(g)}},{"./lib/bytesToUuid":18,"./lib/rng":19}],22:[function(k,u,g){function c(c,g,h){var l=h[h.length-1];c===l.element&&(h.pop(),l=h[h.length-1]);h=l.element;l=l.index;Array.isArray(h)?h.push(c):l===g.length-2?(g=g.pop(),h[g]=c):g.push(c)}g.stringify=function(c){var g=[];g.push({obj:c});c="";for(var h,k,p,t,u,m,x;h=g.pop();)if(k=h.obj,p=h.prefix||"",h=h.val||"",c+=p,h)c+=h;else if("object"!==typeof k)c+="undefined"===typeof k?null:JSON.stringify(k);else if(null===k)c+="null";else if(Array.isArray(k)){g.push({val:"]"});for(p=k.length-1;0<=p;p--)h=0===p?"":",",g.push({obj:k[p],prefix:h});g.push({val:"["})}else{h=[];for(t in k)k.hasOwnProperty(t)&&h.push(t);g.push({val:"}"});for(p=h.length-1;0<=p;p--)u=h[p],m=k[u],x=0<p?",":"",x+=JSON.stringify(u)+":",g.push({obj:m,prefix:x});g.push({val:"{"})}return c};g.parse=function(g){for(var l=[],h=[],k=0,p,t,u,m;;)if(p=g[k++],"}"===p||"]"===p||"undefined"===typeof p){if(1===l.length)return l.pop();c(l.pop(),l,h)}else switch(p){case " ":case "\t":case "\n":case ":":case ",":break;case "n":k+=3;c(null,l,h);break;case "t":k+=3;c(!0,l,h);break;case "f":k+=4;c(!1,l,h);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "-":p="";for(k--;;)if(t=g[k++],/[\d\.\-e\+]/.test(t))p+=t;else{k--;break}c(parseFloat(p),l,h);break;case '"':p="";t=void 0;for(u=0;;)if(m=g[k++],'"'!==m||"\\"===t&&1===u%2)p+=m,t=m,"\\"===t?u++:u=0;else break;c(JSON.parse('"'+p+'"'),l,h);break;case "[":p={element:[],index:l.length};l.push(p.element);h.push(p);break;case "{":p={element:{},index:l.length};l.push(p.element);h.push(p);break;default:throw Error("unexpectedly reached end of input: "+p);}}},{}],23:[function(k,u,g){k=k("pouchdb-adapter-websql");"undefined"!==typeof window&&(window.pouchDBWebSQLAdapter=k)},{"pouchdb-adapter-websql":7}],24:[function(k,u,g){function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=x(null),this._eventsCount=0);this._maxListeners=this._maxListeners||void 0}function p(a,e,d,g){var b;if("function"!==typeof d)throw new TypeError('"listener" argument must be a function');if(b=a._events){b.newListener&&(a.emit("newListener",e,d.listener?d.listener:d),b=a._events);var f=b[e]}else b=a._events=x(null),a._eventsCount=0;f?("function"===typeof f?f=b[e]=g?[d,f]:[f,d]:g?f.unshift(d):f.push(d),f.warned||(d=void 0===a._maxListeners?c.defaultMaxListeners:a._maxListeners)&&0<d&&f.length>d&&(f.warned=!0,d=Error("Possible EventEmitter memory leak detected. "+f.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.'),d.name="MaxListenersExceededWarning",d.emitter=a,d.type=e,d.count=f.length,"object"===typeof console&&console.warn&&console.warn("%s: %s",d.name,d.message))):(b[e]=d,++a._eventsCount);return a}function l(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var a=Array(arguments.length),e=0;e<a.length;++e)a[e]=arguments[e];this.listener.apply(this.target,a)}}function h(a,e,c){a={fired:!1,wrapFn:void 0,target:a,type:e,listener:c};e=f.call(l,a);e.listener=c;return a.wrapFn=e}function z(a){var b=this._events;if(b){a=b[a];if("function"===typeof a)return 1;if(a)return a.length}return 0}function v(a,e){for(var b=Array(e),c=0;c<e;++c)b[c]=a[c];return b}function t(a){var b=function(){};b.prototype=a;return new b}function A(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return c}function m(a){var b=this;return function(){return b.apply(a,arguments)}}var x=Object.create||t,q=Object.keys||A,f=Function.prototype.bind||m;u.exports=c;c.EventEmitter=c;c.prototype._events=void 0;c.prototype._maxListeners=void 0;var a=10;try{k={};Object.defineProperty&&Object.defineProperty(k,"x",{value:0});var d=0===k.x}catch(b){d=!1}d?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(b){if("number"!==typeof b||0>b||b!==b)throw new TypeError('"defaultMaxListeners" must be a positive number');a=b}}):c.defaultMaxListeners=a;c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw new TypeError('"n" argument must be a positive number');this._maxListeners=a;return this};c.prototype.getMaxListeners=function(){return void 0===this._maxListeners?c.defaultMaxListeners:this._maxListeners};c.prototype.emit=function(a){var b,c,d;var f="error"===a;if(d=this._events)f=f&&null==d.error;else if(!f)return!1;if(f){1<arguments.length&&(b=arguments[1]);if(b instanceof Error)throw b;d=Error('Unhandled "error" event. ('+b+")");d.context=b;throw d;}b=d[a];if(!b)return!1;d="function"===typeof b;var g=arguments.length;switch(g){case 1:if(d)b.call(this);else for(d=b.length,b=v(b,d),f=0;f<d;++f)b[f].call(this);break;case 2:f=arguments[1];if(d)b.call(this,f);else for(d=b.length,b=v(b,d),g=0;g<d;++g)b[g].call(this,f);break;case 3:f=arguments[1];g=arguments[2];if(d)b.call(this,f,g);else for(d=b.length,b=v(b,d),c=0;c<d;++c)b[c].call(this,f,g);break;case 4:f=arguments[1];g=arguments[2];c=arguments[3];if(d)b.call(this,f,g,c);else{d=b.length;b=v(b,d);for(var h=0;h<d;++h)b[h].call(this,f,g,c)}break;default:f=Array(g-1);for(c=1;c<g;c++)f[c-1]=arguments[c];if(d)b.apply(this,f);else for(d=b.length,b=v(b,d),g=0;g<d;++g)b[g].apply(this,f)}return!0};c.prototype.addListener=function(a,c){return p(this,a,c,!1)};c.prototype.on=c.prototype.addListener;c.prototype.prependListener=function(a,c){return p(this,a,c,!0)};c.prototype.once=function(a,c){if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');this.on(a,h(this,a,c));return this};c.prototype.prependOnceListener=function(a,c){if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');this.prependListener(a,h(this,a,c));return this};c.prototype.removeListener=function(a,c){var b;if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');var d=this._events;if(!d)return this;var e=d[a];if(!e)return this;if(e===c||e.listener===c)0===--this._eventsCount?this._events=x(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,e.listener||c));else if("function"!==typeof e){var f=-1;for(b=e.length-1;0<=b;b--)if(e[b]===c||e[b].listener===c){var g=e[b].listener;f=b;break}if(0>f)return this;if(0===f)e.shift();else{b=f+1;for(var h=e.length;b<h;f+=1,b+=1)e[f]=e[b];e.pop()}1===e.length&&(d[a]=e[0]);d.removeListener&&this.emit("removeListener",a,g||c)}return this};c.prototype.removeAllListeners=function(a){var b=this._events;if(!b)return this;if(!b.removeListener)return 0===arguments.length?(this._events=x(null),this._eventsCount=0):b[a]&&(0===--this._eventsCount?this._events=x(null):delete b[a]),this;if(0===arguments.length){var c=q(b);for(b=0;b<c.length;++b){var d=c[b];"removeListener"!==d&&this.removeAllListeners(d)}this.removeAllListeners("removeListener");this._events=x(null);this._eventsCount=0;return this}c=b[a];if("function"===typeof c)this.removeListener(a,c);else if(c)for(b=c.length-1;0<=b;b--)this.removeListener(a,c[b]);return this};c.prototype.listeners=function(a){var b=this._events;if(b)if(a=b[a])if("function"===typeof a)a=[a.listener||a];else{b=Array(a.length);for(var c=0;c<b.length;++c)b[c]=a[c].listener||a[c];a=b}else a=[];else a=[];return a};c.listenerCount=function(a,c){return"function"===typeof a.listenerCount?a.listenerCount(c):z.call(a,c)};c.prototype.listenerCount=z;c.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}]},{},[23]);/*auth 1.1.2*/!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PouchAuthentication=e()}}(function(){return function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){var t;if("function"==typeof e.getUrl)t=p(e.getUrl());else{var n=e.__opts&&e.__opts.prefix?e.__opts.prefix+"/":"";t=p(n+e.name)}var r=t.pathname,o=(r="/"===r.substr(-1,1)?r.substr(0,-1):r).split("/").slice(0,-1).join("/");return t.origin+o}function i(e,t){return d(o(e),(t?"/_node/"+t:"")+"/_config")}function s(e){return d(o(e),"/_users")}function a(e){return d(o(e),"/_session")}function u(e){var t;if(e.__opts.auth)t=e.__opts.auth;else{var n=p(e.name);n.auth&&(t=n)}if(!t)return{};var r=t.username+":"+t.password;return{Authorization:"Basic "+v.btoa(unescape(encodeURIComponent(r)))}}function c(e){return function(t,n){return t&&"unknown_error"===t.name&&(t.message=(t.message||"")+" Unknown error!  Did you remember to enable CORS?"),e(t,n)}}function f(e){this.status=400,this.name="authentication_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,f)}catch(e){}}function l(e,t,n,r){var o=["_id","_rev","name","type","roles","password","password_scheme","iterations","derived_key","salt"];if(n.metadata){for(var i in n.metadata)if(n.metadata.hasOwnProperty(i)&&-1!==o.indexOf(i))return r(new f('cannot use reserved word in metadata: "'+i+'"'));t=m.assign(t,n.metadata)}n.roles&&(t=m.assign(t,{roles:n.roles}));var a=s(e)+"/"+encodeURIComponent(t._id),l=m.assign({method:"PUT",url:a,body:t,headers:u(e)},n.ajax||{});y(l,c(r))}var d=r(e(15)),p=r(e(16)),h=r(e(5)),v=e(9),y=r(e(7)),m=e(11),g=r(e(10));h(f,Error);var w=m.toPromise(function(e,t){void 0===t&&(t=e,e={});var n=o(this)+"/_membership",r=m.assign({method:"GET",url:n,headers:u(this)},e.ajax||{});y(r,c(t))}),b=m.toPromise(function(e,t,n,r){var o=this;return void 0===r&&(r=void 0===n?void 0===t?e:t:n,n={}),-1===["http","https"].indexOf(o.type())?r(new f('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?t?void o.getMembership(n,function(s,a){var f;if(s){if("illegal_database_name"!==s.error)return r(s);f=void 0}else f=a.all_nodes[0];var l=i(o,f),d=(n.configUrl||l)+"/admins/"+encodeURIComponent(e),p=m.assign({method:"PUT",url:d,processData:!1,headers:u(o),body:'"'+t+'"'},n.ajax||{});y(p,c(r))}):r(new f("You must provide a password")):r(new f("You must provide a username"))}),_=m.toPromise(function(e,t,n){var r=this;return void 0===n&&(n=void 0===t?e:t,t={}),-1===["http","https"].indexOf(r.type())?n(new f('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?void r.getMembership(t,function(o,s){var a;if(o){if("illegal_database_name"!==o.error)return n(o);a=void 0}else a=s.all_nodes[0];var f=i(r,a),l=(t.configUrl||f)+"/admins/"+encodeURIComponent(e),d=m.assign({method:"DELETE",url:l,processData:!1,headers:u(r)},t.ajax||{});y(d,c(n))}):n(new f("You must provide a username"))}),E=m.toPromise(function(e,t,n,r){if(void 0===r&&(r=n,n={}),-1===["http","https"].indexOf(this.type()))return r(new f("this plugin only works for the http/https adapter"));if(!e)return r(new f("you must provide a username"));if(!t)return r(new f("you must provide a password"));var o=m.assign({method:"POST",url:a(this),headers:m.assign({"Content-Type":"application/json"},u(this)),body:{name:e,password:t}},n.ajax||{});y(o,c(r))}),j=m.toPromise(function(e,t){void 0===t&&(t=e,e={});var n=m.assign({method:"DELETE",url:a(this),headers:u(this)},e.ajax||{});y(n,c(t))}),O=m.toPromise(function(e,t){void 0===t&&(t=e,e={});var n=a(this),r=m.assign({method:"GET",url:n,headers:u(this)},e.ajax||{});y(r,c(t))}),S=m.toPromise(function(e,t,n,r){if(void 0===r&&(r=void 0===n?void 0===t?e:t:n,n={}),-1===["http","https"].indexOf(this.type()))return r(new f('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.'));if(!e)return r(new f("You must provide a username"));if(!t)return r(new f("You must provide a password"));l(this,{name:e,password:t,roles:[],type:"user",_id:"org.couchdb.user:"+e},n,r)}),x=m.toPromise(function(e,t,n){if(void 0===n&&(n=void 0===t?e:t,t={}),!e)return n(new f("you must provide a username"));var r=s(this),o=m.assign({method:"GET",url:r+"/"+encodeURIComponent("org.couchdb.user:"+e),headers:u(this)},t.ajax||{});y(o,c(n))}),A=m.toPromise(function(e,t,n){var r=this;return void 0===n&&(n=void 0===t?e:t,t={}),-1===["http","https"].indexOf(r.type())?n(new f('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?void r.getUser(e,t,function(e,o){if(e)return n(e);l(r,o,t,n)}):n(new f("You must provide a username"))}),T=m.toPromise(function(e,t,n){var r=this;return void 0===n&&(n=void 0===t?e:t,t={}),-1===["http","https"].indexOf(r.type())?n(new f('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?void r.getUser(e,t,function(e,o){if(e)return n(e);var i=s(r)+"/"+encodeURIComponent(o._id)+"?rev="+o._rev,a=m.assign({method:"DELETE",url:i,headers:u(r)},t.ajax||{});y(a,c(n))}):n(new f("You must provide a username"))}),C=m.toPromise(function(e,t,n,r){var o=this;return void 0===r&&(r=void 0===n?void 0===t?e:t:n,n={}),-1===["http","https"].indexOf(o.type())?r(new f('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?t?void o.getUser(e,n,function(e,i){if(e)return r(e);i.password=t;var a=s(o)+"/"+encodeURIComponent(i._id),f=m.assign({method:"PUT",url:a,headers:u(o),body:i},n.ajax||{});y(f,c(r))}):r(new f("You must provide a password")):r(new f("You must provide a username"))}),R=m.toPromise(function(e,t,n,r){var o=this,i=function(e,t){var n=s(o)+"/"+encodeURIComponent(e._id);return function(e){return new g(function(t,n){y(e,c(function(e,r){if(e)return n(e);t(r)}))})}(m.assign({method:"PUT",url:n,headers:u(o),body:e},t.ajax))};return void 0===r&&(r=n,n={}),n.ajax=n.ajax||{},-1===["http","https"].indexOf(o.type())?r(new f('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):t?e?void o.getUser(t,n).then(function(){var e=new f("user already exists");throw e.taken=!0,e},function(){return o.getUser(e,n)}).then(function(e){var r=m.clone(e);return delete r._rev,r._id="org.couchdb.user:"+t,r.name=t,r.roles=n.roles||e.roles||{},i(r,n).then(function(){return e._deleted=!0,i(e,n)})}).then(function(e){r(null,e)}).catch(r):r(new f("You must provide a username to rename")):r(new f("You must provide a new username"))}),B={};B.login=E,B.logIn=E,B.logout=j,B.logOut=j,B.getSession=O,B.getMembership=w,B.signUpAdmin=b,B.deleteAdmin=_,B.getUsersDatabaseUrl=function(){return s(this)},B.signup=S,B.signUp=S,B.getUser=x,B.putUser=A,B.deleteUser=T,B.changePassword=C,B.changeUsername=R,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(B),t.exports=B},{10:10,11:11,15:15,16:16,5:5,7:7,9:9}],2:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},{}],3:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,a,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),r=(c=n.slice()).length,u=0;u<r;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,s,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],4:[function(e,t,n){(function(e){"use strict";function n(){c=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}c=!1}var r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,s=new o(n),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var u=new e.MessageChannel;u.port1.onmessage=n,r=function(){u.port2.postMessage(0)}}var c,f=[];t.exports=function(e){1!==f.push(e)||c||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],6:[function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){f(function(){var r;try{r=t(n)}catch(t){return l.reject(e,t)}r===e?l.reject(e,new TypeError("Cannot resolve promise with itself")):l.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){o||(o=!0,l.reject(e,t))}function r(t){o||(o=!0,l.resolve(e,t))}var o=!1,i=c(function(){t(r,n)});"error"===i.status&&n(i.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}var f=e(4),l={},d=["REJECTED"],p=["FULFILLED"],h=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===p||"function"!=typeof t&&this.state===d)return this;var n=new this.constructor(r);if(this.state!==h){s(n,this.state===p?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){l.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},l.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return l.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=p,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},l.reject=function(e,t){e.state=d,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=function(e){return e instanceof this?e:l.resolve(new this(r),e)},o.reject=function(e){var t=new this(r);return l.reject(t,e)},o.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),s=0,a=-1,u=new this(r);++a<n;)!function(e,r){t.resolve(e).then(function(e){i[r]=e,++s!==n||o||(o=!0,l.resolve(u,i))},function(e){o||(o=!0,l.reject(u,e))})}(e[a],a);return u},o.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,s=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,l.resolve(s,e))},function(e){o||(o=!0,l.reject(s,e))})}(e[i]);return s}},{4:4}],7:[function(e,t,n){"use strict";function r(e,t){var n,r,o,i=new Headers,s={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?s.body=JSON.stringify(e.body):s.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=function(){for(var e={},t=new a(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,a.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}(e.url,s),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function o(e,t){return f||e.xhr?function(e,t){var n,r,o=!1,i=function(){o=!0,n.abort(),a()},s={abort:function(){n.abort(),a()}},a=function(){clearTimeout(r),s.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(i,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(i,e.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?u.blob([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var s={};if(o)(s=new Error("ETIMEDOUT")).code="ETIMEDOUT";else if("string"==typeof n.response)try{s=JSON.parse(n.response)}catch(e){}s.status=n.status,t(s)}a()}},e.body&&e.body instanceof Blob?u.readAsArrayBuffer(e.body,function(e){n.send(e)}):n.send(e.body),s}(e,t):r(e,t)}function i(e,t){e=s.clone(e);return(e=s.assign({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e)).json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),o(e,function(n,r,o){if(n)return t(c.generateErrorFromResponse(n));var i,s=r.headers&&r.headers["content-type"],a=o||"";if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof a&&(/json/.test(s)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(e){}r.statusCode>=200&&r.statusCode<300?function(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?c.generateErrorFromResponse(e):e})),e.binary,r(null,t,n)}(a,r,t):((i=c.generateErrorFromResponse(a)).status=r.statusCode,t(i))})}var s=e(11),a=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(e(10)),u=e(9),c=e(8),f=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}();t.exports=function(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),s=-1!==n.indexOf("trident"),a=-1!==n.indexOf("edge"),u=r||(o||s||a)&&"GET"===e.method,c=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(u||!c)){var f=-1!==e.url.indexOf("?");e.url+=(f?"&":"?")+"_nonce="+Date.now()}return i(e,t)}},{10:10,11:11,8:8,9:9}],8:[function(e,t,n){"use strict";function r(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}Object.defineProperty(n,"__esModule",{value:!0});(function(e){return e&&"object"==typeof e&&"default"in e?e.default:e})(e(5))(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var o=new r(401,"unauthorized","Name or password is incorrect."),i=new r(400,"bad_request","Missing JSON list of 'docs'"),s=new r(404,"not_found","missing"),a=new r(409,"conflict","Document update conflict"),u=new r(400,"bad_request","_id field must contain a string"),c=new r(412,"missing_id","_id is required for puts"),f=new r(400,"bad_request","Only reserved document ids may start with underscore."),l=new r(412,"precondition_failed","Database not open"),d=new r(500,"unknown_error","Database encountered an unknown error"),p=new r(500,"badarg","Some query argument is invalid"),h=new r(400,"invalid_request","Request was invalid"),v=new r(400,"query_parse_error","Some query parameter is invalid"),y=new r(500,"doc_validation","Bad special document member"),m=new r(400,"bad_request","Something wrong with the request"),g=new r(400,"bad_request","Document must be a JSON object"),w=new r(404,"not_found","Database not found"),b=new r(500,"indexed_db_went_bad","unknown"),_=new r(500,"web_sql_went_bad","unknown"),E=new r(500,"levelDB_went_went_bad","unknown"),j=new r(403,"forbidden","Forbidden by design doc validate_doc_update function"),O=new r(400,"bad_request","Invalid rev format"),S=new r(412,"file_exists","The database could not be created, the file already exists."),x=new r(412,"missing_stub","A pre-existing attachment stub wasn't found"),A=new r(413,"invalid_url","Provided URL is invalid");n.UNAUTHORIZED=o,n.MISSING_BULK_DOCS=i,n.MISSING_DOC=s,n.REV_CONFLICT=a,n.INVALID_ID=u,n.MISSING_ID=c,n.RESERVED_ID=f,n.NOT_OPEN=l,n.UNKNOWN_ERROR=d,n.BAD_ARG=p,n.INVALID_REQUEST=h,n.QUERY_PARSE_ERROR=v,n.DOC_VALIDATION=y,n.BAD_REQUEST=m,n.NOT_AN_OBJECT=g,n.DB_MISSING=w,n.WSQ_ERROR=_,n.LDB_ERROR=E,n.FORBIDDEN=j,n.INVALID_REV=O,n.FILE_EXISTS=S,n.MISSING_STUB=x,n.IDB_ERROR=b,n.INVALID_URL=A,n.createError=function(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=r.prototype,new n(t)},n.generateErrorFromResponse=function(e){if("object"!=typeof e){var t=e;(e=d).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}},{5:5}],9:[function(e,t,n){"use strict";function r(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function o(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function i(e,t){return r([o(e)],{type:t})}function s(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function a(e,t){if("undefined"==typeof FileReader)return t(s((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(s(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function u(e,t){a(e,function(e){t(e)})}Object.defineProperty(n,"__esModule",{value:!0});var c=function(e){return atob(e)},f=function(e){return btoa(e)};n.atob=c,n.btoa=f,n.base64StringToBlobOrBuffer=function(e,t){return i(c(e),t)},n.binaryStringToArrayBuffer=o,n.binaryStringToBlobOrBuffer=i,n.blob=r,n.blobOrBufferToBase64=function(e,t){u(e,function(e){t(f(e))})},n.blobOrBufferToBinaryString=u,n.readAsArrayBuffer=function(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)},n.readAsBinaryString=a,n.typedBuffer=function(){}},{}],10:[function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(e(6)),o="function"==typeof Promise?Promise:r;t.exports=o},{6:6}],11:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function i(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=i(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return o(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&C.call(n)==R}(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=i(e[n]);void 0!==s&&(t[n]=s)}return t}function s(e){var t=!1;return j(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function a(e){return j(function(t){var n=this,r="function"==typeof(t=i(t))[t.length-1]&&t.pop(),o=new E(function(r,o){var i;try{var a=s(function(e,t){e?o(e):r(t)});t.push(a),(i=e.apply(n,t))&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function u(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function c(e){return e}function f(e){return[{ok:e}]}function l(e,t,n){function r(){++l===a&&function(){var e=[];d.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}()}function o(){if(!(h>=p.length)){var n=Math.min(h+B,p.length),i=p.slice(h,n);!function(n,i){n.forEach(function(n,a){var l=i+a,p=s.get(n),h=u(p[0],["atts_since","attachments"]);h.open_revs=p.map(function(e){return e.rev}),h.open_revs=h.open_revs.filter(c);var v=c;0===h.open_revs.length&&(delete h.open_revs,v=f),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(h[e]=t[e])}),e.get(n,h,function(e,t){var i;i=e?[{error:e}]:v(t),function(e,t,n){d[e]={id:t,docs:n},r()}(l,n,i),o()})})}(i,h),h+=i.length}}var i=t.docs,s=new O.Map;i.forEach(function(e){s.has(e.id)?s.get(e.id).push(e):s.set(e.id,[e])});var a=s.size,l=0,d=new Array(a),p=[];s.forEach(function(e,t){p.push(t)});var h=0;o()}function d(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function p(){return b}function h(){S.EventEmitter.call(this),this._listeners={},function(e){d()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):p()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}(this)}function v(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function y(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function m(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&function(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return T.createError(T.BAD_REQUEST,r)}}(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function g(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function w(e,t,n){return new E(function(r,o){e.get(t,function(i,s){if(i){if(404!==i.status)return o(i);s={}}var a=s._rev,u=n(s);if(!u)return r({updated:!1,rev:a});u._id=t,u._rev=a,r(function(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return w(e,t._id,n)})}(e,u,n))})})}Object.defineProperty(n,"__esModule",{value:!0});var b,_=r(e(18)),E=r(e(10)),j=r(e(2)),O=e(12),S=e(3),x=r(e(5)),A=r(e(4)),T=e(13),C=Function.prototype.toString,R=C.call(Object),B=6;if(d())b=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),b=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){b=!1}x(h,S.EventEmitter),h.prototype.addListener=function(e,t,n,r){function o(){if(i._listeners[t])if(s)s="waiting";else{s=!0;var e=u(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&A(o),s=!1}).on("error",function(){s=!1})}}if(!this._listeners[t]){var i=this,s=!1;this._listeners[t]=o,this.on(e,o)}},h.prototype.removeListener=function(e,t){t in this._listeners&&(S.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},h.prototype.notifyLocalWindows=function(e){d()?chrome.storage.local.set({dbName:e}):p()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},h.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var D,L,I=D="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},U=L=function(){}.name?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]},P=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],k="queryKey",q=/(?:^|&)([^&=]*)=?([^&]*)/g,N=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,M=_.v4;n.adapterFun=function(e,t){return a(j(function(n){if(this._closed)return E.reject(new Error("database is closed"));if(this._destroyed)return E.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);e.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",e.name,t];o=o.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",o),i(n,r)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new E(function(t,o){r.taskqueue.addTask(function(i){i?o(i):t(r[e].apply(r,n))})})}))},n.assign=I,n.bulkGetShim=l,n.changesHandler=h,n.clone=i,n.defaultBackOff=y,n.explainError=function(e,t){v("info","The above "+e+" is totally normal. "+t)},n.filterChange=m,n.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},n.functionName=U,n.guardedConsole=v,n.hasLocalStorage=p,n.invalidIdError=function(e){var t;if(e?"string"!=typeof e?t=T.createError(T.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T.createError(T.RESERVED_ID)):t=T.createError(T.MISSING_ID),t)throw t},n.isChromeApp=d,n.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},n.isRemote=function(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(v("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())},n.listenerCount=function(e,t){return"listenerCount"in e?e.listenerCount(t):S.EventEmitter.listenerCount(e,t)},n.nextTick=A,n.normalizeDdocFunctionName=function(e){var t=g(e);return t?t.join("/"):null},n.once=s,n.parseDdocFunctionName=g,n.parseUri=function(e){for(var t=N.exec(e),n={},r=14;r--;){var o=P[r],i=t[r]||"",s=-1!==["user","password"].indexOf(o);n[o]=s?decodeURIComponent(i):i}return n[k]={},n[P[12]].replace(q,function(e,t,r){t&&(n[k][t]=r)}),n},n.pick=u,n.rev=function(){return _.v4().replace(/-/g,"").toLowerCase()},n.scopeEval=function(e,t){var n=[],r=[];for(var o in t)t.hasOwnProperty(o)&&(n.push(o),r.push(t[o]));return n.push(e),Function.apply(null,n).apply(null,r)},n.toPromise=a,n.upsert=w,n.uuid=M},{10:10,12:12,13:13,18:18,2:2,3:3,4:4,5:5}],12:[function(e,t,n){"use strict";function r(e){return"$"+e}function o(e){return e.substring(1)}function i(){this._store={}}function s(e){if(this._store=new i,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i.prototype.get=function(e){var t=r(e);return this._store[t]},i.prototype.set=function(e,t){var n=r(e);return this._store[n]=t,!0},i.prototype.has=function(e){return r(e)in this._store},i.prototype.delete=function(e){var t=r(e),n=t in this._store;return delete this._store[t],n},i.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n];e(this._store[i],i=o(i))}},Object.defineProperty(i.prototype,"size",{get:function(){return Object.keys(this._store).length}}),s.prototype.add=function(e){return this._store.set(e,!0)},s.prototype.has=function(e){return this._store.has(e)},s.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(s.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(n.Set=s,n.Map=i):(n.Set=Set,n.Map=Map)},{}],13:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{5:5,8:8}],14:[function(e,t,n){"use strict";function r(e){return decodeURIComponent(e.replace(/\+/g," "))}var o=Object.prototype.hasOwnProperty;n.stringify=function(e,t){var n=[];"string"!=typeof(t=t||"")&&(t="?");for(var r in e)o.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""},n.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);o[r(t[1])]=r(t[2]));return o}},{}],15:[function(e,t,n){!function(e,n,r){void 0!==t&&t.exports?t.exports=r():n.urljoin=r()}(0,this,function(){return function(){var e;return e="object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments),function(e){var t=[];if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<e.length;r++){var o=e[r];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(r>0&&(o=o.replace(/^[\/]+/,"")),o=r<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/"),s=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return i=s.shift()+(s.length>0?"?":"")+s.join("&")}(e)}})},{}],16:[function(e,t,n){(function(n){"use strict";function r(e){var t,r={},o=typeof(e=e||n.location||{});if("blob:"===e.protocol)r=new i(unescape(e.pathname),{});else if("string"===o){r=new i(e,{});for(t in l)delete r[t]}else if("object"===o){for(t in e)t in l||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=c.test(e.href))}return r}function o(e){var t=u.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var u,c,l,d,p,h,v=f.slice(),y=typeof t,m=this,g=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=r(t),u=!(c=o(e||"")).protocol&&!c.slashes,m.slashes=c.slashes||u&&t.slashes,m.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(v[2]=[/(.*)/,"pathname"]);g<v.length;g++)l=(d=v[g])[0],h=d[1],l!=l?m[h]=e:"string"==typeof l?~(p=e.indexOf(l))&&("number"==typeof d[2]?(m[h]=e.slice(0,p),e=e.slice(p+d[2])):(m[h]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(m[h]=p[1],e=e.slice(0,p.index)),m[h]=m[h]||(u&&d[3]?t[h]||"":""),d[4]&&(m[h]=m[h].toLowerCase());n&&(m.query=n(m.query)),u&&t.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==t.pathname)&&(m.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(i=!0),n.splice(r,1),s--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(m.pathname,t.pathname)),s(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(d=m.auth.split(":"),m.username=d[0]||"",m.password=d[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}var s=e(17),a=e(14),u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};i.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||a.parse)(t)),r[e]=t;break;case"port":r[e]=t,s(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;default:r[e]=t}for(var i=0;i<f.length;i++){var u=f[i];u[4]&&(r[u[1]]=r[u[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},i.extractProtocol=o,i.location=r,i.qs=a,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14,17:17}],17:[function(e,t,n){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],18:[function(e,t,n){var r=e(21),o=e(22),i=o;i.v1=r,i.v4=o,t.exports=i},{21:21,22:22}],19:[function(e,t,n){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}},{}],20:[function(e,t,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){var r=e(20),o=e(19),i=r(),s=[1|i[0],i[1],i[2],i[3],i[4],i[5]],a=16383&(i[6]<<8|i[7]),u=0,c=0;t.exports=function(e,t,n){var r=t&&n||0,i=t||[],f=void 0!==(e=e||{}).clockseq?e.clockseq:a,l=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:c+1,p=l-u+(d-c)/1e4;if(p<0&&void 0===e.clockseq&&(f=f+1&16383),(p<0||l>u)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=l,c=d,a=f;var h=(1e4*(268435455&(l+=122192928e5))+d)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var v=l/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=f>>>8|128,i[r++]=255&f;for(var y=e.node||s,m=0;m<6;++m)i[r+m]=y[m];return t||o(i)}},{19:19,20:20}],22:[function(e,t,n){var r=e(20),o=e(19);t.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},{19:19,20:20}]},{},[1])(1)})